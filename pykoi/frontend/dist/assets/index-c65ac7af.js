(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function L(){}const ds=e=>e;function pn(e,t){for(const n in t)e[n]=t[n];return e}function gs(e){return e()}function Wr(){return Object.create(null)}function _e(e){e.forEach(gs)}function Le(e){return typeof e=="function"}function ae(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Va(e){return Object.keys(e).length===0}function mr(e,...t){if(e==null)return L;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function za(e){let t;return mr(e,n=>t=n)(),t}function ie(e,t,n){e.$$.on_destroy.push(mr(t,n))}function xo(e,t,n,r){if(e){const o=hs(e,t,n,r);return e[0](o)}}function hs(e,t,n,r){return e[1]&&r?pn(n.ctx.slice(),e[1](r(t))):n.ctx}function Vo(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const i=[],l=Math.max(t.dirty.length,o.length);for(let a=0;a<l;a+=1)i[a]=t.dirty[a]|o[a];return i}return t.dirty|o}return t.dirty}function zo(e,t,n,r,o,i){if(o){const l=hs(t,n,r,i);e.p(l,o)}}function Lo(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function Ho(e){return e??""}function He(e,t,n){return e.set(n),t}function mn(e){return e&&Le(e.destroy)?e.destroy:L}const ps=typeof window<"u";let ms=ps?()=>window.performance.now():()=>Date.now(),bo=ps?e=>requestAnimationFrame(e):L;const Lt=new Set;function _s(e){Lt.forEach(t=>{t.c(e)||(Lt.delete(t),t.f())}),Lt.size!==0&&bo(_s)}function vs(e){let t;return Lt.size===0&&bo(_s),{promise:new Promise(n=>{Lt.add(t={c:e,f:n})}),abort(){Lt.delete(t)}}}let _r=!1;function La(){_r=!0}function Ha(){_r=!1}function qa(e,t,n,r){for(;e<t;){const o=e+(t-e>>1);n(o)<=r?e=o+1:t=o}return e}function Ga(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const s=[];for(let u=0;u<t.length;u++){const f=t[u];f.claim_order!==void 0&&s.push(f)}t=s}const n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let o=0;for(let s=0;s<t.length;s++){const u=t[s].claim_order,f=(o>0&&t[n[o]].claim_order<=u?o+1:qa(1,o,g=>t[n[g]].claim_order,u))-1;r[s]=n[f]+1;const c=f+1;n[c]=s,o=Math.max(c,o)}const i=[],l=[];let a=t.length-1;for(let s=n[o]+1;s!=0;s=r[s-1]){for(i.push(t[s-1]);a>=s;a--)l.push(t[a]);a--}for(;a>=0;a--)l.push(t[a]);i.reverse(),l.sort((s,u)=>s.claim_order-u.claim_order);for(let s=0,u=0;s<l.length;s++){for(;u<i.length&&l[s].claim_order>=i[u].claim_order;)u++;const f=u<i.length?i[u]:null;e.insertBefore(l[s],f)}}function v(e,t){e.appendChild(t)}function bs(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ba(e){const t=C("style");return ja(bs(e),t),t.sheet}function ja(e,t){return v(e.head||e,t),t.sheet}function Ua(e,t){if(_r){for(Ga(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentNode!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function Wa(e,t,n){_r&&!n?Ua(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function Ce(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function W(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function z(e){return document.createTextNode(e)}function F(){return z(" ")}function Ee(){return z("")}function H(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Xa(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Ya(e){return function(t){t.target===this&&e.call(this,t)}}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Qa(e){return Array.from(e.childNodes)}function Ka(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function Ja(e,t,n,r,o=!1){Ka(e);const i=(()=>{for(let l=e.claim_info.last_index;l<e.length;l++){const a=e[l];if(t(a)){const s=n(a);return s===void 0?e.splice(l,1):e[l]=s,o||(e.claim_info.last_index=l),a}}for(let l=e.claim_info.last_index-1;l>=0;l--){const a=e[l];if(t(a)){const s=n(a);return s===void 0?e.splice(l,1):e[l]=s,o?s===void 0&&e.claim_info.last_index--:e.claim_info.last_index=l,a}}return r()})();return i.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,i}function Za(e,t){return Ja(e,n=>n.nodeType===3,n=>{const r=""+t;if(n.data.startsWith(r)){if(n.data.length!==r.length)return n.splitText(r.length)}else n.data=r},()=>z(t),!0)}function ne(e,t){t=""+t,e.data!==t&&(e.data=t)}function We(e,t){e.value=t??""}function Ie(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Wn(e,t,n){for(let r=0;r<e.options.length;r+=1){const o=e.options[r];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function ws(e){const t=e.querySelector(":checked");return t&&t.__value}let Rn;function eu(){if(Rn===void 0){Rn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Rn=!0}}return Rn}function Ft(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=C("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const o=eu();let i;return o?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=H(window,"message",l=>{l.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{i=H(r.contentWindow,"resize",t),t()}),v(e,r),()=>{(o||i&&r.contentWindow)&&i(),N(r)}}function nn(e,t,n){e.classList[n?"add":"remove"](t)}function tu(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}function bt(e,t){return new e(t)}const Xn=new Map;let Yn=0;function nu(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function ru(e,t){const n={stylesheet:Ba(t),rules:{}};return Xn.set(e,n),n}function qo(e,t,n,r,o,i,l,a=0){const s=16.666/r;let u=`{
`;for(let _=0;_<=1;_+=s){const w=t+(n-t)*i(_);u+=_*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${nu(f)}_${a}`,g=bs(e),{stylesheet:d,rules:p}=Xn.get(g)||ru(g,e);p[c]||(p[c]=!0,d.insertRule(`@keyframes ${c} ${f}`,d.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${c} ${r}ms linear ${o}ms 1 both`,Yn+=1,c}function ou(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Yn-=o,Yn||iu())}function iu(){bo(()=>{Yn||(Xn.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&N(t)}),Xn.clear())})}let jt;function At(e){jt=e}function lu(){if(!jt)throw new Error("Function called outside component initialization");return jt}function dt(e){lu().$$.on_mount.push(e)}function su(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Ot=[],ot=[];let Ht=[];const Xr=[],au=Promise.resolve();let Yr=!1;function uu(){Yr||(Yr=!0,au.then(ys))}function Re(e){Ht.push(e)}function Qn(e){Xr.push(e)}const Cr=new Set;let It=0;function ys(){if(It!==0)return;const e=jt;do{try{for(;It<Ot.length;){const t=Ot[It];It++,At(t),fu(t.$$)}}catch(t){throw Ot.length=0,It=0,t}for(At(null),Ot.length=0,It=0;ot.length;)ot.pop()();for(let t=0;t<Ht.length;t+=1){const n=Ht[t];Cr.has(n)||(Cr.add(n),n())}Ht.length=0}while(Ot.length);for(;Xr.length;)Xr.pop()();Yr=!1,Cr.clear(),At(e)}function fu(e){if(e.fragment!==null){e.update(),_e(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Re)}}function cu(e){const t=[],n=[];Ht.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Ht=t}let Jt;function du(){return Jt||(Jt=Promise.resolve(),Jt.then(()=>{Jt=null})),Jt}function kr(e,t,n){e.dispatchEvent(tu(`${t?"intro":"outro"}${n}`))}const Ln=new Set;let at;function pe(){at={r:0,c:[],p:at}}function me(){at.r||_e(at.c),at=at.p}function P(e,t){e&&e.i&&(Ln.delete(e),e.i(t))}function O(e,t,n,r){if(e&&e.o){if(Ln.has(e))return;Ln.add(e),at.c.push(()=>{Ln.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const gu={duration:0};function et(e,t,n,r){const o={direction:"both"};let i=t(e,n,o),l=r?0:1,a=null,s=null,u=null;function f(){u&&ou(e,u)}function c(d,p){const m=d.b-l;return p*=Math.abs(m),{a:l,b:d.b,d:m,duration:p,start:d.start,end:d.start+p,group:d.group}}function g(d){const{delay:p=0,duration:m=300,easing:_=ds,tick:w=L,css:b}=i||gu,A={start:ms()+p,b:d};d||(A.group=at,at.r+=1),a||s?s=A:(b&&(f(),u=qo(e,l,d,m,p,_,b)),d&&w(0,1),a=c(A,m),Re(()=>kr(e,d,"start")),vs(R=>{if(s&&R>s.start&&(a=c(s,m),s=null,kr(e,a.b,"start"),b&&(f(),u=qo(e,l,a.b,a.duration,0,_,i.css))),a){if(R>=a.end)w(l=a.b,1-l),kr(e,a.b,"end"),s||(a.b?f():--a.group.r||_e(a.group.c)),a=null;else if(R>=a.start){const $=R-a.start;l=a.a+a.d*_($/a.duration),w(l,1-l)}}return!!(a||s)}))}return{run(d){Le(i)?du().then(()=>{i=i(o),g(d)}):g(d)},end(){f(),a=s=null}}}function vr(e,t){e.d(1),t.delete(e.key)}function Ss(e,t){O(e,1,1,()=>{t.delete(e.key)})}function Qt(e,t,n,r,o,i,l,a,s,u,f,c){let g=e.length,d=i.length,p=g;const m={};for(;p--;)m[e[p].key]=p;const _=[],w=new Map,b=new Map,A=[];for(p=d;p--;){const S=c(o,i,p),k=n(S);let y=l.get(k);y?r&&A.push(()=>y.p(S,t)):(y=u(k,S),y.c()),w.set(k,_[p]=y),k in m&&b.set(k,Math.abs(p-m[k]))}const R=new Set,$=new Set;function M(S){P(S,1),S.m(a,f),l.set(S.key,S),f=S.first,d--}for(;g&&d;){const S=_[d-1],k=e[g-1],y=S.key,E=k.key;S===k?(f=S.first,g--,d--):w.has(E)?!l.has(y)||R.has(y)?M(S):$.has(E)?g--:b.get(y)>b.get(E)?($.add(y),M(S)):(R.add(E),g--):(s(k,l),g--)}for(;g--;){const S=e[g];w.has(S.key)||s(S,l)}for(;d;)M(_[d-1]);return _e(A),_}function Cs(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const l=e[i],a=t[i];if(a){for(const s in l)s in a||(r[s]=1);for(const s in a)o[s]||(n[s]=a[s],o[s]=1);e[i]=a}else for(const s in l)o[s]=1}for(const l in r)l in n||(n[l]=void 0);return n}function ks(e){return typeof e=="object"&&e!==null?e:{}}const hu=/[&"]/g,pu=/[&<]/g;function mu(e,t=!1){const n=String(e),r=t?hu:pu;r.lastIndex=0;let o="",i=0;for(;r.test(n);){const l=r.lastIndex-1,a=n[l];o+=n.substring(i,l)+(a==="&"?"&amp;":a==='"'?"&quot;":"&lt;"),i=l+1}return o+n.substring(i)}function _u(e,t){if(!e||!e.$$render)throw t==="svelte:component"&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${t}>.`);return e}let $r;function $s(e){function t(n,r,o,i,l){const a=jt,s={on_destroy:$r,context:new Map(l||(a?a.$$.context:[])),on_mount:[],before_update:[],after_update:[],callbacks:Wr()};At({$$:s});const u=e(n,r,o,i);return At(a),u}return{render:(n={},{$$slots:r={},context:o=new Map}={})=>{$r=[];const i={title:"",head:"",css:new Set},l=t(i,n,{},r,o);return _e($r),{html:l,css:{code:Array.from(i.css).map(a=>a.code).join(`
`),map:null},head:i.title+i.head}},$$render:t}}function Kn(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function te(e){e&&e.c()}function vu(e,t){e&&e.l(t)}function Q(e,t,n,r){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),r||Re(()=>{const l=e.$$.on_mount.map(gs).filter(Le);e.$$.on_destroy?e.$$.on_destroy.push(...l):_e(l),e.$$.on_mount=[]}),i.forEach(Re)}function K(e,t){const n=e.$$;n.fragment!==null&&(cu(n.after_update),_e(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function bu(e,t){e.$$.dirty[0]===-1&&(Ot.push(e),uu(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(e,t,n,r,o,i,l,a=[-1]){const s=jt;At(e);const u=e.$$={fragment:null,ctx:[],props:i,update:L,not_equal:o,bound:Wr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Wr(),dirty:a,skip_bound:!1,root:t.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(c,g,...d)=>{const p=d.length?d[0]:g;return u.ctx&&o(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&bu(e,c)),g}):[],u.update(),f=!0,_e(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){La();const c=Qa(t.target);u.fragment&&u.fragment.l(c),c.forEach(N)}else u.fragment&&u.fragment.c();t.intro&&P(e.$$.fragment),Q(e,t.target,t.anchor,t.customElement),Ha(),ys()}At(s)}class ue{$destroy(){K(this,1),this.$destroy=L}$on(t,n){if(!Le(n))return L;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Va(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Nt=[];function Qr(e,t){return{subscribe:Fe(e,t).subscribe}}function Fe(e,t=L){let n;const r=new Set;function o(a){if(ae(e,a)&&(e=a,n)){const s=!Nt.length;for(const u of r)u[1](),Nt.push(u,e);if(s){for(let u=0;u<Nt.length;u+=2)Nt[u][0](Nt[u+1]);Nt.length=0}}}function i(a){o(a(e))}function l(a,s=L){const u=[a,s];return r.add(u),r.size===1&&(n=t(o)||L),a(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:l}}function wu(e,t,n){const r=!Array.isArray(e),o=r?[e]:e,i=t.length<2;return Qr(n,l=>{let a=!1;const s=[];let u=0,f=L;const c=()=>{if(u)return;f();const d=t(r?s[0]:s,l);i?l(d):f=Le(d)?d:L},g=o.map((d,p)=>mr(d,m=>{s[p]=m,u&=~(1<<p),a&&c()},()=>{u|=1<<p}));return a=!0,c(),function(){_e(g),f(),a=!1}})}function wo(e){const t=e-1;return t*t*t+1}function Go(e){return Object.prototype.toString.call(e)==="[object Date]"}function Kr(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((o,i)=>Kr(e[i],o));return o=>r.map(i=>i(o))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Go(e)&&Go(t)){e=e.getTime(),t=t.getTime();const i=t-e;return l=>new Date(e+l*i)}const r=Object.keys(t),o={};return r.forEach(i=>{o[i]=Kr(e[i],t[i])}),i=>{const l={};return r.forEach(a=>{l[a]=o[a](i)}),l}}if(n==="number"){const r=t-e;return o=>e+o*r}throw new Error(`Cannot interpolate ${n} values`)}function yo(e,t={}){const n=Fe(e);let r,o=e;function i(l,a){if(e==null)return n.set(e=l),Promise.resolve();o=l;let s=r,u=!1,{delay:f=0,duration:c=400,easing:g=ds,interpolate:d=Kr}=pn(pn({},t),a);if(c===0)return s&&(s.abort(),s=null),n.set(e=o),Promise.resolve();const p=ms()+f;let m;return r=vs(_=>{if(_<p)return!0;u||(m=d(e,l),typeof c=="function"&&(c=c(e,l)),u=!0),s&&(s.abort(),s=null);const w=_-p;return w>c?(n.set(e=l),!1):(n.set(e=m(g(w/c))),!0)}),r.promise}return{set:i,update:(l,a)=>i(l(o,e),a),subscribe:n.subscribe}}const Ve=Fe([]),Ar=Fe([]),Rr=Fe([]),_n=Fe([]),it=Fe("all"),Bo=Fe({"n/a":1,up:1,down:1}),yu=["who","what","how","why","where","does","can","n/a"],Jr=yo(yu.map(e=>({question:e,count:0}))),Zr=Fe(new Set);var eo="http://www.w3.org/1999/xhtml";const jo={svg:"http://www.w3.org/2000/svg",xhtml:eo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function As(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),jo.hasOwnProperty(t)?{space:jo[t],local:e}:e}function Su(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===eo&&t.documentElement.namespaceURI===eo?t.createElement(e):t.createElementNS(n,e)}}function Cu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Rs(e){var t=As(e);return(t.local?Cu:Su)(t)}function ku(){}function Ms(e){return e==null?ku:function(){return this.querySelector(e)}}function $u(e){typeof e!="function"&&(e=Ms(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,a=r[o]=new Array(l),s,u,f=0;f<l;++f)(s=i[f])&&(u=e.call(s,s.__data__,f,i))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new qe(r,this._parents)}function Es(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Au(){return[]}function Ru(e){return e==null?Au:function(){return this.querySelectorAll(e)}}function Mu(e){return function(){return Es(e.apply(this,arguments))}}function Eu(e){typeof e=="function"?e=Mu(e):e=Ru(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var l=t[i],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(r.push(e.call(s,s.__data__,u,l)),o.push(s));return new qe(r,o)}function Fu(e){return function(){return this.matches(e)}}function Fs(e){return function(t){return t.matches(e)}}var Du=Array.prototype.find;function Iu(e){return function(){return Du.call(this.children,e)}}function Nu(){return this.firstElementChild}function Pu(e){return this.select(e==null?Nu:Iu(typeof e=="function"?e:Fs(e)))}var Tu=Array.prototype.filter;function Ou(){return Array.from(this.children)}function xu(e){return function(){return Tu.call(this.children,e)}}function Vu(e){return this.selectAll(e==null?Ou:xu(typeof e=="function"?e:Fs(e)))}function zu(e){typeof e!="function"&&(e=Fu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,a=r[o]=[],s,u=0;u<l;++u)(s=i[u])&&e.call(s,s.__data__,u,i)&&a.push(s);return new qe(r,this._parents)}function Ds(e){return new Array(e.length)}function Lu(){return new qe(this._enter||this._groups.map(Ds),this._parents)}function Jn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Jn.prototype={constructor:Jn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Hu(e){return function(){return e}}function qu(e,t,n,r,o,i){for(var l=0,a,s=t.length,u=i.length;l<u;++l)(a=t[l])?(a.__data__=i[l],r[l]=a):n[l]=new Jn(e,i[l]);for(;l<s;++l)(a=t[l])&&(o[l]=a)}function Gu(e,t,n,r,o,i,l){var a,s,u=new Map,f=t.length,c=i.length,g=new Array(f),d;for(a=0;a<f;++a)(s=t[a])&&(g[a]=d=l.call(s,s.__data__,a,t)+"",u.has(d)?o[a]=s:u.set(d,s));for(a=0;a<c;++a)d=l.call(e,i[a],a,i)+"",(s=u.get(d))?(r[a]=s,s.__data__=i[a],u.delete(d)):n[a]=new Jn(e,i[a]);for(a=0;a<f;++a)(s=t[a])&&u.get(g[a])===s&&(o[a]=s)}function Bu(e){return e.__data__}function ju(e,t){if(!arguments.length)return Array.from(this,Bu);var n=t?Gu:qu,r=this._parents,o=this._groups;typeof e!="function"&&(e=Hu(e));for(var i=o.length,l=new Array(i),a=new Array(i),s=new Array(i),u=0;u<i;++u){var f=r[u],c=o[u],g=c.length,d=Uu(e.call(f,f&&f.__data__,u,r)),p=d.length,m=a[u]=new Array(p),_=l[u]=new Array(p),w=s[u]=new Array(g);n(f,c,m,_,w,d,t);for(var b=0,A=0,R,$;b<p;++b)if(R=m[b]){for(b>=A&&(A=b+1);!($=_[A])&&++A<p;);R._next=$||null}}return l=new qe(l,r),l._enter=a,l._exit=s,l}function Uu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Wu(){return new qe(this._exit||this._groups.map(Ds),this._parents)}function Xu(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Yu(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,l=Math.min(o,i),a=new Array(o),s=0;s<l;++s)for(var u=n[s],f=r[s],c=u.length,g=a[s]=new Array(c),d,p=0;p<c;++p)(d=u[p]||f[p])&&(g[p]=d);for(;s<o;++s)a[s]=n[s];return new qe(a,this._parents)}function Qu(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],l;--o>=0;)(l=r[o])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function Ku(e){e||(e=Ju);function t(c,g){return c&&g?e(c.__data__,g.__data__):!c-!g}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var l=n[i],a=l.length,s=o[i]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(t)}return new qe(o,this._parents).order()}function Ju(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Zu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ef(){return Array.from(this)}function tf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var l=r[o];if(l)return l}return null}function nf(){let e=0;for(const t of this)++e;return e}function rf(){return!this.node()}function of(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,l=o.length,a;i<l;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this}function lf(e){return function(){this.removeAttribute(e)}}function sf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function af(e,t){return function(){this.setAttribute(e,t)}}function uf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ff(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function cf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function df(e,t){var n=As(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?sf:lf:typeof t=="function"?n.local?cf:ff:n.local?uf:af)(n,t))}function Is(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gf(e){return function(){this.style.removeProperty(e)}}function hf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pf(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function mf(e,t,n){return arguments.length>1?this.each((t==null?gf:typeof t=="function"?pf:hf)(e,t,n??"")):_f(this.node(),e)}function _f(e,t){return e.style.getPropertyValue(t)||Is(e).getComputedStyle(e,null).getPropertyValue(t)}function vf(e){return function(){delete this[e]}}function bf(e,t){return function(){this[e]=t}}function wf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function yf(e,t){return arguments.length>1?this.each((t==null?vf:typeof t=="function"?wf:bf)(e,t)):this.node()[e]}function Ns(e){return e.trim().split(/^|\s+/)}function So(e){return e.classList||new Ps(e)}function Ps(e){this._node=e,this._names=Ns(e.getAttribute("class")||"")}Ps.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ts(e,t){for(var n=So(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Os(e,t){for(var n=So(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Sf(e){return function(){Ts(this,e)}}function Cf(e){return function(){Os(this,e)}}function kf(e,t){return function(){(t.apply(this,arguments)?Ts:Os)(this,e)}}function $f(e,t){var n=Ns(e+"");if(arguments.length<2){for(var r=So(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?kf:t?Sf:Cf)(n,t))}function Af(){this.textContent=""}function Rf(e){return function(){this.textContent=e}}function Mf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ef(e){return arguments.length?this.each(e==null?Af:(typeof e=="function"?Mf:Rf)(e)):this.node().textContent}function Ff(){this.innerHTML=""}function Df(e){return function(){this.innerHTML=e}}function If(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Nf(e){return arguments.length?this.each(e==null?Ff:(typeof e=="function"?If:Df)(e)):this.node().innerHTML}function Pf(){this.nextSibling&&this.parentNode.appendChild(this)}function Tf(){return this.each(Pf)}function Of(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xf(){return this.each(Of)}function Vf(e){var t=typeof e=="function"?e:Rs(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function zf(){return null}function Lf(e,t){var n=typeof e=="function"?e:Rs(e),r=t==null?zf:typeof t=="function"?t:Ms(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Hf(){var e=this.parentNode;e&&e.removeChild(this)}function qf(){return this.each(Hf)}function Gf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jf(e){return this.select(e?Bf:Gf)}function Uf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Wf(e){return function(t){e.call(this,t,this.__data__)}}function Xf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Yf(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Qf(e,t,n){return function(){var r=this.__on,o,i=Wf(t);if(r){for(var l=0,a=r.length;l<a;++l)if((o=r[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function Kf(e,t,n){var r=Xf(e+""),o,i=r.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(o=0,f=a[s];o<i;++o)if((l=r[o]).type===f.type&&l.name===f.name)return f.value}return}for(a=t?Qf:Yf,o=0;o<i;++o)this.each(a(r[o],t,n));return this}function xs(e,t,n){var r=Is(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Jf(e,t){return function(){return xs(this,e,t)}}function Zf(e,t){return function(){return xs(this,e,t.apply(this,arguments))}}function ec(e,t){return this.each((typeof t=="function"?Zf:Jf)(e,t))}function*tc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,l;o<i;++o)(l=r[o])&&(yield l)}var Vs=[null];function qe(e,t){this._groups=e,this._parents=t}function nc(){return this}qe.prototype={constructor:qe,select:$u,selectAll:Eu,selectChild:Pu,selectChildren:Vu,filter:zu,data:ju,enter:Lu,exit:Wu,join:Xu,merge:Yu,selection:nc,order:Qu,sort:Ku,call:Zu,nodes:ef,node:tf,size:nf,empty:rf,each:of,attr:df,style:mf,property:yf,classed:$f,text:Ef,html:Nf,raise:Tf,lower:xf,append:Vf,insert:Lf,remove:qf,clone:jf,datum:Uf,on:Kf,dispatch:ec,[Symbol.iterator]:tc};function ft(e){return typeof e=="string"?new qe([[document.querySelector(e)]],[document.documentElement]):new qe([[e]],Vs)}function Mr(e){return typeof e=="string"?new qe([document.querySelectorAll(e)],[document.documentElement]):new qe([Es(e)],Vs)}const rc=e=>({}),Uo=e=>({});function oc(e){let t,n,r,o,i,l,a,s,u;const f=e[4].header,c=xo(f,e,e[3],Uo),g=e[4].default,d=xo(g,e,e[3],null);return{c(){t=C("dialog"),n=C("div"),r=C("div"),o=C("button"),o.textContent="X",i=F(),c&&c.c(),l=F(),d&&d.c(),h(o,"class","close-button svelte-g384pz"),h(r,"class","btn-container svelte-g384pz"),h(n,"class","svelte-g384pz"),h(t,"class","svelte-g384pz")},m(p,m){T(p,t,m),v(t,n),v(n,r),v(r,o),v(n,i),c&&c.m(n,null),v(n,l),d&&d.m(n,null),e[6](t),a=!0,s||(u=[H(o,"click",function(){Le(e[1])&&e[1].apply(this,arguments)}),H(n,"click",Xa(e[5])),H(t,"close",function(){Le(e[1])&&e[1].apply(this,arguments)}),H(t,"click",Ya(function(){Le(e[1])&&e[1].apply(this,arguments)}))],s=!0)},p(p,[m]){e=p,c&&c.p&&(!a||m&8)&&zo(c,f,e,e[3],a?Vo(f,e[3],m,rc):Lo(e[3]),Uo),d&&d.p&&(!a||m&8)&&zo(d,g,e,e[3],a?Vo(g,e[3],m,null):Lo(e[3]),null)},i(p){a||(P(c,p),P(d,p),a=!0)},o(p){O(c,p),O(d,p),a=!1},d(p){p&&N(t),c&&c.d(p),d&&d.d(p),e[6](null),s=!1,_e(u)}}}function ic(e,t,n){let{$$slots:r={},$$scope:o}=t,{showModal:i}=t,{dialog:l}=t,{handleClose:a}=t;function s(f){su.call(this,e,f)}function u(f){ot[f?"unshift":"push"](()=>{l=f,n(0,l)})}return e.$$set=f=>{"showModal"in f&&n(2,i=f.showModal),"dialog"in f&&n(0,l=f.dialog),"handleClose"in f&&n(1,a=f.handleClose),"$$scope"in f&&n(3,o=f.$$scope)},e.$$.update=()=>{e.$$.dirty&5&&l&&i&&l.showModal()},[l,a,i,o,r,s,u]}class lc extends ue{constructor(t){super(),de(this,t,ic,oc,ae,{showModal:2,dialog:0,handleClose:1})}}function Wo(e){let t,n,r,o,i,l,a,s,u;return{c(){t=C("form"),n=C("div"),r=C("label"),r.textContent="Filename",o=F(),i=C("input"),l=F(),a=C("div"),a.innerHTML='<button type="submit">Download</button>',h(r,"for","file_name"),h(r,"class","svelte-sy2m0x"),h(i,"type","text"),h(i,"placeholder","Please enter filename"),h(i,"name","file_name"),i.required=!0,h(n,"class","inputs svelte-sy2m0x"),h(a,"class","btn-container svelte-sy2m0x")},m(f,c){T(f,t,c),v(t,n),v(n,r),v(n,o),v(n,i),We(i,e[2]),v(t,l),v(t,a),s||(u=[H(i,"input",e[8]),H(t,"submit",e[5])],s=!0)},p(f,c){c&4&&i.value!==f[2]&&We(i,f[2])},d(f){f&&N(t),s=!1,_e(u)}}}function Xo(e){let t,n,r,o,i,l,a,s,u;return{c(){t=C("div"),n=z("✅ Data downloaded to ~/pykoi/"),r=z(e[2]),o=z(".csv"),i=F(),l=C("div"),a=C("button"),a.textContent="Close",h(l,"class","btn-container svelte-sy2m0x")},m(f,c){T(f,t,c),v(t,n),v(t,r),v(t,o),T(f,i,c),T(f,l,c),v(l,a),s||(u=H(a,"click",e[6]),s=!0)},p(f,c){c&4&&ne(r,f[2])},d(f){f&&N(t),f&&N(i),f&&N(l),s=!1,u()}}}function Yo(e){let t,n,r,o,i,l,a,s;return{c(){t=C("div"),t.textContent="⚠️ Download failed. Please try again.",n=F(),r=C("div"),o=C("button"),o.textContent="Retry",i=F(),l=C("button"),l.textContent="Close",h(r,"class","btn-container svelte-sy2m0x")},m(u,f){T(u,t,f),T(u,n,f),T(u,r,f),v(r,o),v(r,i),v(r,l),a||(s=[H(o,"click",e[9]),H(l,"click",e[6])],a=!0)},p:L,d(u){u&&N(t),u&&N(n),u&&N(r),a=!1,_e(s)}}}function sc(e){let t,n,r,o=e[3]===e[4].FILE_INPUT&&Wo(e),i=e[3]===e[4].DOWNLOADED&&Xo(e),l=e[3]===e[4].FAILED_DOWNLOAD&&Yo(e);return{c(){o&&o.c(),t=F(),i&&i.c(),n=F(),l&&l.c(),r=Ee()},m(a,s){o&&o.m(a,s),T(a,t,s),i&&i.m(a,s),T(a,n,s),l&&l.m(a,s),T(a,r,s)},p(a,s){a[3]===a[4].FILE_INPUT?o?o.p(a,s):(o=Wo(a),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),a[3]===a[4].DOWNLOADED?i?i.p(a,s):(i=Xo(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),a[3]===a[4].FAILED_DOWNLOAD?l?l.p(a,s):(l=Yo(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){o&&o.d(a),a&&N(t),i&&i.d(a),a&&N(n),l&&l.d(a),a&&N(r)}}}function ac(e){let t;return{c(){t=C("h4"),t.textContent="Download Data",h(t,"slot","header"),h(t,"class","svelte-sy2m0x")},m(n,r){T(n,t,r)},p:L,d(n){n&&N(t)}}}function uc(e){let t,n,r,o;function i(s){e[10](s)}function l(s){e[11](s)}let a={handleClose:e[6],$$slots:{header:[ac],default:[sc]},$$scope:{ctx:e}};return e[0]!==void 0&&(a.showModal=e[0]),e[1]!==void 0&&(a.dialog=e[1]),t=new lc({props:a}),ot.push(()=>Kn(t,"showModal",i)),ot.push(()=>Kn(t,"dialog",l)),{c(){te(t.$$.fragment)},m(s,u){Q(t,s,u),o=!0},p(s,[u]){const f={};u&4108&&(f.$$scope={dirty:u,ctx:s}),!n&&u&1&&(n=!0,f.showModal=s[0],Qn(()=>n=!1)),!r&&u&2&&(r=!0,f.dialog=s[1],Qn(()=>r=!1)),t.$set(f)},i(s){o||(P(t.$$.fragment,s),o=!0)},o(s){O(t.$$.fragment,s),o=!1},d(s){K(t,s)}}}function fc(e,t,n){let{showModal:r,table:o}=t,i,l="";const a={FILE_INPUT:0,DOWNLOADED:1,FAILED_DOWNLOAD:2};let s=a.FILE_INPUT;const u=async m=>{m.preventDefault();const _={file_name:l},b=await(await fetch(`/chat/${o}/save_to_csv`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})).json();console.log("Download Complete: ",b),b.status==="200"?(console.log("success"),n(3,s=a.DOWNLOADED)):(console.log("failed"),n(3,s=a.FAILED_DOWNLOAD))};function f(){n(0,r=!1),n(3,s=a.FILE_INPUT),i.close()}function c(){l=this.value,n(2,l)}const g=()=>n(3,s=a.FILE_INPUT);function d(m){r=m,n(0,r)}function p(m){i=m,n(1,i)}return e.$$set=m=>{"showModal"in m&&n(0,r=m.showModal),"table"in m&&n(7,o=m.table)},[r,i,l,s,a,u,f,o,c,g,d,p]}class zs extends ue{constructor(t){super(),de(this,t,fc,uc,ae,{showModal:0,table:7})}}function Qo(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Ko(e){let t,n,r,o,i,l;function a(...u){return e[12](e[21],...u)}function s(...u){return e[13](e[21],...u)}return{c(){t=C("div"),n=C("button"),n.textContent="👍",r=F(),o=C("button"),o.textContent="👎",h(n,"class","small-button thumbs-up svelte-19cad35"),h(o,"class","small-button thumbs-down svelte-19cad35"),h(t,"class","feedback-buttons svelte-19cad35")},m(u,f){T(u,t,f),v(t,n),v(t,r),v(t,o),i||(l=[H(n,"click",a),H(o,"click",s)],i=!0)},p(u,f){e=u},d(u){u&&N(t),i=!1,_e(l)}}}function Jo(e,t){let n,r,o,i,l,a,s,u,f,c=t[19].question+"",g,d,p,m,_,w,b,A=t[19].answer+"",R,$,M,S,k,y,E=t[0]&&Ko(t);return{key:e,first:null,c(){n=C("div"),r=C("div"),o=C("div"),i=F(),l=C("div"),a=C("div"),s=C("h5"),s.textContent="Question:",u=F(),f=C("p"),g=z(c),d=F(),p=C("div"),m=C("div"),_=C("h5"),_.textContent="Response:",w=F(),b=C("p"),R=z(A),$=F(),E&&E.c(),M=F(),h(o,"class","avatar"),h(s,"class","bold svelte-19cad35"),h(a,"class","question svelte-19cad35"),h(_,"class","bold svelte-19cad35"),h(m,"class","answer svelte-19cad35"),h(p,"class","answers svelte-19cad35"),h(l,"class","message-content svelte-19cad35"),h(r,"class","chat-message-center svelte-19cad35"),h(n,"class","chat-message svelte-19cad35"),this.first=n},m(D,I){T(D,n,I),v(n,r),v(r,o),v(r,i),v(r,l),v(l,a),v(a,s),v(a,u),v(a,f),v(f,g),v(l,d),v(l,p),v(p,m),v(m,_),v(m,w),v(m,b),v(b,R),v(m,$),E&&E.m(m,null),v(n,M),k||(y=mn(S=dc.call(null,n,t[21]===t[5].length-1)),k=!0)},p(D,I){t=D,I&32&&c!==(c=t[19].question+"")&&ne(g,c),I&32&&A!==(A=t[19].answer+"")&&ne(R,A),t[0]?E?E.p(t,I):(E=Ko(t),E.c(),E.m(m,null)):E&&(E.d(1),E=null),S&&Le(S.update)&&I&32&&S.update.call(null,t[21]===t[5].length-1)},d(D){D&&N(n),E&&E.d(),k=!1,y()}}}function cc(e){let t,n,r,o,i,l,a,s,u,f,c,g,d,p,m=[],_=new Map,w,b,A,R,$,M,S=(e[3]?e[4]:"Send")+"",k,y,E,D,I,V,J;function fe(q){e[11](q)}let re={table:"qa_table"};e[1]!==void 0&&(re.showModal=e[1]),t=new zs({props:re}),ot.push(()=>Kn(t,"showModal",fe));let be=e[5];const ke=q=>q[21];for(let q=0;q<be.length;q+=1){let G=Qo(e,be,q),he=ke(G);_.set(he,m[q]=Jo(he,G))}return{c(){te(t.$$.fragment),r=F(),o=C("div"),i=C("div"),l=C("h5"),l.textContent="Vote Feedback Instructions",a=F(),s=C("p"),s.innerHTML=`Ask a question to receive an answer from the chatbot. If the response is
      satisfactory, click on the <span class="inline-button green svelte-19cad35">👍</span>
      button. If the repsonse is not satisfactory, click on the
      <span class="inline-button red svelte-19cad35">👎</span> button.`,u=F(),f=C("button"),f.textContent="Download Data",c=F(),g=C("div"),d=C("section"),p=C("div");for(let q=0;q<m.length;q+=1)m[q].c();w=F(),b=C("div"),A=C("form"),R=C("input"),$=F(),M=C("button"),k=z(S),E=F(),D=C("p"),D.textContent="Note - may produce inaccurate information.",h(l,"class","underline bold svelte-19cad35"),h(s,"class","svelte-19cad35"),h(f,"class","svelte-19cad35"),h(i,"class","instructions svelte-19cad35"),h(p,"class","chat-log svelte-19cad35"),h(d,"class","chatbox svelte-19cad35"),h(R,"class","chat-input-textarea svelte-19cad35"),h(R,"placeholder","Type Question Here"),h(M,"class",y="btnyousend "+(e[2]===""?"":"active")+" svelte-19cad35"),h(M,"type","submit"),h(A,"class","chat-input-form svelte-19cad35"),h(D,"class","message svelte-19cad35"),h(b,"class","chat-input-holder svelte-19cad35"),h(g,"class","ranked-chat svelte-19cad35"),h(o,"class","ranked-feedback-container svelte-19cad35")},m(q,G){Q(t,q,G),T(q,r,G),T(q,o,G),v(o,i),v(i,l),v(i,a),v(i,s),v(i,u),v(i,f),v(o,c),v(o,g),v(g,d),v(d,p);for(let he=0;he<m.length;he+=1)m[he]&&m[he].m(p,null);v(g,w),v(g,b),v(b,A),v(A,R),We(R,e[2]),v(A,$),v(A,M),v(M,k),v(b,E),v(b,D),I=!0,V||(J=[H(f,"click",e[8]),H(R,"input",e[14]),H(A,"submit",e[6])],V=!0)},p(q,[G]){const he={};!n&&G&2&&(n=!0,he.showModal=q[1],Qn(()=>n=!1)),t.$set(he),G&161&&(be=q[5],m=Qt(m,G,ke,1,q,be,_,p,vr,Jo,null,Qo)),G&4&&R.value!==q[2]&&We(R,q[2]),(!I||G&24)&&S!==(S=(q[3]?q[4]:"Send")+"")&&ne(k,S),(!I||G&4&&y!==(y="btnyousend "+(q[2]===""?"":"active")+" svelte-19cad35"))&&h(M,"class",y)},i(q){I||(P(t.$$.fragment,q),I=!0)},o(q){O(t.$$.fragment,q),I=!1},d(q){K(t,q),q&&N(r),q&&N(o);for(let G=0;G<m.length;G+=1)m[G].d();V=!1,_e(J)}}}function dc(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function gc(e){const t=await fetch("/chat/qa_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function hc(e,t,n){let r,o;ie(e,Ve,R=>n(5,o=R));let i=!1,{feedback:l=!1}=t,{is_retrieval:a=!1}=t,s="",u="",f=!1;dt(()=>{c()});async function c(){const S=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map(k=>({id:k[0],question:k[1],answer:k[2],vote_status:k[3]}));He(Ve,o=[...S],o)}const g=async R=>{R.preventDefault(),s=u,n(2,u=""),n(3,f=!0);let $={id:o.length+1,question:s,answer:"Loading...",vote_status:"na"};He(Ve,o=[...o,$],o);const M=a?await fetch("/retrieval/new_message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})}):await fetch(`/chat/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})});if(M.ok){const S=await M.json();console.log("response data",S),$.answer=S.answer,Ve.update(k=>(k[k.length-1]=$,k))}else{const S=await M.text();alert(S)}n(3,f=!1)};let d=0;setInterval(()=>{n(10,d=(d+1)%4)},200);function p(R,$,M){const S=o[M];S.vote=$;const k={id:M+1,vote_status:$};gc(k),ft(R.currentTarget.parentNode).selectAll("button").style("border","3px solid transparent").style("opacity",.65),ft(R.currentTarget).style("border","3px solid var(--black)").style("opacity",1)}function m(){n(1,i=!0)}[...Array(10).keys()].map(R=>String.fromCharCode(65+R));function _(R){i=R,n(1,i)}const w=(R,$)=>p($,"up",R),b=(R,$)=>p($,"down",R);function A(){u=this.value,n(2,u)}return e.$$set=R=>{"feedback"in R&&n(0,l=R.feedback),"is_retrieval"in R&&n(9,a=R.is_retrieval)},e.$$.update=()=>{e.$$.dirty&1024&&n(4,r=".".repeat(d).padEnd(3))},[l,i,u,f,r,o,g,p,m,a,d,_,w,b,A]}class Co extends ue{constructor(t){super(),de(this,t,hc,cc,ae,{feedback:0,is_retrieval:9})}}function Zo(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function ei(e,t){let n,r,o,i,l,a,s,u,f,c=t[14].question+"",g,d,p,m,_,w,b,A=t[14].up_ranking_answer+"",R,$,M,S,k,y,E=t[14].low_ranking_answer+"",D,I,V,J,fe;function re(...G){return t[7](t[14],t[16],...G)}function be(...G){return t[8](t[14],t[16],...G)}function ke(...G){return t[9](t[14],t[16],...G)}function q(...G){return t[10](t[14],t[16],...G)}return{key:e,first:null,c(){n=C("div"),r=C("div"),o=C("div"),i=F(),l=C("div"),a=C("div"),s=C("h5"),s.textContent="Question:",u=F(),f=C("p"),g=z(c),d=F(),p=C("div"),m=C("div"),_=C("h5"),_.textContent="Response 1:",w=F(),b=C("p"),R=z(A),$=F(),M=C("div"),S=C("h5"),S.textContent="Response 2:",k=F(),y=C("p"),D=z(E),I=F(),h(o,"class","avatar"),h(s,"class","bold svelte-au920n"),h(a,"class","question svelte-au920n"),h(_,"class","bold underline svelte-au920n"),h(m,"class","answer svelte-au920n"),h(S,"class","bold underline svelte-au920n"),h(M,"class","answer svelte-au920n"),h(p,"class","answers svelte-au920n"),h(l,"class","message-content svelte-au920n"),h(r,"class","chat-message-center svelte-au920n"),h(n,"class","chat-message svelte-au920n"),this.first=n},m(G,he){T(G,n,he),v(n,r),v(r,o),v(r,i),v(r,l),v(l,a),v(a,s),v(a,u),v(a,f),v(f,g),v(l,d),v(l,p),v(p,m),v(m,_),v(m,w),v(m,b),v(b,R),v(p,$),v(p,M),v(M,S),v(M,k),v(M,y),v(y,D),v(n,I),J||(fe=[H(m,"click",re),H(m,"keydown",be),H(M,"click",ke),H(M,"keydown",q),mn(V=mc.call(null,n,t[16]===t[3].length-1))],J=!0)},p(G,he){t=G,he&8&&c!==(c=t[14].question+"")&&ne(g,c),he&8&&A!==(A=t[14].up_ranking_answer+"")&&ne(R,A),he&8&&E!==(E=t[14].low_ranking_answer+"")&&ne(D,E),V&&Le(V.update)&&he&8&&V.update.call(null,t[16]===t[3].length-1)},d(G){G&&N(n),J=!1,_e(fe)}}}function pc(e){let t,n,r,o,i,l,a=[],s=new Map,u,f,c,g,d,p,m=(e[1]?e[2]:"Send")+"",_,w,b,A,R,$,M=e[3];const S=k=>k[16];for(let k=0;k<M.length;k+=1){let y=Zo(e,M,k),E=S(y);s.set(E,a[k]=ei(E,y))}return{c(){t=C("div"),n=C("div"),n.innerHTML=`<h5 class="underline bold svelte-au920n">Ranked Feedback Instructions</h5> 
    <p class="svelte-au920n">Ask a question and click on the better of the two responses. The better
      response will be outlined in <span class="green svelte-au920n">green</span>, the worse
      response outlined in <span class="red svelte-au920n">red</span>. This data will be
      automatically fed to RLHF.</p> 
    <button class="svelte-au920n">Download Data</button>`,r=F(),o=C("div"),i=C("section"),l=C("div");for(let k=0;k<a.length;k+=1)a[k].c();u=F(),f=C("div"),c=C("form"),g=C("input"),d=F(),p=C("button"),_=z(m),b=F(),A=C("p"),A.textContent="Note - may produce inaccurate information.",h(n,"class","instructions svelte-au920n"),h(l,"class","chat-log svelte-au920n"),h(i,"class","chatbox svelte-au920n"),h(g,"class","chat-input-textarea svelte-au920n"),h(g,"placeholder","Type Message Here"),h(p,"class",w="btnyousend "+(e[0]===""?"":"active")+" svelte-au920n"),h(p,"type","submit"),h(c,"class","chat-input-form svelte-au920n"),h(A,"class","message svelte-au920n"),h(f,"class","chat-input-holder svelte-au920n"),h(o,"class","ranked-chat svelte-au920n"),h(t,"class","ranked-feedback-container svelte-au920n")},m(k,y){T(k,t,y),v(t,n),v(t,r),v(t,o),v(o,i),v(i,l);for(let E=0;E<a.length;E+=1)a[E]&&a[E].m(l,null);v(o,u),v(o,f),v(f,c),v(c,g),We(g,e[0]),v(c,d),v(c,p),v(p,_),v(f,b),v(f,A),R||($=[H(g,"input",e[11]),H(c,"submit",e[4])],R=!0)},p(k,[y]){y&40&&(M=k[3],a=Qt(a,y,S,1,k,M,s,l,vr,ei,null,Zo)),y&1&&g.value!==k[0]&&We(g,k[0]),y&6&&m!==(m=(k[1]?k[2]:"Send")+"")&&ne(_,m),y&1&&w!==(w="btnyousend "+(k[0]===""?"":"active")+" svelte-au920n")&&h(p,"class",w)},i:L,o:L,d(k){k&&N(t);for(let y=0;y<a.length;y+=1)a[y].d();R=!1,_e($)}}}function mc(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function _c(e){const t=await fetch("/chat/ranking_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function vc(e,t,n){let r,o;ie(e,Ar,_=>n(3,o=_));let i="",l="",a=!1;dt(()=>{});const s=async _=>{_.preventDefault(),i=l,n(0,l=""),n(1,a=!0);let w={question:i,up_ranking_answer:"Loading...",low_ranking_answer:"Loading..."};He(Ar,o=[...o,w],o);const b=await fetch(`/chat/multi_responses/${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:i})});if(b.ok){const A=await b.json();w.up_ranking_answer=A.answer[0],w.low_ranking_answer=A.answer[1],Ar.update(R=>(R[R.length-1]=w,R))}else{const A=await b.text();alert(A)}n(1,a=!1)};let u=0;setInterval(()=>{n(6,u=(u+1)%4)},200);function f(_,w,b,A){const R=o[b],$={1:"up_ranking_answer",2:"low_ranking_answer"},M={question:R.question,up_ranking_answer:R[$[A]],low_ranking_answer:R[$[A%2+1]]};_c(M),ft(_.currentTarget.parentNode).selectAll("div").style("outline","2px solid var(--red)").style("border","1px solid var(--red)"),ft(_.currentTarget).style("outline","2px solid var(--green)").style("border","1px solid var(--green)")}const c=(_,w,b)=>f(b,_,w,1),g=(_,w,b)=>f(b,_,w,1),d=(_,w,b)=>f(b,_,w,2),p=(_,w,b)=>f(b,_,w,2);function m(){l=this.value,n(0,l)}return e.$$.update=()=>{e.$$.dirty&64&&n(2,r=".".repeat(u).padEnd(3))},[l,a,r,o,s,f,u,c,g,d,p,m]}class bc extends ue{constructor(t){super(),de(this,t,vc,pc,ae,{})}}function ti(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function ni(e){let t,n,r,o,i=e[8].name+"",l,a,s,u,f;function c(...g){return e[6](e[8],...g)}return{c(){t=C("label"),n=C("input"),l=z(i),a=F(),h(n,"type","checkbox"),h(n,"id",r=e[8].id),n.checked=o=e[1].has(e[8].name),h(t,"for",s=e[8].id)},m(g,d){T(g,t,d),v(t,n),v(t,l),v(t,a),u||(f=H(n,"change",c),u=!0)},p(g,d){e=g,d&1&&r!==(r=e[8].id)&&h(n,"id",r),d&3&&o!==(o=e[1].has(e[8].name))&&(n.checked=o),d&1&&i!==(i=e[8].name+"")&&ne(l,i),d&1&&s!==(s=e[8].id)&&h(t,"for",s)},d(g){g&&N(t),u=!1,f()}}}function wc(e){let t,n,r,o,i,l,a,s,u,f,c,g=e[0],d=[];for(let p=0;p<g.length;p+=1)d[p]=ni(ti(e,g,p));return{c(){t=C("form"),n=C("div"),r=C("div"),o=C("select"),i=C("option"),i.textContent="Documents",l=F(),a=C("div"),s=F(),u=C("div");for(let p=0;p<d.length;p+=1)d[p].c();i.__value="Documents",i.value=i.__value,h(o,"class","svelte-8o2wf2"),h(a,"class","overSelect svelte-8o2wf2"),h(r,"class","selectBox svelte-8o2wf2"),h(u,"class","dropdown-content svelte-8o2wf2"),Ie(u,"display",e[2]?"block":"none"),h(n,"class","multiselect svelte-8o2wf2")},m(p,m){T(p,t,m),v(t,n),v(n,r),v(r,o),v(o,i),v(r,l),v(r,a),v(n,s),v(n,u);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(u,null);e[7](u),f||(c=H(r,"click",e[4]),f=!0)},p(p,[m]){if(m&35){g=p[0];let _;for(_=0;_<g.length;_+=1){const w=ti(p,g,_);d[_]?d[_].p(w,m):(d[_]=ni(w),d[_].c(),d[_].m(u,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=g.length}m&4&&Ie(u,"display",p[2]?"block":"none")},i:L,o:L,d(p){p&&N(t),Ce(d,p),e[7](null),f=!1,c()}}}function yc(e,t,n){let r;ie(e,Zr,c=>n(1,r=c));let{documents:o=[]}=t,i=!1,l;function a(){n(2,i=!i)}function s(c,g){g.target.checked?r.add(c):r.delete(c),Zr.set(new Set(r))}const u=(c,g)=>s(c.name,g);function f(c){ot[c?"unshift":"push"](()=>{l=c,n(3,l)})}return e.$$set=c=>{"documents"in c&&n(0,o=c.documents)},e.$$.update=()=>{e.$$.dirty&2&&console.log(r)},[o,r,i,l,a,s,u,f]}let Sc=class extends ue{constructor(t){super(),de(this,t,yc,wc,ae,{documents:0})}};function to(e,t=2){if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,i)).toFixed(r))+" "+o[i]}function Cc(e){let t={who:0,what:0,how:0,why:0,where:0,does:0,can:0,"n/a":0};for(let r=0;r<e.length;r++){let o=e[r].question.split(" ")[0].toLowerCase();o in t?t[o]++:t["n/a"]++}return Object.keys(t).map(r=>({question:r,count:t[r]}))}function Ls(e){return e.map(t=>{const n=t.question.split(" ").length,r=t.answer.split(" ").length;return{index:t.index,question:+n,answer:+r,vote:t.vote}})}function kc(e,t){e.classList.add("tooltip"),e.setAttribute("tabindex",0);function n(){const o=document.createElement("span");o.textContent=t,o.setAttribute("id","tooltip"),e.appendChild(o),e.addEventListener("mouseleave",r),e.addEventListener("blur",r),e.removeEventListener("mouseenter",n),e.removeEventListener("focus",n)}function r(){e.removeChild(e.querySelector("#tooltip")),e.removeEventListener("mouseleave",r),e.removeEventListener("blur",r),e.addEventListener("mouseenter",n),e.addEventListener("focus",n)}return e.addEventListener("mouseenter",n),e.addEventListener("focus",n),{onDestroy(){e.classList.remove("tooltip"),e.removeEventListener("mouseenter",n),e.removeEventListener("focus",n)}}}function vn(e,{delay:t=0,duration:n=400,easing:r=wo,axis:o="y"}={}){const i=getComputedStyle(e),l=+i.opacity,a=o==="y"?"height":"width",s=parseFloat(i[a]),u=o==="y"?["top","bottom"]:["left","right"],f=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),c=parseFloat(i[`padding${f[0]}`]),g=parseFloat(i[`padding${f[1]}`]),d=parseFloat(i[`margin${f[0]}`]),p=parseFloat(i[`margin${f[1]}`]),m=parseFloat(i[`border${f[0]}Width`]),_=parseFloat(i[`border${f[1]}Width`]);return{delay:t,duration:n,easing:r,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*l};${a}: ${w*s}px;padding-${u[0]}: ${w*c}px;padding-${u[1]}: ${w*g}px;margin-${u[0]}: ${w*d}px;margin-${u[1]}: ${w*p}px;border-${u[0]}-width: ${w*m}px;border-${u[1]}-width: ${w*_}px;`}}function Mn(e,{delay:t=0,duration:n=400,easing:r=wo,start:o=0,opacity:i=0}={}){const l=getComputedStyle(e),a=+l.opacity,s=l.transform==="none"?"":l.transform,u=1-o,f=a*(1-i);return{delay:t,duration:n,easing:r,css:(c,g)=>`
			transform: ${s} scale(${1-u*g});
			opacity: ${a-f*g}
		`}}function $c(e){let t;return{c(){t=C("p"),t.textContent="⌄",h(t,"class","svelte-1pk2e1k")},m(n,r){T(n,t,r)},d(n){n&&N(t)}}}function Ac(e){let t;return{c(){t=C("p"),t.textContent="⌃",h(t,"class","svelte-1pk2e1k")},m(n,r){T(n,t,r)},d(n){n&&N(t)}}}function ri(e){let t,n,r,o,i;return{c(){t=C("div"),n=C("p"),r=z(e[1]),h(n,"class","bold svelte-1pk2e1k"),h(t,"class","source_content svelte-1pk2e1k")},m(l,a){T(l,t,a),v(t,n),v(n,r),i=!0},p(l,a){(!i||a&2)&&ne(r,l[1])},i(l){i||(Re(()=>{i&&(o||(o=et(t,vn,{},!0)),o.run(1))}),i=!0)},o(l){o||(o=et(t,vn,{},!1)),o.run(0),i=!1},d(l){l&&N(t),l&&o&&o.end()}}}function Rc(e){let t,n,r,o=e[2]+1+"",i,l,a,s,u,f,c,g,d;function p(b,A){return b[3]?Ac:$c}let m=p(e),_=m(e),w=e[3]&&ri(e);return{c(){t=C("div"),n=C("div"),r=C("p"),i=z(o),l=z(": "),a=z(e[0]),s=F(),_.c(),f=F(),w&&w.c(),h(r,"class","bold svelte-1pk2e1k"),h(n,"class","source_tab svelte-1pk2e1k"),h(t,"class","source svelte-1pk2e1k")},m(b,A){T(b,t,A),v(t,n),v(n,r),v(r,i),v(r,l),v(r,a),v(n,s),_.m(n,null),v(t,f),w&&w.m(t,null),c=!0,g||(d=H(n,"click",e[4]),g=!0)},p(b,[A]){(!c||A&4)&&o!==(o=b[2]+1+"")&&ne(i,o),(!c||A&1)&&ne(a,b[0]),m!==(m=p(b))&&(_.d(1),_=m(b),_&&(_.c(),_.m(n,null))),b[3]?w?(w.p(b,A),A&8&&P(w,1)):(w=ri(b),w.c(),P(w,1),w.m(t,null)):w&&(pe(),O(w,1,1,()=>{w=null}),me())},i(b){c||(Re(()=>{c&&(u||(u=et(n,vn,{},!0)),u.run(1))}),P(w),c=!0)},o(b){u||(u=et(n,vn,{},!1)),u.run(0),O(w),c=!1},d(b){b&&N(t),_.d(),b&&u&&u.end(),w&&w.d(),g=!1,d()}}}function Mc(e,t,n){let{source:r=""}=t,{source_content:o=""}=t,{i=0}=t,l=i===0;const a=()=>n(3,l=!l);return e.$$set=s=>{"source"in s&&n(0,r=s.source),"source_content"in s&&n(1,o=s.source_content),"i"in s&&n(2,i=s.i)},[r,o,i,l,a]}class Ec extends ue{constructor(t){super(),de(this,t,Mc,Rc,ae,{source:0,source_content:1,i:2})}}function oi(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ii(e){let t,n,r,o;const i=[Nc,Ic,Dc,Fc],l=[];function a(s,u){return s[0][0]==="N/A"?0:s[0][0]==="Loading..."?1:s[0][0]==="Not loaded"?2:3}return t=a(e),n=l[t]=i[t](e),{c(){n.c(),r=Ee()},m(s,u){l[t].m(s,u),T(s,r,u),o=!0},p(s,u){let f=t;t=a(s),t===f?l[t].p(s,u):(pe(),O(l[f],1,1,()=>{l[f]=null}),me(),n=l[t],n?n.p(s,u):(n=l[t]=i[t](s),n.c()),P(n,1),n.m(r.parentNode,r))},i(s){o||(P(n),o=!0)},o(s){O(n),o=!1},d(s){l[t].d(s),s&&N(r)}}}function Fc(e){let t,n,r,o=e[0].length+"",i,l,a,s,u,f,c,g;function d(w,b){return w[2]?Tc:Pc}let p=d(e),m=p(e),_=e[2]&&li(e);return{c(){t=C("div"),n=C("h5"),r=z("📖 Response Sources ("),i=z(o),l=z(")"),a=F(),m.c(),s=F(),_&&_.c(),u=Ee(),h(n,"class","bold"),h(t,"class","sources-header svelte-1r759df")},m(w,b){T(w,t,b),v(t,n),v(n,r),v(n,i),v(n,l),v(t,a),m.m(t,null),T(w,s,b),_&&_.m(w,b),T(w,u,b),f=!0,c||(g=H(t,"click",e[3]),c=!0)},p(w,b){(!f||b&1)&&o!==(o=w[0].length+"")&&ne(i,o),p!==(p=d(w))&&(m.d(1),m=p(w),m&&(m.c(),m.m(t,null))),w[2]?_?(_.p(w,b),b&4&&P(_,1)):(_=li(w),_.c(),P(_,1),_.m(u.parentNode,u)):_&&(pe(),O(_,1,1,()=>{_=null}),me())},i(w){f||(P(_),f=!0)},o(w){O(_),f=!1},d(w){w&&N(t),m.d(),w&&N(s),_&&_.d(w),w&&N(u),c=!1,g()}}}function Dc(e){let t;return{c(){t=C("h5"),t.textContent="⚠️ No sources loaded",h(t,"class","bold")},m(n,r){T(n,t,r)},p:L,i:L,o:L,d(n){n&&N(t)}}}function Ic(e){let t;return{c(){t=C("h5"),t.textContent="📖 Loading...",h(t,"class","bold")},m(n,r){T(n,t,r)},p:L,i:L,o:L,d(n){n&&N(t)}}}function Nc(e){let t;return{c(){t=C("h5"),t.textContent="⚠️ No Retrieval Sources selected",h(t,"class","bold")},m(n,r){T(n,t,r)},p:L,i:L,o:L,d(n){n&&N(t)}}}function Pc(e){let t;return{c(){t=C("span"),t.textContent="⌄"},m(n,r){T(n,t,r)},d(n){n&&N(t)}}}function Tc(e){let t;return{c(){t=C("span"),t.textContent="⌃"},m(n,r){T(n,t,r)},d(n){n&&N(t)}}}function li(e){let t,n,r=e[0],o=[];for(let l=0;l<r.length;l+=1)o[l]=si(oi(e,r,l));const i=l=>O(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();t=Ee()},m(l,a){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(l,a);T(l,t,a),n=!0},p(l,a){if(a&3){r=l[0];let s;for(s=0;s<r.length;s+=1){const u=oi(l,r,s);o[s]?(o[s].p(u,a),P(o[s],1)):(o[s]=si(u),o[s].c(),P(o[s],1),o[s].m(t.parentNode,t))}for(pe(),s=r.length;s<o.length;s+=1)i(s);me()}},i(l){if(!n){for(let a=0;a<r.length;a+=1)P(o[a]);n=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)O(o[a]);n=!1},d(l){Ce(o,l),l&&N(t)}}}function si(e){let t,n;return t=new Ec({props:{source:e[4],source_content:e[1][e[6]],i:e[6]}}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},p(r,o){const i={};o&1&&(i.source=r[4]),o&2&&(i.source_content=r[1][r[6]]),t.$set(i)},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function Oc(e){let t,n,r=e[0]!==void 0&&ii(e);return{c(){t=C("div"),r&&r.c(),h(t,"class","sources svelte-1r759df")},m(o,i){T(o,t,i),r&&r.m(t,null),n=!0},p(o,[i]){o[0]!==void 0?r?(r.p(o,i),i&1&&P(r,1)):(r=ii(o),r.c(),P(r,1),r.m(t,null)):r&&(pe(),O(r,1,1,()=>{r=null}),me())},i(o){n||(P(r),n=!0)},o(o){O(r),n=!1},d(o){o&&N(t),r&&r.d()}}}function xc(e,t,n){let{sources:r=[]}=t,{source_content:o=[]}=t,i=!1;const l=()=>n(2,i=!i);return e.$$set=a=>{"sources"in a&&n(0,r=a.sources),"source_content"in a&&n(1,o=a.source_content)},[r,o,i,l]}class Vc extends ue{constructor(t){super(),de(this,t,xc,Oc,ae,{sources:0,source_content:1})}}function ai(e,t,n){const r=e.slice();return r[4]=t[n],r}function ui(e,t,n){const r=e.slice();return r[4]=t[n],r}function fi(e){let t,n,r,o=e[4].label+"",i,l,a,s,u;return{c(){t=C("li"),n=C("span"),r=C("h5"),i=z(o),l=F(),h(r,"class","bold"),h(n,"class","svelte-iwm583"),h(t,"class",a=Ho(e[0]===e[4].value?"active":"")+" svelte-iwm583")},m(f,c){T(f,t,c),v(t,n),v(n,r),v(r,i),v(t,l),s||(u=H(n,"click",function(){Le(e[3](e[4].value))&&e[3](e[4].value).apply(this,arguments)}),s=!0)},p(f,c){e=f,c&2&&o!==(o=e[4].label+"")&&ne(i,o),c&3&&a!==(a=Ho(e[0]===e[4].value?"active":"")+" svelte-iwm583")&&h(t,"class",a)},d(f){f&&N(t),s=!1,u()}}}function ci(e){let t,n,r,o;const i=[e[2]];var l=e[4].component;function a(s){let u={};for(let f=0;f<i.length;f+=1)u=pn(u,i[f]);return{props:u}}return l&&(n=bt(l,a())),{c(){t=C("div"),n&&te(n.$$.fragment),r=F(),h(t,"class","box svelte-iwm583")},m(s,u){T(s,t,u),n&&Q(n,t,null),v(t,r),o=!0},p(s,u){const f=u&4?Cs(i,[ks(s[2])]):{};if(u&2&&l!==(l=s[4].component)){if(n){pe();const c=n;O(c.$$.fragment,1,0,()=>{K(c,1)}),me()}l?(n=bt(l,a()),te(n.$$.fragment),P(n.$$.fragment,1),Q(n,t,r)):n=null}else l&&n.$set(f)},i(s){o||(n&&P(n.$$.fragment,s),o=!0)},o(s){n&&O(n.$$.fragment,s),o=!1},d(s){s&&N(t),n&&K(n)}}}function di(e){let t,n,r=e[0]==e[4].value&&ci(e);return{c(){r&&r.c(),t=Ee()},m(o,i){r&&r.m(o,i),T(o,t,i),n=!0},p(o,i){o[0]==o[4].value?r?(r.p(o,i),i&3&&P(r,1)):(r=ci(o),r.c(),P(r,1),r.m(t.parentNode,t)):r&&(pe(),O(r,1,1,()=>{r=null}),me())},i(o){n||(P(r),n=!0)},o(o){O(r),n=!1},d(o){r&&r.d(o),o&&N(t)}}}function zc(e){let t,n,r,o,i=e[1],l=[];for(let f=0;f<i.length;f+=1)l[f]=fi(ui(e,i,f));let a=e[1],s=[];for(let f=0;f<a.length;f+=1)s[f]=di(ai(e,a,f));const u=f=>O(s[f],1,1,()=>{s[f]=null});return{c(){t=C("ul");for(let f=0;f<l.length;f+=1)l[f].c();n=F();for(let f=0;f<s.length;f+=1)s[f].c();r=Ee(),h(t,"class","svelte-iwm583")},m(f,c){T(f,t,c);for(let g=0;g<l.length;g+=1)l[g]&&l[g].m(t,null);T(f,n,c);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(f,c);T(f,r,c),o=!0},p(f,[c]){if(c&11){i=f[1];let g;for(g=0;g<i.length;g+=1){const d=ui(f,i,g);l[g]?l[g].p(d,c):(l[g]=fi(d),l[g].c(),l[g].m(t,null))}for(;g<l.length;g+=1)l[g].d(1);l.length=i.length}if(c&7){a=f[1];let g;for(g=0;g<a.length;g+=1){const d=ai(f,a,g);s[g]?(s[g].p(d,c),P(s[g],1)):(s[g]=di(d),s[g].c(),P(s[g],1),s[g].m(r.parentNode,r))}for(pe(),g=a.length;g<s.length;g+=1)u(g);me()}},i(f){if(!o){for(let c=0;c<a.length;c+=1)P(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)O(s[c]);o=!1},d(f){f&&N(t),Ce(l,f),f&&N(n),Ce(s,f),f&&N(r)}}}function Lc(e,t,n){let{items:r=[]}=t,{activeTabValue:o=1}=t,{tabProps:i={}}=t;const l=a=>()=>n(0,o=a);return e.$$set=a=>{"items"in a&&n(1,r=a.items),"activeTabValue"in a&&n(0,o=a.activeTabValue),"tabProps"in a&&n(2,i=a.tabProps)},[o,r,i,l]}class Hc extends ue{constructor(t){super(),de(this,t,Lc,zc,ae,{items:1,activeTabValue:0,tabProps:2})}}function gi(e){let t;return{c(){t=z("Press ENTER to autofill with the RAG answer.")},m(n,r){T(n,t,r)},d(n){n&&N(t)}}}function qc(e){let t,n,r,o,i,l,a,s,u,f,c,g,d,p=e[0].edited_answer===Zn&&gi();return{c(){t=C("form"),n=C("textarea"),o=F(),i=C("div"),l=C("div"),p&&p.c(),a=F(),s=C("div"),u=C("button"),u.textContent="Update",f=F(),c=C("button"),c.textContent="Reset",h(n,"placeholder",r=e[0].answer),h(l,"class","note svelte-i9wciy"),h(i,"class","button-container svelte-i9wciy")},m(m,_){T(m,t,_),v(t,n),We(n,e[0].edited_answer),e[6](n),v(t,o),v(t,i),v(i,l),p&&p.m(l,null),v(i,a),v(i,s),v(s,u),v(s,f),v(s,c),g||(d=[H(n,"input",e[5]),H(n,"keydown",e[4]),H(u,"click",e[2]),H(c,"click",e[3])],g=!0)},p(m,[_]){_&1&&r!==(r=m[0].answer)&&h(n,"placeholder",r),_&1&&We(n,m[0].edited_answer),m[0].edited_answer===Zn?p||(p=gi(),p.c(),p.m(l,null)):p&&(p.d(1),p=null)},i:L,o:L,d(m){m&&N(t),e[6](null),p&&p.d(),g=!1,_e(d)}}}const Zn="";function Gc(e,t,n){let{message:r={}}=t,o;const i=async c=>{const g={id:r.id,new_answer:c},d=await fetch("/chat/rag_table/update_answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(d.ok)console.log("Answer updated successfully",d),n(0,r.edited_answer=c,r);else{const p=await d.text();alert(p)}},l=c=>{c.preventDefault(),i(r.edited_answer)},a=c=>{c.preventDefault(),i(Zn)},s=c=>{c.key=="Enter"&&r.edited_answer===Zn&&(c.preventDefault(),console.log("ENTER"),n(0,r.edited_answer=r.answer,r))};dt(function(){o.focus()});function u(){r.edited_answer=this.value,n(0,r)}function f(c){ot[c?"unshift":"push"](()=>{o=c,n(1,o)})}return e.$$set=c=>{"message"in c&&n(0,r=c.message)},[r,o,l,a,s,u,f]}class Bc extends ue{constructor(t){super(),de(this,t,Gc,qc,ae,{message:0})}}function hi(e){let t,n,r,o,i,l;return{c(){t=C("div"),n=C("button"),n.textContent="👍",r=F(),o=C("button"),o.textContent="👎",h(n,"class","small-button thumbs-up svelte-1u8cd0w"),h(o,"class","small-button thumbs-down svelte-1u8cd0w"),h(t,"class","feedback-buttons svelte-1u8cd0w")},m(a,s){T(a,t,s),v(t,n),v(t,r),v(t,o),i||(l=[H(n,"click",e[4]),H(o,"click",e[5])],i=!0)},p:L,d(a){a&&N(t),i=!1,_e(l)}}}function jc(e){let t,n=e[0].answer+"",r,o,i,l=e[1]&&hi(e);return{c(){t=C("div"),r=z(n),o=F(),l&&l.c(),i=Ee()},m(a,s){T(a,t,s),v(t,r),T(a,o,s),l&&l.m(a,s),T(a,i,s)},p(a,[s]){s&1&&n!==(n=a[0].answer+"")&&ne(r,n),a[1]?l?l.p(a,s):(l=hi(a),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i:L,o:L,d(a){a&&N(t),a&&N(o),l&&l.d(a),a&&N(i)}}}async function Uc(e){const t=await fetch("/chat/rag_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function Wc(e,t,n){let r;ie(e,Ve,f=>n(6,r=f));let{message:o={}}=t,{feedback:i=!1}=t,{index:l=0}=t;function a(f,c,g){const d=r[g];d.vote=c;const p={id:g+1,vote_status:c};Uc(p),ft(f.currentTarget.parentNode).selectAll("button").style("border","3px solid transparent").style("opacity",.65),ft(f.currentTarget).style("border","3px solid var(--black)").style("opacity",1)}const s=f=>a(f,"up",l),u=f=>a(f,"down",l);return e.$$set=f=>{"message"in f&&n(0,o=f.message),"feedback"in f&&n(1,i=f.feedback),"index"in f&&n(2,l=f.index)},[o,i,l,a,s,u]}class Xc extends ue{constructor(t){super(),de(this,t,Wc,jc,ae,{message:0,feedback:1,index:2})}}function pi(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function mi(e,t){let n,r,o,i,l,a,s,u,f,c=t[19].question+"",g,d,p,m,_,w,b,A,R,$,M,S,k,y,E,D;return R=new Hc({props:{items:t[8],tabProps:{message:t[19],feedback:t[0],index:t[21]}}}),M=new Vc({props:{sources:t[19].source,source_content:t[19].source_content}}),{key:e,first:null,c(){n=C("div"),r=C("div"),o=C("div"),i=F(),l=C("div"),a=C("div"),s=C("h5"),s.textContent="Question:",u=F(),f=C("p"),g=z(c),d=F(),p=C("div"),m=C("p"),m.textContent="ℹ️ Retrieval Sources",w=F(),b=C("div"),A=C("div"),te(R.$$.fragment),$=F(),te(M.$$.fragment),S=F(),h(o,"class","avatar"),h(s,"class","bold"),h(m,"class","bold"),h(p,"class","rag-sources svelte-vgv4ev"),h(a,"class","question svelte-vgv4ev"),h(A,"class","answer svelte-vgv4ev"),h(b,"class","answers svelte-vgv4ev"),h(l,"class","message-content svelte-vgv4ev"),h(r,"class","chat-message-center svelte-vgv4ev"),h(n,"class","chat-message svelte-vgv4ev"),this.first=n},m(I,V){T(I,n,V),v(n,r),v(r,o),v(r,i),v(r,l),v(l,a),v(a,s),v(a,u),v(a,f),v(f,g),v(a,d),v(a,p),v(p,m),v(l,w),v(l,b),v(b,A),Q(R,A,null),v(l,$),Q(M,l,null),v(n,S),y=!0,E||(D=[mn(_=kc.call(null,m,_i(t[19]))),mn(k=Qc.call(null,n,t[21]===t[5].length-1))],E=!0)},p(I,V){t=I,(!y||V&32)&&c!==(c=t[19].question+"")&&ne(g,c),_&&Le(_.update)&&V&32&&_.update.call(null,_i(t[19]));const J={};V&33&&(J.tabProps={message:t[19],feedback:t[0],index:t[21]}),R.$set(J);const fe={};V&32&&(fe.sources=t[19].source),V&32&&(fe.source_content=t[19].source_content),M.$set(fe),k&&Le(k.update)&&V&32&&k.update.call(null,t[21]===t[5].length-1)},i(I){y||(P(R.$$.fragment,I),P(M.$$.fragment,I),y=!0)},o(I){O(R.$$.fragment,I),O(M.$$.fragment,I),y=!1},d(I){I&&N(n),K(R),K(M),E=!1,_e(D)}}}function Yc(e){let t,n,r,o,i,l,a,s,u,f,c,g,d,p,m=[],_=new Map,w,b,A,R,$,M,S,k,y,E=(e[2]?e[4]:"Send")+"",D,I,V,J,fe,re,be;function ke(Z){e[13](Z)}let q={table:"rag_table"};e[3]!==void 0&&(q.showModal=e[3]),t=new zs({props:q}),ot.push(()=>Kn(t,"showModal",ke));let G=e[5];const he=Z=>Z[21];for(let Z=0;Z<G.length;Z+=1){let oe=pi(e,G,Z),le=he(oe);_.set(le,m[Z]=mi(le,oe))}return R=new Sc({props:{documents:e[6]}}),{c(){te(t.$$.fragment),r=F(),o=C("div"),i=C("div"),l=C("h5"),l.textContent="Vote Feedback Instructions",a=F(),s=C("p"),s.innerHTML=`Ask a question to receive an answer from the chatbot. If the response is
      satisfactory, click on the <span class="inline-button green svelte-vgv4ev">👍</span>
      button. If the response is not satisfactory, click on the
      <span class="inline-button red svelte-vgv4ev">👎</span> button.`,u=F(),f=C("button"),f.textContent="Download Data",c=F(),g=C("div"),d=C("section"),p=C("div");for(let Z=0;Z<m.length;Z+=1)m[Z].c();w=F(),b=C("div"),A=C("div"),te(R.$$.fragment),$=F(),M=C("form"),S=C("input"),k=F(),y=C("button"),D=z(E),V=F(),J=C("p"),J.textContent="Note - may produce inaccurate information.",h(l,"class","underline bold svelte-vgv4ev"),h(s,"class","svelte-vgv4ev"),h(f,"class","svelte-vgv4ev"),h(i,"class","instructions svelte-vgv4ev"),h(p,"class","chat-log svelte-vgv4ev"),h(d,"class","chatbox svelte-vgv4ev"),h(S,"class","chat-input-textarea svelte-vgv4ev"),h(S,"placeholder","Type Question Here"),h(y,"class",I="btnyousend "+(e[1]===""?"":"active")+" svelte-vgv4ev"),h(y,"type","submit"),h(M,"class","chat-input-form svelte-vgv4ev"),h(A,"class","chat-and-question svelte-vgv4ev"),h(J,"class","message svelte-vgv4ev"),h(b,"class","chat-input-holder svelte-vgv4ev"),h(g,"class","ranked-chat svelte-vgv4ev"),h(o,"class","ranked-feedback-container svelte-vgv4ev")},m(Z,oe){Q(t,Z,oe),T(Z,r,oe),T(Z,o,oe),v(o,i),v(i,l),v(i,a),v(i,s),v(i,u),v(i,f),v(o,c),v(o,g),v(g,d),v(d,p);for(let le=0;le<m.length;le+=1)m[le]&&m[le].m(p,null);v(g,w),v(g,b),v(b,A),Q(R,A,null),v(A,$),v(A,M),v(M,S),We(S,e[1]),v(M,k),v(M,y),v(y,D),v(b,V),v(b,J),fe=!0,re||(be=[H(f,"click",e[10]),H(S,"input",e[14]),H(M,"submit",e[9])],re=!0)},p(Z,[oe]){const le={};!n&&oe&8&&(n=!0,le.showModal=Z[3],Qn(()=>n=!1)),t.$set(le),oe&289&&(G=Z[5],pe(),m=Qt(m,oe,he,1,Z,G,_,p,Ss,mi,null,pi),me());const An={};oe&64&&(An.documents=Z[6]),R.$set(An),oe&2&&S.value!==Z[1]&&We(S,Z[1]),(!fe||oe&20)&&E!==(E=(Z[2]?Z[4]:"Send")+"")&&ne(D,E),(!fe||oe&2&&I!==(I="btnyousend "+(Z[1]===""?"":"active")+" svelte-vgv4ev"))&&h(y,"class",I)},i(Z){if(!fe){P(t.$$.fragment,Z);for(let oe=0;oe<G.length;oe+=1)P(m[oe]);P(R.$$.fragment,Z),fe=!0}},o(Z){O(t.$$.fragment,Z);for(let oe=0;oe<m.length;oe+=1)O(m[oe]);O(R.$$.fragment,Z),fe=!1},d(Z){K(t,Z),Z&&N(r),Z&&N(o);for(let oe=0;oe<m.length;oe+=1)m[oe].d();K(R),re=!1,_e(be)}}}function Qc(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}function _i(e){return e.rag_sources.length===0?"No Sources":e.rag_sources.join(", ")}function Kc(e,t,n){let r,o,i,l;ie(e,Ve,M=>n(5,o=M)),ie(e,Zr,M=>n(16,i=M));let{feedback:a=!1}=t,{is_retrieval:s=!1}=t;const u=Fe([]);ie(e,u,M=>n(6,l=M));let f="",c="",g=!1,d=!1,p=[{label:"Answer",value:1,component:Xc},{label:"Modified Answer",value:2,component:Bc}];dt(()=>{_(),m()});async function m(){const S=await(await fetch("/retrieval/file/get")).json();console.log("data",S.files);const y=S.files.map((E,D)=>({id:String(D),name:E.name}));console.log("files",y),He(u,l=[...y],l)}async function _(){const k=(await(await fetch("/chat/rag_table/retrieve")).json()).rows;console.log("Got data from db",k);const y=k.map(E=>({id:E[0],question:E[1],answer:E[2],edited_answer:E[3],vote_status:E[4],rag_sources:E[5],source:E[6],source_content:E[7]}));He(Ve,o=[...y],o)}const w=async M=>{M.preventDefault(),f=c,n(1,c=""),n(2,g=!0);const S=[...i];let k={id:o.length+1,question:f,answer:"Loading...",rag_sources:S,vote_status:"na",source:["Loading..."],source_content:["Loading..."]};He(Ve,o=[...o,k],o);const y=s?await fetch("/retrieval/new_message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:f,file_names:S})}):await fetch(`/chat/${f}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:f})});if(y.ok){const E=await y.json();console.log("response data",E),k.answer=E.answer,k.source=E.source,k.source_content=E.source_content,Ve.update(D=>(D[D.length-1]=k,D))}else{const E=await y.text();alert(E)}n(2,g=!1)};let b=0;setInterval(()=>{n(12,b=(b+1)%4)},200);function A(){n(3,d=!0)}function R(M){d=M,n(3,d)}function $(){c=this.value,n(1,c)}return e.$$set=M=>{"feedback"in M&&n(0,a=M.feedback),"is_retrieval"in M&&n(11,s=M.is_retrieval)},e.$$.update=()=>{e.$$.dirty&4096&&n(4,r=".".repeat(b).padEnd(3))},[a,c,g,d,r,o,l,u,p,w,A,s,b,R,$]}class Jc extends ue{constructor(t){super(),de(this,t,Kc,Yc,ae,{feedback:0,is_retrieval:11})}}function vi(e){let t,n;return t=new Co({props:{is_retrieval:e[1]}}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},p(r,o){const i={};o&2&&(i.is_retrieval=r[1]),t.$set(i)},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function bi(e){let t,n;return t=new Co({props:{feedback:!0,is_retrieval:e[1]}}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},p(r,o){const i={};o&2&&(i.is_retrieval=r[1]),t.$set(i)},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function wi(e){let t,n;return t=new Jc({props:{feedback:!0,is_retrieval:e[1]}}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},p(r,o){const i={};o&2&&(i.is_retrieval=r[1]),t.$set(i)},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function yi(e){let t,n,r,o;const i=[ed,Zc],l=[];function a(s,u){return s[1]?0:1}return t=a(e),n=l[t]=i[t](e),{c(){n.c(),r=Ee()},m(s,u){l[t].m(s,u),T(s,r,u),o=!0},p(s,u){let f=t;t=a(s),t===f?l[t].p(s,u):(pe(),O(l[f],1,1,()=>{l[f]=null}),me(),n=l[t],n?n.p(s,u):(n=l[t]=i[t](s),n.c()),P(n,1),n.m(r.parentNode,r))},i(s){o||(P(n),o=!0)},o(s){O(n),o=!1},d(s){l[t].d(s),s&&N(r)}}}function Zc(e){let t,n;return t=new bc({}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},p:L,i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function ed(e){let t,n;return t=new Co({props:{feedback:!0,is_retrieval:e[1]}}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},p(r,o){const i={};o&2&&(i.is_retrieval=r[1]),t.$set(i)},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function td(e){let t,n,r,o,i,l=!e[0]&&vi(e),a=e[0]==="vote"&&bi(e),s=e[0]==="rag"&&wi(e),u=e[0]==="rank"&&yi(e);return{c(){l&&l.c(),t=F(),a&&a.c(),n=F(),s&&s.c(),r=F(),u&&u.c(),o=Ee()},m(f,c){l&&l.m(f,c),T(f,t,c),a&&a.m(f,c),T(f,n,c),s&&s.m(f,c),T(f,r,c),u&&u.m(f,c),T(f,o,c),i=!0},p(f,[c]){f[0]?l&&(pe(),O(l,1,1,()=>{l=null}),me()):l?(l.p(f,c),c&1&&P(l,1)):(l=vi(f),l.c(),P(l,1),l.m(t.parentNode,t)),f[0]==="vote"?a?(a.p(f,c),c&1&&P(a,1)):(a=bi(f),a.c(),P(a,1),a.m(n.parentNode,n)):a&&(pe(),O(a,1,1,()=>{a=null}),me()),f[0]==="rag"?s?(s.p(f,c),c&1&&P(s,1)):(s=wi(f),s.c(),P(s,1),s.m(r.parentNode,r)):s&&(pe(),O(s,1,1,()=>{s=null}),me()),f[0]==="rank"?u?(u.p(f,c),c&1&&P(u,1)):(u=yi(f),u.c(),P(u,1),u.m(o.parentNode,o)):u&&(pe(),O(u,1,1,()=>{u=null}),me())},i(f){i||(P(l),P(a),P(s),P(u),i=!0)},o(f){O(l),O(a),O(s),O(u),i=!1},d(f){l&&l.d(f),f&&N(t),a&&a.d(f),f&&N(n),s&&s.d(f),f&&N(r),u&&u.d(f),f&&N(o)}}}function nd(e,t,n){let{feedback:r}=t,{is_retrieval:o}=t;return e.$$set=i=>{"feedback"in i&&n(0,r=i.feedback),"is_retrieval"in i&&n(1,o=i.is_retrieval)},[r,o]}class rd extends ue{constructor(t){super(),de(this,t,nd,td,ae,{feedback:0,is_retrieval:1})}}function Si(e,t,n){const r=e.slice();return r[2]=t[n],r}function Ci(e){let t,n=e[2]+"",r,o;return{c(){t=C("option"),r=z(n),t.__value=o=e[2],t.value=t.__value},m(i,l){T(i,t,l),v(t,r)},p(i,l){l&1&&n!==(n=i[2]+"")&&ne(r,n),l&1&&o!==(o=i[2])&&(t.__value=o,t.value=t.__value)},d(i){i&&N(t)}}}function od(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=Ci(Si(e,n,o));return{c(){t=C("select");for(let o=0;o<r.length;o+=1)r[o].c()},m(o,i){T(o,t,i);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(o,[i]){if(i&1){n=o[0];let l;for(l=0;l<n.length;l+=1){const a=Si(o,n,l);r[l]?r[l].p(a,i):(r[l]=Ci(a),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:L,o:L,d(o){o&&N(t),Ce(r,o)}}}function id(e,t,n){let{data_endpoint:r}=t,o=[];return dt(async()=>{const i=await fetch(`/data/${r}`);n(0,o=await i.json())}),e.$$set=i=>{"data_endpoint"in i&&n(1,r=i.data_endpoint)},[o,r]}class ld extends ue{constructor(t){super(),de(this,t,id,od,ae,{data_endpoint:1})}}function qt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sd(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hs(e){let t,n,r;e.length!==2?(t=qt,n=(a,s)=>qt(e(a),s),r=(a,s)=>e(a)-s):(t=e===qt||e===sd?e:ad,n=e,r=e);function o(a,s,u=0,f=a.length){if(u<f){if(t(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function i(a,s,u=0,f=a.length){if(u<f){if(t(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=o(a,s,u,f-1);return c>u&&r(a[c-1],s)>-r(a[c],s)?c-1:c}return{left:o,center:l,right:i}}function ad(){return 0}function ud(e){return e===null?NaN:+e}function*fd(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const cd=Hs(qt),dd=cd.right;Hs(ud).center;const qs=dd;function gd(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(o=+o)>=o&&++n}return n}function un(e,t){let n,r;if(t===void 0)for(const o of e)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class ki extends Map{constructor(t,n=md){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get($i(this,t))}has(t){return super.has($i(this,t))}set(t,n){return super.set(hd(this,t),n)}delete(t){return super.delete(pd(this,t))}}function $i({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function hd({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function pd({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function md(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _d(e){return e}function vd(e=qt){if(e===qt)return Gs;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Gs(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var bd=Array.prototype,wd=bd.slice;function Er(e){return()=>e}const yd=Math.sqrt(50),Sd=Math.sqrt(10),Cd=Math.sqrt(2);function er(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),l=i>=yd?10:i>=Sd?5:i>=Cd?2:1;let a,s,u;return o<0?(u=Math.pow(10,-o)/l,a=Math.round(e*u),s=Math.round(t*u),a/u<e&&++a,s/u>t&&--s,u=-u):(u=Math.pow(10,o)*l,a=Math.round(e/u),s=Math.round(t/u),a*u<e&&++a,s*u>t&&--s),s<a&&.5<=n&&n<2?er(e,t,n*2):[a,s,u]}function Bs(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,i,l]=r?er(t,e,n):er(e,t,n);if(!(i>=o))return[];const a=i-o+1,s=new Array(a);if(r)if(l<0)for(let u=0;u<a;++u)s[u]=(i-u)/-l;else for(let u=0;u<a;++u)s[u]=(i-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(o+u)/-l;else for(let u=0;u<a;++u)s[u]=(o+u)*l;return s}function Ut(e,t,n){return t=+t,e=+e,n=+n,er(e,t,n)[2]}function kd(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?Ut(t,e,n):Ut(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function $d(e,t,n){let r;for(;;){const o=Ut(e,t,n);if(o===r||o===0||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),r=o}}function Ad(e){return Math.max(1,Math.ceil(Math.log(gd(e))/Math.LN2)+1)}function js(){var e=_d,t=un,n=Ad;function r(o){Array.isArray(o)||(o=Array.from(o));var i,l=o.length,a,s,u=new Array(l);for(i=0;i<l;++i)u[i]=e(o[i],i,o);var f=t(u),c=f[0],g=f[1],d=n(u,c,g);if(!Array.isArray(d)){const A=g,R=+d;if(t===un&&([c,g]=$d(c,g,R)),d=Bs(c,g,R),d[0]<=c&&(s=Ut(c,g,R)),d[d.length-1]>=g)if(A>=g&&t===un){const $=Ut(c,g,R);isFinite($)&&($>0?g=(Math.floor(g/$)+1)*$:$<0&&(g=(Math.ceil(g*-$)+1)/-$))}else d.pop()}for(var p=d.length,m=0,_=p;d[m]<=c;)++m;for(;d[_-1]>g;)--_;(m||_<p)&&(d=d.slice(m,_),p=_-m);var w=new Array(p+1),b;for(i=0;i<=p;++i)b=w[i]=[],b.x0=i>0?d[i-1]:c,b.x1=i<p?d[i]:g;if(isFinite(s)){if(s>0)for(i=0;i<l;++i)(a=u[i])!=null&&c<=a&&a<=g&&w[Math.min(p,Math.floor((a-c)/s))].push(o[i]);else if(s<0){for(i=0;i<l;++i)if((a=u[i])!=null&&c<=a&&a<=g){const A=Math.floor((c-a)*s);w[Math.min(p,A+(d[A]<=a))].push(o[i])}}}else for(i=0;i<l;++i)(a=u[i])!=null&&c<=a&&a<=g&&w[qs(d,a,0,p)].push(o[i]);return w}return r.value=function(o){return arguments.length?(e=typeof o=="function"?o:Er(o),r):e},r.domain=function(o){return arguments.length?(t=typeof o=="function"?o:Er([o[0],o[1]]),r):t},r.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Er(Array.isArray(o)?wd.call(o):o),r):n},r}function Mt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Ai(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Us(e,t,n=0,r=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=o===void 0?Gs:vd(o);r>n;){if(r-n>600){const s=r-n+1,u=t-n+1,f=Math.log(s),c=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*c*(s-c)/s)*(u-s/2<0?-1:1),d=Math.max(n,Math.floor(t-u*c/s+g)),p=Math.min(r,Math.floor(t+(s-u)*c/s+g));Us(e,t,d,p,o)}const i=e[t];let l=n,a=r;for(Zt(e,n,t),o(e[r],i)>0&&Zt(e,n,r);l<a;){for(Zt(e,l,a),++l,--a;o(e[l],i)<0;)++l;for(;o(e[a],i)>0;)--a}o(e[n],i)===0?Zt(e,n,a):(++a,Zt(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Zt(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Rd(e,t,n){if(e=Float64Array.from(fd(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Ai(e);if(t>=1)return Mt(e);var r,o=(r-1)*t,i=Math.floor(o),l=Mt(Us(e,i).subarray(0,i+1)),a=Ai(e.subarray(i+1));return l+(a-l)*(o-i)}}function Md(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(o);++r<o;)i[r]=e+r*n;return i}function Ed(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Wt(e){return e=tr(Math.abs(e)),e?e[1]:NaN}function Fd(e,t){return function(n,r){for(var o=n.length,i=[],l=0,a=e[0],s=0;o>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),i.push(n.substring(o-=a,o+a)),!((s+=a+1)>r));)a=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Dd(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Id=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nr(e){if(!(t=Id.exec(e)))throw new Error("invalid format: "+e);var t;return new ko({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nr.prototype=ko.prototype;function ko(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ko.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nd(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var Ws;function Pd(e,t){var n=tr(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(Ws=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=r.length;return i===l?r:i>l?r+new Array(i-l+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+tr(e,Math.max(0,t+i-1))[0]}function Ri(e,t){var n=tr(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const Mi={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ed,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ri(e*100,t),r:Ri,s:Pd,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ei(e){return e}var Fi=Array.prototype.map,Di=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Td(e){var t=e.grouping===void 0||e.thousands===void 0?Ei:Fd(Fi.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Ei:Dd(Fi.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(c){c=nr(c);var g=c.fill,d=c.align,p=c.sign,m=c.symbol,_=c.zero,w=c.width,b=c.comma,A=c.precision,R=c.trim,$=c.type;$==="n"?(b=!0,$="g"):Mi[$]||(A===void 0&&(A=12),R=!0,$="g"),(_||g==="0"&&d==="=")&&(_=!0,g="0",d="=");var M=m==="$"?n:m==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",S=m==="$"?r:/[%p]/.test($)?l:"",k=Mi[$],y=/[defgprs%]/.test($);A=A===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function E(D){var I=M,V=S,J,fe,re;if($==="c")V=k(D)+V,D="";else{D=+D;var be=D<0||1/D<0;if(D=isNaN(D)?s:k(Math.abs(D),A),R&&(D=Nd(D)),be&&+D==0&&p!=="+"&&(be=!1),I=(be?p==="("?p:a:p==="-"||p==="("?"":p)+I,V=($==="s"?Di[8+Ws/3]:"")+V+(be&&p==="("?")":""),y){for(J=-1,fe=D.length;++J<fe;)if(re=D.charCodeAt(J),48>re||re>57){V=(re===46?o+D.slice(J+1):D.slice(J))+V,D=D.slice(0,J);break}}}b&&!_&&(D=t(D,1/0));var ke=I.length+D.length+V.length,q=ke<w?new Array(w-ke+1).join(g):"";switch(b&&_&&(D=t(q+D,q.length?w-V.length:1/0),q=""),d){case"<":D=I+D+V+q;break;case"=":D=I+q+D+V;break;case"^":D=q.slice(0,ke=q.length>>1)+I+D+V+q.slice(ke);break;default:D=q+I+D+V;break}return i(D)}return E.toString=function(){return c+""},E}function f(c,g){var d=u((c=nr(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Wt(g)/3)))*3,m=Math.pow(10,-p),_=Di[8+p/3];return function(w){return d(m*w)+_}}return{format:u,formatPrefix:f}}var En,Dt,Xs;Od({thousands:",",grouping:[3],currency:["$",""]});function Od(e){return En=Td(e),Dt=En.format,Xs=En.formatPrefix,En}function xd(e){return Math.max(0,-Wt(Math.abs(e)))}function Vd(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wt(t)/3)))*3-Wt(Math.abs(e)))}function zd(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wt(t)-Wt(e))+1}function $o(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Ii=Symbol("implicit");function br(){var e=new ki,t=[],n=[],r=Ii;function o(i){let l=e.get(i);if(l===void 0){if(r!==Ii)return r;e.set(i,l=t.push(i)-1)}return n[l%n.length]}return o.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ki;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return br(t,n).unknown(r)},$o.apply(o,arguments),o}function Ao(){var e=br().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,i,l,a=!1,s=0,u=0,f=.5;delete e.unknown;function c(){var g=t().length,d=o<r,p=d?o:r,m=d?r:o;i=(m-p)/Math.max(1,g-s+u*2),a&&(i=Math.floor(i)),p+=(m-p-i*(g-s))*f,l=i*(1-s),a&&(p=Math.round(p),l=Math.round(l));var _=Md(g).map(function(w){return p+i*w});return n(d?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),c()):t()},e.range=function(g){return arguments.length?([r,o]=g,r=+r,o=+o,c()):[r,o]},e.rangeRound=function(g){return[r,o]=g,r=+r,o=+o,a=!0,c()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(a=!!g,c()):a},e.padding=function(g){return arguments.length?(s=Math.min(1,u=+g),c()):s},e.paddingInner=function(g){return arguments.length?(s=Math.min(1,g),c()):s},e.paddingOuter=function(g){return arguments.length?(u=+g,c()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),c()):f},e.copy=function(){return Ao(t(),[r,o]).round(a).paddingInner(s).paddingOuter(u).align(f)},$o.apply(c(),arguments)}function Ro(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ys(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cn(){}var bn=.7,rr=1/bn,Gt="\\s*([+-]?\\d+)\\s*",wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ld=/^#([0-9a-f]{3,8})$/,Hd=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),qd=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),Gd=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${wn}\\)$`),Bd=new RegExp(`^rgba\\(${nt},${nt},${nt},${wn}\\)$`),jd=new RegExp(`^hsl\\(${wn},${nt},${nt}\\)$`),Ud=new RegExp(`^hsla\\(${wn},${nt},${nt},${wn}\\)$`),Ni={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ro(Cn,yn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pi,formatHex:Pi,formatHex8:Wd,formatHsl:Xd,formatRgb:Ti,toString:Ti});function Pi(){return this.rgb().formatHex()}function Wd(){return this.rgb().formatHex8()}function Xd(){return Qs(this).formatHsl()}function Ti(){return this.rgb().formatRgb()}function yn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ld.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Oi(t):n===3?new ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hd.exec(e))?new ze(t[1],t[2],t[3],1):(t=qd.exec(e))?new ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Gd.exec(e))?Fn(t[1],t[2],t[3],t[4]):(t=Bd.exec(e))?Fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jd.exec(e))?zi(t[1],t[2]/100,t[3]/100,1):(t=Ud.exec(e))?zi(t[1],t[2]/100,t[3]/100,t[4]):Ni.hasOwnProperty(e)?Oi(Ni[e]):e==="transparent"?new ze(NaN,NaN,NaN,0):null}function Oi(e){return new ze(e>>16&255,e>>8&255,e&255,1)}function Fn(e,t,n,r){return r<=0&&(e=t=n=NaN),new ze(e,t,n,r)}function Yd(e){return e instanceof Cn||(e=yn(e)),e?(e=e.rgb(),new ze(e.r,e.g,e.b,e.opacity)):new ze}function no(e,t,n,r){return arguments.length===1?Yd(e):new ze(e,t,n,r??1)}function ze(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ro(ze,no,Ys(Cn,{brighter(e){return e=e==null?rr:Math.pow(rr,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bn:Math.pow(bn,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ze(Rt(this.r),Rt(this.g),Rt(this.b),or(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xi,formatHex:xi,formatHex8:Qd,formatRgb:Vi,toString:Vi}));function xi(){return`#${$t(this.r)}${$t(this.g)}${$t(this.b)}`}function Qd(){return`#${$t(this.r)}${$t(this.g)}${$t(this.b)}${$t((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vi(){const e=or(this.opacity);return`${e===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${e===1?")":`, ${e})`}`}function or(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $t(e){return e=Rt(e),(e<16?"0":"")+e.toString(16)}function zi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qe(e,t,n,r)}function Qs(e){if(e instanceof Qe)return new Qe(e.h,e.s,e.l,e.opacity);if(e instanceof Cn||(e=yn(e)),!e)return new Qe;if(e instanceof Qe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),l=NaN,a=i-o,s=(i+o)/2;return a?(t===i?l=(n-r)/a+(n<r)*6:n===i?l=(r-t)/a+2:l=(t-n)/a+4,a/=s<.5?i+o:2-i-o,l*=60):a=s>0&&s<1?0:l,new Qe(l,a,s,e.opacity)}function Kd(e,t,n,r){return arguments.length===1?Qs(e):new Qe(e,t,n,r??1)}function Qe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ro(Qe,Kd,Ys(Cn,{brighter(e){return e=e==null?rr:Math.pow(rr,e),new Qe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bn:Math.pow(bn,e),new Qe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ze(Fr(e>=240?e-240:e+120,o,r),Fr(e,o,r),Fr(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Qe(Li(this.h),Dn(this.s),Dn(this.l),or(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=or(this.opacity);return`${e===1?"hsl(":"hsla("}${Li(this.h)}, ${Dn(this.s)*100}%, ${Dn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Li(e){return e=(e||0)%360,e<0?e+360:e}function Dn(e){return Math.max(0,Math.min(1,e||0))}function Fr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Mo=e=>()=>e;function Jd(e,t){return function(n){return e+n*t}}function Zd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function eg(e){return(e=+e)==1?Ks:function(t,n){return n-t?Zd(t,n,e):Mo(isNaN(t)?n:t)}}function Ks(e,t){var n=t-e;return n?Jd(e,n):Mo(isNaN(e)?t:e)}const Hi=function e(t){var n=eg(t);function r(o,i){var l=n((o=no(o)).r,(i=no(i)).r),a=n(o.g,i.g),s=n(o.b,i.b),u=Ks(o.opacity,i.opacity);return function(f){return o.r=l(f),o.g=a(f),o.b=s(f),o.opacity=u(f),o+""}}return r.gamma=e,r}(1);function tg(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function ng(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rg(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),l;for(l=0;l<r;++l)o[l]=wr(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(a){for(l=0;l<r;++l)i[l]=o[l](a);return i}}function og(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ir(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ig(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=wr(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var ro=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dr=new RegExp(ro.source,"g");function lg(e){return function(){return e}}function sg(e){return function(t){return e(t)+""}}function ag(e,t){var n=ro.lastIndex=Dr.lastIndex=0,r,o,i,l=-1,a=[],s=[];for(e=e+"",t=t+"";(r=ro.exec(e))&&(o=Dr.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),a[l]?a[l]+=i:a[++l]=i),(r=r[0])===(o=o[0])?a[l]?a[l]+=o:a[++l]=o:(a[++l]=null,s.push({i:l,x:ir(r,o)})),n=Dr.lastIndex;return n<t.length&&(i=t.slice(n),a[l]?a[l]+=i:a[++l]=i),a.length<2?s[0]?sg(s[0].x):lg(t):(t=s.length,function(u){for(var f=0,c;f<t;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function wr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Mo(t):(n==="number"?ir:n==="string"?(r=yn(t))?(t=r,Hi):ag:t instanceof yn?Hi:t instanceof Date?og:ng(t)?tg:Array.isArray(t)?rg:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ig:ir)(e,t)}function ug(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function fg(e){return function(){return e}}function cg(e){return+e}var qi=[0,1];function Vt(e){return e}function oo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:fg(isNaN(t)?NaN:.5)}function dg(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function gg(e,t,n){var r=e[0],o=e[1],i=t[0],l=t[1];return o<r?(r=oo(o,r),i=n(l,i)):(r=oo(r,o),i=n(i,l)),function(a){return i(r(a))}}function hg(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)o[l]=oo(e[l],e[l+1]),i[l]=n(t[l],t[l+1]);return function(a){var s=qs(e,a,1,r)-1;return i[s](o[s](a))}}function pg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mg(){var e=qi,t=qi,n=wr,r,o,i,l=Vt,a,s,u;function f(){var g=Math.min(e.length,t.length);return l!==Vt&&(l=dg(e[0],e[g-1])),a=g>2?hg:gg,s=u=null,c}function c(g){return g==null||isNaN(g=+g)?i:(s||(s=a(e.map(r),t,n)))(r(l(g)))}return c.invert=function(g){return l(o((u||(u=a(t,e.map(r),ir)))(g)))},c.domain=function(g){return arguments.length?(e=Array.from(g,cg),f()):e.slice()},c.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},c.rangeRound=function(g){return t=Array.from(g),n=ug,f()},c.clamp=function(g){return arguments.length?(l=g?!0:Vt,f()):l!==Vt},c.interpolate=function(g){return arguments.length?(n=g,f()):n},c.unknown=function(g){return arguments.length?(i=g,c):i},function(g,d){return r=g,o=d,f()}}function _g(){return mg()(Vt,Vt)}function vg(e,t,n,r){var o=kd(e,t,n),i;switch(r=nr(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Vd(o,l))&&(r.precision=i),Xs(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=zd(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=xd(o))&&(r.precision=i-(r.type==="%")*2);break}}return Dt(r)}function bg(e){var t=e.domain;return e.ticks=function(n){var r=t();return Bs(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return vg(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,i=r.length-1,l=r[o],a=r[i],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=o,o=i,i=u);f-- >0;){if(u=Ut(l,a,n),u===s)return r[o]=l,r[i]=a,t(r);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return e},e}function Ke(){var e=_g();return e.copy=function(){return pg(e,Ke())},$o.apply(e,arguments),bg(e)}function In(e){return function(){return e}}function wg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function io(e,t){if((l=e.length)>1)for(var n=1,r,o,i=e[t[0]],l,a=i.length;n<l;++n)for(o=i,i=e[t[n]],r=0;r<a;++r)i[r][1]+=i[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function lo(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function yg(e,t){return e[t]}function Sg(e){const t=[];return t.key=e,t}function Cg(){var e=In([]),t=lo,n=io,r=yg;function o(i){var l=Array.from(e.apply(this,arguments),Sg),a,s=l.length,u=-1,f;for(const c of i)for(a=0,++u;a<s;++a)(l[a][u]=[0,+r(c,l[a].key,u,i)]).data=c;for(a=0,f=wg(t(l));a<s;++a)l[f[a]].index=a;return n(l,f),l}return o.keys=function(i){return arguments.length?(e=typeof i=="function"?i:In(Array.from(i)),o):e},o.value=function(i){return arguments.length?(r=typeof i=="function"?i:In(+i),o):r},o.order=function(i){return arguments.length?(t=i==null?lo:typeof i=="function"?i:In(Array.from(i)),o):t},o.offset=function(i){return arguments.length?(n=i??io,o):n},o}function Gi(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function Bi(e,t,n){const r=e.slice();r[24]=t[n];const o=r[4][r[21].key];return r[25]=o,r}function ji(e){let t,n,r,o,i,l,a,s,u,f,c,g,d,p,m=e[21].key+"",_,w,b=e[11](e[25]/e[2])+"",A,R,$,M,S,k;return{c(){t=W("rect"),u=W("line"),p=W("text"),_=z(m),w=W("tspan"),A=z(b),$=F(),h(t,"class",n="horizontal-bar-rect "+(e[5]===e[23]?"selected":"unselected")+" svelte-tg5p7i"),h(t,"y",r=e[8](e[24].data.xVal)),h(t,"x",o=e[7](e[24][0])),h(t,"stroke","var(--black)"),h(t,"width",i=e[7](e[24][1])-e[7](e[24][0])),h(t,"fill",l=e[10](e[21].key)),h(t,"opacity",a=e[5]==="all"||e[5]===e[23]?"1":"0.25"),h(t,"height",s=e[8].bandwidth()),h(u,"class","line svelte-tg5p7i"),h(u,"x1",f=e[7](e[24][0])),h(u,"x2",c=e[7](e[24][0])),h(u,"y1",g=e[8](e[24].data.xVal)-mt),h(u,"y2",d=e[8].bandwidth()+e[8](e[24].data.xVal)+mt),h(u,"stroke","black"),h(w,"x",R=(e[7](e[24][0])+e[7](e[24][1]))/2),h(w,"dy","16"),h(w,"text-anchor","middle"),h(p,"class","horizontal-bar-text svelte-tg5p7i"),h(p,"y",M=e[8].bandwidth()/2),h(p,"x",S=(e[7](e[24][0])+e[7](e[24][1]))/2),h(p,"opacity",k=e[5]==="all"||e[5]===e[23]?"1":"0.25"),h(p,"text-anchor","middle")},m(y,E){T(y,t,E),T(y,u,E),T(y,p,E),v(p,_),v(p,w),v(w,A),v(p,$)},p(y,E){E&32&&n!==(n="horizontal-bar-rect "+(y[5]===y[23]?"selected":"unselected")+" svelte-tg5p7i")&&h(t,"class",n),E&320&&r!==(r=y[8](y[24].data.xVal))&&h(t,"y",r),E&192&&o!==(o=y[7](y[24][0]))&&h(t,"x",o),E&192&&i!==(i=y[7](y[24][1])-y[7](y[24][0]))&&h(t,"width",i),E&64&&l!==(l=y[10](y[21].key))&&h(t,"fill",l),E&32&&a!==(a=y[5]==="all"||y[5]===y[23]?"1":"0.25")&&h(t,"opacity",a),E&256&&s!==(s=y[8].bandwidth())&&h(t,"height",s),E&192&&f!==(f=y[7](y[24][0]))&&h(u,"x1",f),E&192&&c!==(c=y[7](y[24][0]))&&h(u,"x2",c),E&320&&g!==(g=y[8](y[24].data.xVal)-mt)&&h(u,"y1",g),E&320&&d!==(d=y[8].bandwidth()+y[8](y[24].data.xVal)+mt)&&h(u,"y2",d),E&64&&m!==(m=y[21].key+"")&&ne(_,m),E&84&&b!==(b=y[11](y[25]/y[2])+"")&&ne(A,b),E&192&&R!==(R=(y[7](y[24][0])+y[7](y[24][1]))/2)&&h(w,"x",R),E&256&&M!==(M=y[8].bandwidth()/2)&&h(p,"y",M),E&192&&S!==(S=(y[7](y[24][0])+y[7](y[24][1]))/2)&&h(p,"x",S),E&32&&k!==(k=y[5]==="all"||y[5]===y[23]?"1":"0.25")&&h(p,"opacity",k)},d(y){y&&N(t),y&&N(u),y&&N(p)}}}function Ui(e){let t,n,r,o,i,l,a,s,u=e[21],f=[];for(let d=0;d<u.length;d+=1)f[d]=ji(Bi(e,u,d));function c(){return e[17](e[23],e[21])}function g(){return e[18](e[23],e[21])}return{c(){t=W("g");for(let d=0;d<f.length;d+=1)f[d].c();n=W("line"),h(n,"class","line svelte-tg5p7i"),h(n,"x1",r=e[3]-e[9].right),h(n,"x2",o=e[3]-e[9].right),h(n,"y1",i=e[8]("A")-mt),h(n,"y2",l=e[8].bandwidth()+e[8]("A")+mt),h(n,"stroke","black"),h(t,"class","series svelte-tg5p7i"),h(t,"role","button"),h(t,"tabindex","0")},m(d,p){T(d,t,p);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(t,null);v(t,n),a||(s=[H(t,"click",c),H(t,"keypress",g)],a=!0)},p(d,p){if(e=d,p&3572){u=e[21];let m;for(m=0;m<u.length;m+=1){const _=Bi(e,u,m);f[m]?f[m].p(_,p):(f[m]=ji(_),f[m].c(),f[m].m(t,n))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}p&8&&r!==(r=e[3]-e[9].right)&&h(n,"x1",r),p&8&&o!==(o=e[3]-e[9].right)&&h(n,"x2",o),p&256&&i!==(i=e[8]("A")-mt)&&h(n,"y1",i),p&256&&l!==(l=e[8].bandwidth()+e[8]("A")+mt)&&h(n,"y2",l)},d(d){d&&N(t),Ce(f,d),a=!1,_e(s)}}}function kg(e){let t,n,r,o,i,l=e[6],a=[];for(let s=0;s<l.length;s+=1)a[s]=Ui(Gi(e,l,s));return{c(){t=C("div"),t.innerHTML="<p>Feedback Distribution</p>",n=F(),r=C("div"),o=W("svg");for(let s=0;s<a.length;s+=1)a[s].c();h(o,"width",e[1]),h(o,"height",e[0]),h(r,"id","stackedrect-holder"),h(r,"class","svelte-tg5p7i"),Re(()=>e[19].call(r))},m(s,u){T(s,t,u),T(s,n,u),T(s,r,u),v(r,o);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(o,null);i=Ft(r,e[19].bind(r))},p(s,[u]){if(u&8188){l=s[6];let f;for(f=0;f<l.length;f+=1){const c=Gi(s,l,f);a[f]?a[f].p(c,u):(a[f]=Ui(c),a[f].c(),a[f].m(o,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}u&2&&h(o,"width",s[1]),u&1&&h(o,"height",s[0])},i:L,o:L,d(s){s&&N(t),s&&N(n),s&&N(r),Ce(a,s),i()}}}const mt=5;function $g(e,t,n){let r,o,i,l,a,s,u,f,c,g,d;ie(e,it,k=>n(15,c=k)),ie(e,Bo,k=>n(4,g=k)),ie(e,Ve,k=>n(16,d=k));let p=300,m=300;const _={up:2,down:1,"n/a":0,all:"all"},w={top:10,bottom:10,left:25,right:5},b=br().range(["var(--yellow)","var(--red)","var(--green)"]),A=Dt(".0%");function R(k,y){r===k?n(5,r="all"):n(5,r=k),He(it,c=r==="all"?"all":y,c)}const $=(k,y)=>R(k,y.key),M=(k,y)=>R(k,y.key);function S(){m=this.offsetWidth,p=this.offsetHeight,n(1,m),n(0,p)}return e.$$.update=()=>{e.$$.dirty&32768&&n(5,r=_[c]),e.$$.dirty&2&&n(3,o=m-w.left-w.right),e.$$.dirty&1&&n(14,i=p-w.top-w.bottom),e.$$.dirty&65552&&d.forEach(k=>{He(Bo,g[k.vote_status]++,g)}),e.$$.dirty&16&&n(2,l=g.up+g.down+g["n/a"]),e.$$.dirty&16384&&n(8,a=Ao().rangeRound([w.top,i-w.bottom]).padding(0).domain(["a"])),e.$$.dirty&12&&n(7,s=Ke().rangeRound([w.left,o-w.right]).domain([0,l])),e.$$.dirty&8208&&n(6,f=u([g]))},n(13,u=Cg().keys(["n/a","down","up"]).order(lo).offset(io)),[p,m,l,o,g,r,f,s,a,w,b,A,R,u,i,c,d,$,M,S]}class Js extends ue{constructor(t){super(),de(this,t,$g,kg,ae,{})}}function Ag(e){let t,n,r,o,i,l,a,s,u,f,c,g=e[3][e[2]]+"",d,p;return{c(){t=C("div"),n=C("div"),r=z("Q: "),o=z(e[0]),i=F(),l=C("div"),a=z("A: "),s=z(e[1]),u=F(),f=C("div"),c=z("Rating: "),d=z(g),h(n,"class","question svelte-szi0e"),h(l,"class","answer svelte-szi0e"),h(f,"class",p="feedback "+e[2]+" svelte-szi0e"),h(t,"class","qa-card svelte-szi0e")},m(m,_){T(m,t,_),v(t,n),v(n,r),v(n,o),v(t,i),v(t,l),v(l,a),v(l,s),v(t,u),v(t,f),v(f,c),v(f,d)},p(m,[_]){_&1&&ne(o,m[0]),_&2&&ne(s,m[1]),_&4&&g!==(g=m[3][m[2]]+"")&&ne(d,g),_&4&&p!==(p="feedback "+m[2]+" svelte-szi0e")&&h(f,"class",p)},i:L,o:L,d(m){m&&N(t)}}}function Rg(e,t,n){let{question:r="What is gradient descent?"}=t,{answer:o="Gradient descent is an algorithm used to minimize a loss function by taking small steps in the direction of steepest descent."}=t,{feedback:i="Good: 👍"}=t;const l={up:"Good 👍",down:"Bad 👎","n/a":"No Rating",all:"All"};return e.$$set=a=>{"question"in a&&n(0,r=a.question),"answer"in a&&n(1,o=a.answer),"feedback"in a&&n(2,i=a.feedback)},[r,o,i,l]}class Mg extends ue{constructor(t){super(),de(this,t,Rg,Ag,ae,{question:0,answer:1,feedback:2})}}function Wi(e,t,n){const r=e.slice();return r[5]=t[n].question,r[6]=t[n].answer,r[7]=t[n].vote_status,r}function Xi(e){let t,n,r,o,i;return n=new Mg({props:{question:e[5],answer:e[6],feedback:e[7]}}),{c(){t=C("div"),te(n.$$.fragment),r=F()},m(l,a){T(l,t,a),Q(n,t,null),v(t,r),i=!0},p(l,a){const s={};a&1&&(s.question=l[5]),a&1&&(s.answer=l[6]),a&1&&(s.feedback=l[7]),n.$set(s)},i(l){i||(P(n.$$.fragment,l),l&&Re(()=>{i&&(o||(o=et(t,e[1],{duration:300},!0)),o.run(1))}),i=!0)},o(l){O(n.$$.fragment,l),l&&(o||(o=et(t,e[1],{duration:300},!1)),o.run(0)),i=!1},d(l){l&&N(t),K(n),l&&o&&o.end()}}}function Eg(e){let t,n,r=e[0],o=[];for(let l=0;l<r.length;l+=1)o[l]=Xi(Wi(e,r,l));const i=l=>O(o[l],1,1,()=>{o[l]=null});return{c(){t=C("div");for(let l=0;l<o.length;l+=1)o[l].c();h(t,"class","qa-container svelte-1xv9cfi")},m(l,a){T(l,t,a);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(t,null);n=!0},p(l,[a]){if(a&1){r=l[0];let s;for(s=0;s<r.length;s+=1){const u=Wi(l,r,s);o[s]?(o[s].p(u,a),P(o[s],1)):(o[s]=Xi(u),o[s].c(),P(o[s],1),o[s].m(t,null))}for(pe(),s=r.length;s<o.length;s+=1)i(s);me()}},i(l){if(!n){for(let a=0;a<r.length;a+=1)P(o[a]);n=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)O(o[a]);n=!1},d(l){l&&N(t),Ce(o,l)}}}function Fg(e,t,n){let r,o,i,l;ie(e,Jr,s=>n(4,o=s)),ie(e,it,s=>n(2,i=s)),ie(e,_n,s=>n(3,l=s));const a=(s,{delay:u=0,duration:f=1e3,easing:c=wo})=>vn(s,{delay:u,duration:f,easing:c});return e.$$.update=()=>{e.$$.dirty&12&&n(0,r=i==="all"?l:l.filter(s=>s.vote_status===i)),e.$$.dirty&1&&He(Jr,o=Cc(r),o)},[r,a,i,l]}class Zs extends ue{constructor(t){super(),de(this,t,Fg,Eg,ae,{})}}function Yi(e,t,n){const r=e.slice();return r[13]=t[n],r}function Qi(e,t,n){const r=e.slice();return r[16]=t[n],r}function Ki(e,t,n){const r=e.slice();return r[16]=t[n],r}function Ji(e){let t,n,r,o,i=e[16]+"",l,a;return{c(){t=W("g"),n=W("line"),o=W("text"),l=z(i),h(n,"class","axis-tick svelte-1oikip4"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",r=-e[2]+e[10].bottom+e[10].top),h(n,"stroke","var(--squidink)"),h(n,"stroke-dasharray","4"),h(o,"class","axis-text svelte-1oikip4"),h(o,"y","15"),h(o,"text-anchor","middle"),h(t,"transform",a=`translate(${e[6](e[16])+e[6].bandwidth()/2} ${e[2]-e[10].bottom})`)},m(s,u){T(s,t,u),v(t,n),v(t,o),v(o,l)},p(s,u){u&4&&r!==(r=-s[2]+s[10].bottom+s[10].top)&&h(n,"y2",r),u&16&&i!==(i=s[16]+"")&&ne(l,i),u&84&&a!==(a=`translate(${s[6](s[16])+s[6].bandwidth()/2} ${s[2]-s[10].bottom})`)&&h(t,"transform",a)},d(s){s&&N(t)}}}function Zi(e){let t,n,r,o;return{c(){t=W("g"),n=W("line"),h(n,"class","axis-tick svelte-1oikip4"),h(n,"x1",0),h(n,"x2",r=e[3]-e[10].right-e[10].left),h(n,"y1","0"),h(n,"y2","0"),h(n,"stroke","black"),h(t,"transform",o=`translate(${e[10].left} ${e[5](e[16])+0})`)},m(i,l){T(i,t,l),v(t,n)},p(i,l){l&8&&r!==(r=i[3]-i[10].right-i[10].left)&&h(n,"x2",r),l&32&&o!==(o=`translate(${i[10].left} ${i[5](i[16])+0})`)&&h(t,"transform",o)},d(i){i&&N(t)}}}function el(e){let t,n,r,o,i,l,a,s,u=Math.round(e[11](e[13].count))+"",f,c,g;return{c(){t=W("g"),n=W("rect"),s=W("text"),f=z(u),h(n,"x",r=e[6](e[13].question)),h(n,"y",o=e[5](e[13].count)),h(n,"height",i=e[2]-e[5](e[13].count)-e[10].bottom),h(n,"fill",l=e[9][e[7]]),h(n,"fill-opacity","0.95"),h(n,"width",a=e[6].bandwidth()),h(n,"class","svelte-1oikip4"),h(s,"class","axis-text svelte-1oikip4"),h(s,"x",c=e[6](e[13].question)+e[6].bandwidth()/2),h(s,"y",g=e[5](e[13].count)-5),h(s,"text-anchor","middle"),h(t,"class","series")},m(d,p){T(d,t,p),v(t,n),v(t,s),v(s,f)},p(d,p){p&80&&r!==(r=d[6](d[13].question))&&h(n,"x",r),p&48&&o!==(o=d[5](d[13].count))&&h(n,"y",o),p&52&&i!==(i=d[2]-d[5](d[13].count)-d[10].bottom)&&h(n,"height",i),p&128&&l!==(l=d[9][d[7]])&&h(n,"fill",l),p&64&&a!==(a=d[6].bandwidth())&&h(n,"width",a),p&16&&u!==(u=Math.round(d[11](d[13].count))+"")&&ne(f,u),p&80&&c!==(c=d[6](d[13].question)+d[6].bandwidth()/2)&&h(s,"x",c),p&48&&g!==(g=d[5](d[13].count)-5)&&h(s,"y",g)},d(d){d&&N(t)}}}function Dg(e){let t,n,r,o,i,l,a=e[8][e[7]]+"",s,u,f,c,g,d,p,m,_,w=e[4].map(tl),b=[];for(let S=0;S<w.length;S+=1)b[S]=Ji(Ki(e,w,S));let A=e[5].ticks(),R=[];for(let S=0;S<A.length;S+=1)R[S]=Zi(Qi(e,A,S));let $=e[4],M=[];for(let S=0;S<$.length;S+=1)M[S]=el(Yi(e,$,S));return{c(){t=C("div"),n=W("svg");for(let S=0;S<b.length;S+=1)b[S].c();r=Ee();for(let S=0;S<R.length;S+=1)R[S].c();o=Ee();for(let S=0;S<M.length;S+=1)M[S].c();i=W("text"),l=z("Question Type: "),s=z(a),f=W("line"),p=W("line"),h(i,"class","chart-title svelte-1oikip4"),h(i,"y",e[10].top/2+1),h(i,"x",u=(e[3]+e[10].left)/2),h(i,"text-anchor","middle"),h(f,"class","axis-line svelte-1oikip4"),h(f,"x1",e[10].left),h(f,"x2",c=e[3]-e[10].right),h(f,"y1",g=e[2]-e[10].bottom),h(f,"y2",d=e[2]-e[10].bottom),h(p,"class","axis-line svelte-1oikip4"),h(p,"x1",e[10].left),h(p,"x2",e[10].left),h(p,"y1",e[10].top),h(p,"y2",m=e[2]-e[10].bottom),h(p,"opacity","0"),h(n,"width",e[1]),h(n,"height",e[0]),h(t,"id","stackedrect-holder"),h(t,"class","svelte-1oikip4"),Re(()=>e[12].call(t))},m(S,k){T(S,t,k),v(t,n);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(n,null);v(n,r);for(let y=0;y<R.length;y+=1)R[y]&&R[y].m(n,null);v(n,o);for(let y=0;y<M.length;y+=1)M[y]&&M[y].m(n,null);v(n,i),v(i,l),v(i,s),v(n,f),v(n,p),_=Ft(t,e[12].bind(t))},p(S,[k]){if(k&1108){w=S[4].map(tl);let y;for(y=0;y<w.length;y+=1){const E=Ki(S,w,y);b[y]?b[y].p(E,k):(b[y]=Ji(E),b[y].c(),b[y].m(n,r))}for(;y<b.length;y+=1)b[y].d(1);b.length=w.length}if(k&1064){A=S[5].ticks();let y;for(y=0;y<A.length;y+=1){const E=Qi(S,A,y);R[y]?R[y].p(E,k):(R[y]=Zi(E),R[y].c(),R[y].m(n,o))}for(;y<R.length;y+=1)R[y].d(1);R.length=A.length}if(k&3828){$=S[4];let y;for(y=0;y<$.length;y+=1){const E=Yi(S,$,y);M[y]?M[y].p(E,k):(M[y]=el(E),M[y].c(),M[y].m(n,i))}for(;y<M.length;y+=1)M[y].d(1);M.length=$.length}k&128&&a!==(a=S[8][S[7]]+"")&&ne(s,a),k&8&&u!==(u=(S[3]+S[10].left)/2)&&h(i,"x",u),k&8&&c!==(c=S[3]-S[10].right)&&h(f,"x2",c),k&4&&g!==(g=S[2]-S[10].bottom)&&h(f,"y1",g),k&4&&d!==(d=S[2]-S[10].bottom)&&h(f,"y2",d),k&4&&m!==(m=S[2]-S[10].bottom)&&h(p,"y2",m),k&2&&h(n,"width",S[1]),k&1&&h(n,"height",S[0])},i:L,o:L,d(S){S&&N(t),Ce(b,S),Ce(R,S),Ce(M,S),_()}}}const tl=e=>e.question;function Ig(e,t,n){let r,o,i,l,a,s;ie(e,Jr,_=>n(4,a=_)),ie(e,it,_=>n(7,s=_));const u={up:"Good 👍",down:"Bad 👎","n/a":"No Rating",all:"All"},f={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let c=300,g=300,d={top:35,bottom:10,left:25,right:5};const p=Dt(".1f");function m(){g=this.offsetWidth,c=this.offsetHeight,n(1,g),n(0,c)}return e.$$.update=()=>{e.$$.dirty&2&&n(3,r=g-d.left-d.right),e.$$.dirty&1&&n(2,o=c-d.top-d.bottom),e.$$.dirty&24&&n(6,i=Ao().rangeRound([d.left,r-d.right]).padding(.05).domain(a.map(_=>_.question))),e.$$.dirty&20&&n(5,l=Ke().rangeRound([o-d.bottom,d.top]).domain([0,Mt(a,_=>_.count)])),e.$$.dirty&16&&console.log(a)},[c,g,o,r,a,l,i,s,u,f,d,p,m]}class ea extends ue{constructor(t){super(),de(this,t,Ig,Dg,ae,{})}}function nl(e,t,n){const r=e.slice();r[19]=t[n];const o=r[7](r[19].x1)-r[7](r[19].x0);return r[20]=o,r}function rl(e,t,n){const r=e.slice();return r[23]=t[n],r}function ol(e){let t,n,r,o,i=e[23]+"",l,a;return{c(){t=W("g"),n=W("line"),o=W("text"),l=z(i),h(n,"class","axis-tick svelte-kz2qh6"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",r=-e[2]+e[9].bottom+e[9].top),h(n,"stroke","var(--squidink)"),h(n,"stroke-dasharray","4"),h(o,"class","axis-text svelte-kz2qh6"),h(o,"y","15"),h(o,"text-anchor","middle"),h(t,"transform",a=`translate(${e[7](e[23])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),h(t,"class","svelte-kz2qh6")},m(s,u){T(s,t,u),v(t,n),v(t,o),v(o,l)},p(s,u){u&4&&r!==(r=-s[2]+s[9].bottom+s[9].top)&&h(n,"y2",r),u&128&&i!==(i=s[23]+"")&&ne(l,i),u&132&&a!==(a=`translate(${s[7](s[23])+(s[7](1)-s[7](0))/2} ${s[2]-s[9].bottom})`)&&h(t,"transform",a)},d(s){s&&N(t)}}}function il(e){let t,n,r,o,i,l,a;return{c(){t=W("g"),n=W("rect"),h(n,"x",r=e[7](e[19].x0)+1),h(n,"width",o=e[20]),h(n,"y",i=e[6](e[19].length)),h(n,"height",l=e[6](0)-e[6](e[19].length)),h(n,"fill",a=e[8][e[5]]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-bin svelte-kz2qh6")},m(s,u){T(s,t,u),v(t,n)},p(s,u){u&136&&r!==(r=s[7](s[19].x0)+1)&&h(n,"x",r),u&136&&o!==(o=s[20])&&h(n,"width",o),u&72&&i!==(i=s[6](s[19].length))&&h(n,"y",i),u&72&&l!==(l=s[6](0)-s[6](s[19].length))&&h(n,"height",l),u&32&&a!==(a=s[8][s[5]])&&h(n,"fill",a)},d(s){s&&N(t)}}}function Ng(e){let t,n,r,o,i,l,a,s,u,f,c,g=e[7].ticks(),d=[];for(let _=0;_<g.length;_+=1)d[_]=ol(rl(e,g,_));let p=e[3],m=[];for(let _=0;_<p.length;_+=1)m[_]=il(nl(e,p,_));return{c(){t=C("div"),n=W("svg");for(let _=0;_<d.length;_+=1)d[_].c();r=Ee();for(let _=0;_<m.length;_+=1)m[_].c();o=W("text"),i=z("Answer Length"),a=W("line"),h(o,"class","chart-title svelte-kz2qh6"),h(o,"y",e[9].top/2+5),h(o,"x",l=(e[4]+e[9].left)/2),h(o,"text-anchor","middle"),h(a,"class","axis-line svelte-kz2qh6"),h(a,"x1",e[9].left),h(a,"x2",s=e[4]-e[9].right),h(a,"y1",u=e[2]-e[9].bottom),h(a,"y2",f=e[2]-e[9].bottom),h(n,"width",e[1]),h(n,"height",e[0]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-container svelte-kz2qh6"),Re(()=>e[14].call(t))},m(_,w){T(_,t,w),v(t,n);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(n,null);v(n,r);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(n,null);v(n,o),v(o,i),v(n,a),c=Ft(t,e[14].bind(t))},p(_,[w]){if(w&644){g=_[7].ticks();let b;for(b=0;b<g.length;b+=1){const A=rl(_,g,b);d[b]?d[b].p(A,w):(d[b]=ol(A),d[b].c(),d[b].m(n,r))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}if(w&488){p=_[3];let b;for(b=0;b<p.length;b+=1){const A=nl(_,p,b);m[b]?m[b].p(A,w):(m[b]=il(A),m[b].c(),m[b].m(n,o))}for(;b<m.length;b+=1)m[b].d(1);m.length=p.length}w&16&&l!==(l=(_[4]+_[9].left)/2)&&h(o,"x",l),w&16&&s!==(s=_[4]-_[9].right)&&h(a,"x2",s),w&4&&u!==(u=_[2]-_[9].bottom)&&h(a,"y1",u),w&4&&f!==(f=_[2]-_[9].bottom)&&h(a,"y2",f),w&2&&h(n,"width",_[1]),w&1&&h(n,"height",_[0])},i:L,o:L,d(_){_&&N(t),Ce(d,_),Ce(m,_),c()}}}let ll=100;function Pg(e,t,n){let r,o,i,l,a,s,u,f,c,g;ie(e,it,A=>n(5,c=A)),ie(e,Ve,A=>n(13,g=A));const d={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let p=300,m=300,_={top:15,bottom:10,left:25,right:5};Dt(".1f");let w=Array.from({length:ll},(A,R)=>R);function b(){m=this.offsetWidth,p=this.offsetHeight,n(1,m),n(0,p)}return e.$$.update=()=>{e.$$.dirty&8224&&n(12,r=c==="all"?g:g.filter(A=>A.vote_status===c)),e.$$.dirty&4096&&n(11,o=Ls(r)),e.$$.dirty&2&&n(4,i=m-_.left-_.right),e.$$.dirty&1&&n(2,l=p-_.top-_.bottom),e.$$.dirty&2048&&n(3,a=js().thresholds(w).value(A=>A.answer)(o)),e.$$.dirty&16&&n(7,s=Ke().domain([3,ll]).range([_.left,i-_.right])),e.$$.dirty&12&&n(6,u=Ke().domain([0,Mt(a,A=>A.length)]).range([l-_.bottom,_.top])),e.$$.dirty&2048&&n(10,f=Mt(o,A=>A.length)),e.$$.dirty&1056&&Ke().domain([0,f]).range(["white",d[c]]).interpolate(wr)},[p,m,l,a,i,c,u,s,d,_,f,o,r,g,b]}class ta extends ue{constructor(t){super(),de(this,t,Pg,Ng,ae,{})}}function sl(e,t,n){const r=e.slice();r[18]=t[n];const o=r[7](r[18].x1)-r[7](r[18].x0);return r[19]=o,r}function al(e,t,n){const r=e.slice();return r[22]=t[n],r}function ul(e){let t,n,r,o,i=e[22]+"",l,a;return{c(){t=W("g"),n=W("line"),o=W("text"),l=z(i),h(n,"class","axis-tick svelte-kz2qh6"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",r=-e[2]+e[9].bottom+e[9].top),h(n,"stroke","var(--squidink)"),h(n,"stroke-dasharray","4"),h(o,"class","axis-text svelte-kz2qh6"),h(o,"y","15"),h(o,"text-anchor","middle"),h(t,"transform",a=`translate(${e[7](e[22])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),h(t,"class","svelte-kz2qh6")},m(s,u){T(s,t,u),v(t,n),v(t,o),v(o,l)},p(s,u){u&4&&r!==(r=-s[2]+s[9].bottom+s[9].top)&&h(n,"y2",r),u&128&&i!==(i=s[22]+"")&&ne(l,i),u&132&&a!==(a=`translate(${s[7](s[22])+(s[7](1)-s[7](0))/2} ${s[2]-s[9].bottom})`)&&h(t,"transform",a)},d(s){s&&N(t)}}}function fl(e){let t,n,r,o,i,l,a;return{c(){t=W("g"),n=W("rect"),h(n,"x",r=e[7](e[18].x0)+1),h(n,"width",o=e[19]),h(n,"y",i=e[6](e[18].length)),h(n,"height",l=e[6](0)-e[6](e[18].length)),h(n,"fill",a=e[8][e[5]]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-bin svelte-kz2qh6")},m(s,u){T(s,t,u),v(t,n)},p(s,u){u&136&&r!==(r=s[7](s[18].x0)+1)&&h(n,"x",r),u&136&&o!==(o=s[19])&&h(n,"width",o),u&72&&i!==(i=s[6](s[18].length))&&h(n,"y",i),u&72&&l!==(l=s[6](0)-s[6](s[18].length))&&h(n,"height",l),u&32&&a!==(a=s[8][s[5]])&&h(n,"fill",a)},d(s){s&&N(t)}}}function Tg(e){let t,n,r,o,i,l,a,s,u,f,c,g=e[7].ticks(),d=[];for(let _=0;_<g.length;_+=1)d[_]=ul(al(e,g,_));let p=e[3],m=[];for(let _=0;_<p.length;_+=1)m[_]=fl(sl(e,p,_));return{c(){t=C("div"),n=W("svg");for(let _=0;_<d.length;_+=1)d[_].c();r=Ee();for(let _=0;_<m.length;_+=1)m[_].c();o=W("text"),i=z("Question Length"),a=W("line"),h(o,"class","chart-title svelte-kz2qh6"),h(o,"y",e[9].top/2+5),h(o,"x",l=(e[4]+e[9].left)/2),h(o,"text-anchor","middle"),h(a,"class","axis-line svelte-kz2qh6"),h(a,"x1",e[9].left),h(a,"x2",s=e[4]-e[9].right),h(a,"y1",u=e[2]-e[9].bottom),h(a,"y2",f=e[2]-e[9].bottom),h(n,"width",e[1]),h(n,"height",e[0]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-container svelte-kz2qh6"),Re(()=>e[13].call(t))},m(_,w){T(_,t,w),v(t,n);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(n,null);v(n,r);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(n,null);v(n,o),v(o,i),v(n,a),c=Ft(t,e[13].bind(t))},p(_,[w]){if(w&644){g=_[7].ticks();let b;for(b=0;b<g.length;b+=1){const A=al(_,g,b);d[b]?d[b].p(A,w):(d[b]=ul(A),d[b].c(),d[b].m(n,r))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}if(w&488){p=_[3];let b;for(b=0;b<p.length;b+=1){const A=sl(_,p,b);m[b]?m[b].p(A,w):(m[b]=fl(A),m[b].c(),m[b].m(n,o))}for(;b<m.length;b+=1)m[b].d(1);m.length=p.length}w&16&&l!==(l=(_[4]+_[9].left)/2)&&h(o,"x",l),w&16&&s!==(s=_[4]-_[9].right)&&h(a,"x2",s),w&4&&u!==(u=_[2]-_[9].bottom)&&h(a,"y1",u),w&4&&f!==(f=_[2]-_[9].bottom)&&h(a,"y2",f),w&2&&h(n,"width",_[1]),w&1&&h(n,"height",_[0])},i:L,o:L,d(_){_&&N(t),Ce(d,_),Ce(m,_),c()}}}let cl=100;function Og(e,t,n){let r,o,i,l,a,s,u,f,c;ie(e,it,b=>n(5,f=b)),ie(e,Ve,b=>n(12,c=b));const g={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let d=300,p=300,m={top:15,bottom:10,left:25,right:5},_=Array.from({length:cl},(b,A)=>A);br().range(["var(--yellow)","var(--red)","var(--green)"]);function w(){p=this.offsetWidth,d=this.offsetHeight,n(1,p),n(0,d)}return e.$$.update=()=>{e.$$.dirty&4128&&n(11,r=f==="all"?c:c.filter(b=>b.vote_status===f)),e.$$.dirty&2048&&n(10,o=Ls(r)),e.$$.dirty&2&&n(4,i=p-m.left-m.right),e.$$.dirty&1&&n(2,l=d-m.top-m.bottom),e.$$.dirty&1024&&n(3,a=js().thresholds(_).value(b=>b.question)(o)),e.$$.dirty&16&&n(7,s=Ke().domain([3,cl]).range([m.left,i-m.right])),e.$$.dirty&12&&n(6,u=Ke().domain([0,Mt(a,b=>b.length)]).range([l-m.bottom,m.top])),e.$$.dirty&1024&&Mt(o,b=>b.length)},[d,p,l,a,i,f,u,s,g,m,o,r,c,w]}class na extends ue{constructor(t){super(),de(this,t,Og,Tg,ae,{})}}function xg(e){let t,n,r,o,i,l,a,s,u,f,c,g,d,p=Math.round(e[5](e[3]))+"",m,_,w,b,A,R,$,M;return{c(){t=C("div"),n=C("div"),r=C("p"),r.textContent="Questions",o=F(),i=C("select"),l=C("option"),l.textContent="All",a=C("option"),a.textContent="Good",s=C("option"),s.textContent="Bad",u=C("option"),u.textContent="N/A",f=F(),c=C("div"),g=W("svg"),d=W("text"),m=z(p),A=F(),R=C("p"),R.textContent="number of responses",h(r,"class","card-text svelte-1pknxov"),l.__value="all",l.value=l.__value,h(l,"class","svelte-1pknxov"),a.__value="up",a.value=a.__value,h(a,"class","svelte-1pknxov"),s.__value="down",s.value=s.__value,h(s,"class","svelte-1pknxov"),u.__value="n/a",u.value=u.__value,h(u,"class","svelte-1pknxov"),h(i,"id","feedback-dropdown"),h(i,"name","feedback-dropdown"),Ie(i,"background",e[6][e[0]]),h(i,"class","svelte-1pknxov"),e[0]===void 0&&Re(()=>e[9].call(i)),h(n,"class","svelte-1pknxov"),h(d,"dominant-baseline","middle"),h(d,"x",_=e[2]/2),h(d,"y",w=e[1]/2),h(d,"text-anchor","middle"),h(d,"class","svelte-1pknxov"),h(g,"width",e[2]),h(g,"height",e[1]),h(g,"class","svelte-1pknxov"),h(c,"class","svelte-1pknxov"),Re(()=>e[10].call(c)),h(R,"class","small svelte-1pknxov"),h(t,"class","card-container svelte-1pknxov"),Ie(t,"background",e[6][e[0]])},m(S,k){T(S,t,k),v(t,n),v(n,r),v(n,o),v(n,i),v(i,l),v(i,a),v(i,s),v(i,u),Wn(i,e[0],!0),v(t,f),v(t,c),v(c,g),v(g,d),v(d,m),b=Ft(c,e[10].bind(c)),v(t,A),v(t,R),$||(M=H(i,"change",e[9]),$=!0)},p(S,[k]){k&1&&Ie(i,"background",S[6][S[0]]),k&1&&Wn(i,S[0]),k&8&&p!==(p=Math.round(S[5](S[3]))+"")&&ne(m,p),k&4&&_!==(_=S[2]/2)&&h(d,"x",_),k&2&&w!==(w=S[1]/2)&&h(d,"y",w),k&4&&h(g,"width",S[2]),k&2&&h(g,"height",S[1]),k&1&&Ie(t,"background",S[6][S[0]])},i:L,o:L,d(S){S&&N(t),b(),$=!1,M()}}}function Vg(e,t){return t==="all"?e.length:e.filter(r=>r.vote_status===t).length}function zg(e,t,n){let r,o,i,l;ie(e,it,p=>n(0,o=p)),ie(e,Ve,p=>n(8,i=p));let a,s,u=yo(0);ie(e,u,p=>n(3,l=p));const f=Dt(".1f"),c={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){o=ws(this),it.set(o)}function d(){s=this.clientWidth,a=this.clientHeight,n(2,s),n(1,a)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,r=Vg(i,o)),e.$$.dirty&128&&console.log("fbc",r),e.$$.dirty&128&&u.set(r)},[o,a,s,l,u,f,c,r,i,g,d]}class ra extends ue{constructor(t){super(),de(this,t,zg,xg,ae,{})}}function Lg(e){let t,n,r,o,i,l,a,s,u,f,c,g,d,p=e[5](e[3])+"",m,_,w,b,A,R,$,M;return{c(){t=C("div"),n=C("div"),r=C("p"),r.textContent="Questions",o=F(),i=C("select"),l=C("option"),l.textContent="All",a=C("option"),a.textContent="Good",s=C("option"),s.textContent="Bad",u=C("option"),u.textContent="N/A",f=F(),c=C("div"),g=W("svg"),d=W("text"),m=z(p),A=F(),R=C("p"),R.textContent="percentage of responses",h(r,"class","card-text svelte-mchgj2"),l.__value="all",l.value=l.__value,a.__value="up",a.value=a.__value,s.__value="down",s.value=s.__value,u.__value="n/a",u.value=u.__value,h(i,"id","feedback-dropdown"),h(i,"name","feedback-dropdown"),Ie(i,"background",e[6][e[0]]),h(i,"class","svelte-mchgj2"),e[0]===void 0&&Re(()=>e[9].call(i)),h(d,"dominant-baseline","middle"),h(d,"x",_=e[2]/2),h(d,"y",w=e[1]/2),h(d,"text-anchor","middle"),h(d,"class","svelte-mchgj2"),h(g,"width",e[2]),h(g,"height",e[1]),h(g,"class","svelte-mchgj2"),Re(()=>e[10].call(c)),h(R,"class","small svelte-mchgj2"),h(t,"class","card-container svelte-mchgj2"),Ie(t,"background",e[6][e[0]])},m(S,k){T(S,t,k),v(t,n),v(n,r),v(n,o),v(n,i),v(i,l),v(i,a),v(i,s),v(i,u),Wn(i,e[0],!0),v(t,f),v(t,c),v(c,g),v(g,d),v(d,m),b=Ft(c,e[10].bind(c)),v(t,A),v(t,R),$||(M=H(i,"change",e[9]),$=!0)},p(S,[k]){k&1&&Ie(i,"background",S[6][S[0]]),k&1&&Wn(i,S[0]),k&8&&p!==(p=S[5](S[3])+"")&&ne(m,p),k&4&&_!==(_=S[2]/2)&&h(d,"x",_),k&2&&w!==(w=S[1]/2)&&h(d,"y",w),k&4&&h(g,"width",S[2]),k&2&&h(g,"height",S[1]),k&1&&Ie(t,"background",S[6][S[0]])},i:L,o:L,d(S){S&&N(t),b(),$=!1,M()}}}function Hg(e,t){const n=e.length;return t==="all"?1:e.filter(o=>o.vote_status===t).length/n}function qg(e,t,n){let r,o,i,l;ie(e,it,p=>n(0,o=p)),ie(e,Ve,p=>n(8,i=p));let a,s,u=yo(0);ie(e,u,p=>n(3,l=p));const f=Dt(".1%"),c={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){o=ws(this),it.set(o)}function d(){s=this.clientWidth,a=this.clientHeight,n(2,s),n(1,a)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,r=Hg(i,o)),e.$$.dirty&128&&u.set(r)},[o,a,s,l,u,f,c,r,i,g,d]}class oa extends ue{constructor(t){super(),de(this,t,qg,Lg,ae,{})}}function Gg(e){let t,n,r,o,i,l,a,s,u,f,c,g,d,p,m,_,w,b,A,R,$,M,S,k,y,E,D;return i=new ra({}),s=new oa({}),c=new Js({}),p=new ea({props:{feedback:"Bad"}}),w=new na({}),R=new ta({}),E=new Zs({}),{c(){t=C("div"),n=C("div"),r=C("div"),o=C("div"),te(i.$$.fragment),l=F(),a=C("div"),te(s.$$.fragment),u=F(),f=C("div"),te(c.$$.fragment),g=F(),d=C("div"),te(p.$$.fragment),m=F(),_=C("div"),te(w.$$.fragment),b=F(),A=C("div"),te(R.$$.fragment),$=F(),M=C("div"),S=C("div"),S.innerHTML=`<div class="right-chart-1 svelte-14znspc"></div> 
      <div class="right-chart-2 svelte-14znspc"></div>`,k=F(),y=C("div"),te(E.$$.fragment),h(o,"class","card-1 svelte-14znspc"),h(a,"class","card-2"),h(r,"class","left-text svelte-14znspc"),h(f,"class","left-confidence svelte-14znspc"),h(d,"class","left-question svelte-14znspc"),h(_,"class","left-filter svelte-14znspc"),h(A,"class","left-filter2"),h(n,"class","feedback-left svelte-14znspc"),h(S,"class","right-chart svelte-14znspc"),h(y,"class","right-table svelte-14znspc"),h(M,"class","feedback-right svelte-14znspc"),h(t,"class","feedback-container svelte-14znspc")},m(I,V){T(I,t,V),v(t,n),v(n,r),v(r,o),Q(i,o,null),v(r,l),v(r,a),Q(s,a,null),v(n,u),v(n,f),Q(c,f,null),v(n,g),v(n,d),Q(p,d,null),v(n,m),v(n,_),Q(w,_,null),v(n,b),v(n,A),Q(R,A,null),v(t,$),v(t,M),v(M,S),v(M,k),v(M,y),Q(E,y,null),D=!0},p:L,i(I){D||(P(i.$$.fragment,I),P(s.$$.fragment,I),P(c.$$.fragment,I),P(p.$$.fragment,I),P(w.$$.fragment,I),P(R.$$.fragment,I),P(E.$$.fragment,I),D=!0)},o(I){O(i.$$.fragment,I),O(s.$$.fragment,I),O(c.$$.fragment,I),O(p.$$.fragment,I),O(w.$$.fragment,I),O(R.$$.fragment,I),O(E.$$.fragment,I),D=!1},d(I){I&&N(t),K(i),K(s),K(c),K(p),K(w),K(R),K(E)}}}function Bg(e,t,n){let r;ie(e,_n,i=>n(0,r=i)),dt(()=>{o()});async function o(){const s=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map(u=>({id:u[0],question:u[1],answer:u[2],vote_status:u[3]}));He(_n,r=[...s],r)}return[]}class ia extends ue{constructor(t){super(),de(this,t,Bg,Gg,ae,{})}}/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dl(Object(n),!0).forEach(function(r){jg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hn=function(t){return typeof t}:Hn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(e)}function jg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(){return ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}function Ug(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Wg(e,t){if(e==null)return{};var n=Ug(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Xg="1.15.0";function ut(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var gt=ut(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),kn=ut(/Edge/i),gl=ut(/firefox/i),fn=ut(/safari/i)&&!ut(/chrome/i)&&!ut(/android/i),la=ut(/iP(ad|od|hone)/i),sa=ut(/chrome/i)&&ut(/android/i),aa={capture:!1,passive:!1};function ce(e,t,n){e.addEventListener(t,n,!gt&&aa)}function se(e,t,n){e.removeEventListener(t,n,!gt&&aa)}function lr(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Yg(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ze(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&lr(e,t):lr(e,t))||r&&e===n)return e;if(e===n)break}while(e=Yg(e))}return null}var hl=/\s+/g;function Ge(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(hl," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(hl," ")}}function j(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Bt(e,t){var n="";if(typeof e=="string")n=e;else do{var r=j(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function ua(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function rt(){var e=document.scrollingElement;return e||document.documentElement}function Ae(e,t,n,r,o){if(!(!e.getBoundingClientRect&&e!==window)){var i,l,a,s,u,f,c;if(e!==window&&e.parentNode&&e!==rt()?(i=e.getBoundingClientRect(),l=i.top,a=i.left,s=i.bottom,u=i.right,f=i.height,c=i.width):(l=0,a=0,s=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!gt))do if(o&&o.getBoundingClientRect&&(j(o,"transform")!=="none"||n&&j(o,"position")!=="static")){var g=o.getBoundingClientRect();l-=g.top+parseInt(j(o,"border-top-width")),a-=g.left+parseInt(j(o,"border-left-width")),s=l+i.height,u=a+i.width;break}while(o=o.parentNode);if(r&&e!==window){var d=Bt(o||e),p=d&&d.a,m=d&&d.d;d&&(l/=m,a/=p,c/=p,f/=m,s=l+f,u=a+c)}return{top:l,left:a,bottom:s,right:u,width:c,height:f}}}function pl(e,t,n){for(var r=_t(e,!0),o=Ae(e)[t];r;){var i=Ae(r)[n],l=void 0;if(n==="top"||n==="left"?l=o>=i:l=o<=i,!l)return r;if(r===rt())break;r=_t(r,!1)}return!1}function Xt(e,t,n,r){for(var o=0,i=0,l=e.children;i<l.length;){if(l[i].style.display!=="none"&&l[i]!==B.ghost&&(r||l[i]!==B.dragged)&&Ze(l[i],n.draggable,e,!1)){if(o===t)return l[i];o++}i++}return null}function Eo(e,t){for(var n=e.lastElementChild;n&&(n===B.ghost||j(n,"display")==="none"||t&&!lr(n,t));)n=n.previousElementSibling;return n||null}function Ue(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==B.clone&&(!t||lr(e,t))&&n++;return n}function ml(e){var t=0,n=0,r=rt();if(e)do{var o=Bt(e),i=o.a,l=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*l}while(e!==r&&(e=e.parentNode));return[t,n]}function Qg(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function _t(e,t){if(!e||!e.getBoundingClientRect)return rt();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=j(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return rt();if(r||t)return n;r=!0}}while(n=n.parentNode);return rt()}function Kg(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ir(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var cn;function fa(e,t){return function(){if(!cn){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),cn=setTimeout(function(){cn=void 0},t)}}}function Jg(){clearTimeout(cn),cn=void 0}function ca(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function da(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var je="Sortable"+new Date().getTime();function Zg(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(j(o,"display")==="none"||o===B.ghost)){e.push({target:o,rect:Ae(o)});var i=lt({},e[e.length-1].rect);if(o.thisAnimationDuration){var l=Bt(o,!0);l&&(i.top-=l.f,i.left-=l.e)}o.fromRect=i}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(Qg(e,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var i=!1,l=0;e.forEach(function(a){var s=0,u=a.target,f=u.fromRect,c=Ae(u),g=u.prevFromRect,d=u.prevToRect,p=a.rect,m=Bt(u,!0);m&&(c.top-=m.f,c.left-=m.e),u.toRect=c,u.thisAnimationDuration&&Ir(g,c)&&!Ir(f,c)&&(p.top-c.top)/(p.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(s=th(p,g,d,o.options)),Ir(c,f)||(u.prevFromRect=f,u.prevToRect=c,s||(s=o.options.animation),o.animate(u,p,c,s)),s&&(i=!0,l=Math.max(l,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(t),i?t=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),e=[]},animate:function(r,o,i,l){if(l){j(r,"transition",""),j(r,"transform","");var a=Bt(this.el),s=a&&a.a,u=a&&a.d,f=(o.left-i.left)/(s||1),c=(o.top-i.top)/(u||1);r.animatingX=!!f,r.animatingY=!!c,j(r,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=eh(r),j(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),j(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){j(r,"transition",""),j(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function eh(e){return e.offsetWidth}function th(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Pt=[],Nr={initializeByDefault:!0},$n={mount:function(t){for(var n in Nr)Nr.hasOwnProperty(n)&&!(n in t)&&(t[n]=Nr[n]);Pt.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Pt.push(t)},pluginEvent:function(t,n,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=t+"Global";Pt.forEach(function(l){n[l.pluginName]&&(n[l.pluginName][i]&&n[l.pluginName][i](lt({sortable:n},r)),n.options[l.pluginName]&&n[l.pluginName][t]&&n[l.pluginName][t](lt({sortable:n},r)))})},initializePlugins:function(t,n,r,o){Pt.forEach(function(a){var s=a.pluginName;if(!(!t.options[s]&&!a.initializeByDefault)){var u=new a(t,n,t.options);u.sortable=t,u.options=t.options,t[s]=u,ct(r,u.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var l=this.modifyOption(t,i,t.options[i]);typeof l<"u"&&(t.options[i]=l)}},getEventProperties:function(t,n){var r={};return Pt.forEach(function(o){typeof o.eventProperties=="function"&&ct(r,o.eventProperties.call(n[o.pluginName],t))}),r},modifyOption:function(t,n,r){var o;return Pt.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(t[i.pluginName],r))}),o}};function nh(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,l=e.toEl,a=e.fromEl,s=e.oldIndex,u=e.newIndex,f=e.oldDraggableIndex,c=e.newDraggableIndex,g=e.originalEvent,d=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[je],!!t){var m,_=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!gt&&!kn?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=l||n,m.from=a||n,m.item=o||n,m.clone=i,m.oldIndex=s,m.newIndex=u,m.oldDraggableIndex=f,m.newDraggableIndex=c,m.originalEvent=g,m.pullMode=d?d.lastPutMode:void 0;var b=lt(lt({},p),$n.getEventProperties(r,t));for(var A in b)m[A]=b[A];n&&n.dispatchEvent(m),_[w]&&_[w].call(t,m)}}var rh=["evt"],Oe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,i=Wg(r,rh);$n.pluginEvent.bind(B)(t,n,lt({dragEl:x,parentEl:Se,ghostEl:Y,rootEl:ve,nextEl:kt,lastDownEl:qn,cloneEl:we,cloneHidden:pt,dragStarted:rn,putSortable:Me,activeSortable:B.active,originalEvent:o,oldIndex:zt,oldDraggableIndex:dn,newIndex:Be,newDraggableIndex:ht,hideGhostForTarget:ma,unhideGhostForTarget:_a,cloneNowHidden:function(){pt=!0},cloneNowShown:function(){pt=!1},dispatchSortableEvent:function(a){Ne({sortable:n,name:a,originalEvent:o})}},i))};function Ne(e){nh(lt({putSortable:Me,cloneEl:we,targetEl:x,rootEl:ve,oldIndex:zt,oldDraggableIndex:dn,newIndex:Be,newDraggableIndex:ht},e))}var x,Se,Y,ve,kt,qn,we,pt,zt,Be,dn,ht,Nn,Me,xt=!1,sr=!1,ar=[],St,Ye,Pr,Tr,_l,vl,rn,Tt,gn,hn=!1,Pn=!1,Gn,De,Or=[],so=!1,ur=[],yr=typeof document<"u",Tn=la,bl=kn||gt?"cssFloat":"float",oh=yr&&!sa&&!la&&"draggable"in document.createElement("div"),ga=function(){if(yr){if(gt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),ha=function(t,n){var r=j(t),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=Xt(t,0,n),l=Xt(t,1,n),a=i&&j(i),s=l&&j(l),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ae(i).width,f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ae(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var c=a.float==="left"?"left":"right";return l&&(s.clear==="both"||s.clear===c)?"vertical":"horizontal"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=o&&r[bl]==="none"||l&&r[bl]==="none"&&u+f>o)?"vertical":"horizontal"},ih=function(t,n,r){var o=r?t.left:t.top,i=r?t.right:t.bottom,l=r?t.width:t.height,a=r?n.left:n.top,s=r?n.right:n.bottom,u=r?n.width:n.height;return o===a||i===s||o+l/2===a+u/2},lh=function(t,n){var r;return ar.some(function(o){var i=o[je].options.emptyInsertThreshold;if(!(!i||Eo(o))){var l=Ae(o),a=t>=l.left-i&&t<=l.right+i,s=n>=l.top-i&&n<=l.bottom+i;if(a&&s)return r=o}}),r},pa=function(t){function n(i,l){return function(a,s,u,f){var c=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(i==null&&(l||c))return!0;if(i==null||i===!1)return!1;if(l&&i==="clone")return i;if(typeof i=="function")return n(i(a,s,u,f),l)(a,s,u,f);var g=(l?a:s).options.group.name;return i===!0||typeof i=="string"&&i===g||i.join&&i.indexOf(g)>-1}}var r={},o=t.group;(!o||Hn(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=n(o.pull,!0),r.checkPut=n(o.put),r.revertClone=o.revertClone,t.group=r},ma=function(){!ga&&Y&&j(Y,"display","none")},_a=function(){!ga&&Y&&j(Y,"display","")};yr&&!sa&&document.addEventListener("click",function(e){if(sr)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),sr=!1,!1},!0);var Ct=function(t){if(x){t=t.touches?t.touches[0]:t;var n=lh(t.clientX,t.clientY);if(n){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[je]._onDragOver(r)}}},sh=function(t){x&&x.parentNode[je]._isOutsideThisEl(t.target)};function B(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ct({},t),e[je]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ha(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,a){l.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:B.supportPointer!==!1&&"PointerEvent"in window&&!fn,emptyInsertThreshold:5};$n.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);pa(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:oh,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?ce(e,"pointerdown",this._onTapStart):(ce(e,"mousedown",this._onTapStart),ce(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ce(e,"dragover",this),ce(e,"dragenter",this)),ar.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ct(this,Zg())}B.prototype={constructor:B,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Tt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,x):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,o=this.options,i=o.preventOnFilter,l=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,f=o.filter;if(ph(r),!x&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&fn&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Ze(s,o.draggable,r,!1),!(s&&s.animated)&&qn!==s)){if(zt=Ue(s),dn=Ue(s,o.draggable),typeof f=="function"){if(f.call(this,t,s,this)){Ne({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:r,fromEl:r}),Oe("filter",n,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=Ze(u,c.trim(),r,!1),c)return Ne({sortable:n,rootEl:c,name:"filter",targetEl:s,fromEl:r,toEl:r}),Oe("filter",n,{evt:t}),!0}),f)){i&&t.cancelable&&t.preventDefault();return}o.handle&&!Ze(u,o.handle,r,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,n,r){var o=this,i=o.el,l=o.options,a=i.ownerDocument,s;if(r&&!x&&r.parentNode===i){var u=Ae(r);if(ve=i,x=r,Se=x.parentNode,kt=x.nextSibling,qn=r,Nn=l.group,B.dragged=x,St={target:x,clientX:(n||t).clientX,clientY:(n||t).clientY},_l=St.clientX-u.left,vl=St.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,x.style["will-change"]="all",s=function(){if(Oe("delayEnded",o,{evt:t}),B.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!gl&&o.nativeDraggable&&(x.draggable=!0),o._triggerDragStart(t,n),Ne({sortable:o,name:"choose",originalEvent:t}),Ge(x,l.chosenClass,!0)},l.ignore.split(",").forEach(function(f){ua(x,f.trim(),xr)}),ce(a,"dragover",Ct),ce(a,"mousemove",Ct),ce(a,"touchmove",Ct),ce(a,"mouseup",o._onDrop),ce(a,"touchend",o._onDrop),ce(a,"touchcancel",o._onDrop),gl&&this.nativeDraggable&&(this.options.touchStartThreshold=4,x.draggable=!0),Oe("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(kn||gt))){if(B.eventCanceled){this._onDrop();return}ce(a,"mouseup",o._disableDelayedDrag),ce(a,"touchend",o._disableDelayedDrag),ce(a,"touchcancel",o._disableDelayedDrag),ce(a,"mousemove",o._delayedDragTouchMoveHandler),ce(a,"touchmove",o._delayedDragTouchMoveHandler),l.supportPointer&&ce(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,l.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){x&&xr(x),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;se(t,"mouseup",this._disableDelayedDrag),se(t,"touchend",this._disableDelayedDrag),se(t,"touchcancel",this._disableDelayedDrag),se(t,"mousemove",this._delayedDragTouchMoveHandler),se(t,"touchmove",this._delayedDragTouchMoveHandler),se(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?ce(document,"pointermove",this._onTouchMove):n?ce(document,"touchmove",this._onTouchMove):ce(document,"mousemove",this._onTouchMove):(ce(x,"dragend",this),ce(ve,"dragstart",this._onDragStart));try{document.selection?Bn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(xt=!1,ve&&x){Oe("dragStarted",this,{evt:n}),this.nativeDraggable&&ce(document,"dragover",sh);var r=this.options;!t&&Ge(x,r.dragClass,!1),Ge(x,r.ghostClass,!0),B.active=this,t&&this._appendGhost(),Ne({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ye){this._lastX=Ye.clientX,this._lastY=Ye.clientY,ma();for(var t=document.elementFromPoint(Ye.clientX,Ye.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ye.clientX,Ye.clientY),t!==n);)n=t;if(x.parentNode[je]._isOutsideThisEl(t),n)do{if(n[je]){var r=void 0;if(r=n[je]._onDragOver({clientX:Ye.clientX,clientY:Ye.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);_a()}},_onTouchMove:function(t){if(St){var n=this.options,r=n.fallbackTolerance,o=n.fallbackOffset,i=t.touches?t.touches[0]:t,l=Y&&Bt(Y,!0),a=Y&&l&&l.a,s=Y&&l&&l.d,u=Tn&&De&&ml(De),f=(i.clientX-St.clientX+o.x)/(a||1)+(u?u[0]-Or[0]:0)/(a||1),c=(i.clientY-St.clientY+o.y)/(s||1)+(u?u[1]-Or[1]:0)/(s||1);if(!B.active&&!xt){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Y){l?(l.e+=f-(Pr||0),l.f+=c-(Tr||0)):l={a:1,b:0,c:0,d:1,e:f,f:c};var g="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");j(Y,"webkitTransform",g),j(Y,"mozTransform",g),j(Y,"msTransform",g),j(Y,"transform",g),Pr=f,Tr=c,Ye=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Y){var t=this.options.fallbackOnBody?document.body:ve,n=Ae(x,!0,Tn,!0,t),r=this.options;if(Tn){for(De=t;j(De,"position")==="static"&&j(De,"transform")==="none"&&De!==document;)De=De.parentNode;De!==document.body&&De!==document.documentElement?(De===document&&(De=rt()),n.top+=De.scrollTop,n.left+=De.scrollLeft):De=rt(),Or=ml(De)}Y=x.cloneNode(!0),Ge(Y,r.ghostClass,!1),Ge(Y,r.fallbackClass,!0),Ge(Y,r.dragClass,!0),j(Y,"transition",""),j(Y,"transform",""),j(Y,"box-sizing","border-box"),j(Y,"margin",0),j(Y,"top",n.top),j(Y,"left",n.left),j(Y,"width",n.width),j(Y,"height",n.height),j(Y,"opacity","0.8"),j(Y,"position",Tn?"absolute":"fixed"),j(Y,"zIndex","100000"),j(Y,"pointerEvents","none"),B.ghost=Y,t.appendChild(Y),j(Y,"transform-origin",_l/parseInt(Y.style.width)*100+"% "+vl/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,o=t.dataTransfer,i=r.options;if(Oe("dragStart",this,{evt:t}),B.eventCanceled){this._onDrop();return}Oe("setupClone",this),B.eventCanceled||(we=da(x),we.removeAttribute("id"),we.draggable=!1,we.style["will-change"]="",this._hideClone(),Ge(we,this.options.chosenClass,!1),B.clone=we),r.cloneId=Bn(function(){Oe("clone",r),!B.eventCanceled&&(r.options.removeCloneOnHide||ve.insertBefore(we,x),r._hideClone(),Ne({sortable:r,name:"clone"}))}),!n&&Ge(x,i.dragClass,!0),n?(sr=!0,r._loopId=setInterval(r._emulateDragOver,50)):(se(document,"mouseup",r._onDrop),se(document,"touchend",r._onDrop),se(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(r,o,x)),ce(document,"drop",r),j(x,"transform","translateZ(0)")),xt=!0,r._dragStartId=Bn(r._dragStarted.bind(r,n,t)),ce(document,"selectstart",r),rn=!0,fn&&j(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,o,i,l,a=this.options,s=a.group,u=B.active,f=Nn===s,c=a.sort,g=Me||u,d,p=this,m=!1;if(so)return;function _(ke,q){Oe(ke,p,lt({evt:t,isOwner:f,axis:d?"vertical":"horizontal",revert:l,dragRect:o,targetRect:i,canSort:c,fromSortable:g,target:r,completed:b,onMove:function(he,Z){return On(ve,n,x,o,he,Ae(he),t,Z)},changed:A},q))}function w(){_("dragOverAnimationCapture"),p.captureAnimationState(),p!==g&&g.captureAnimationState()}function b(ke){return _("dragOverCompleted",{insertion:ke}),ke&&(f?u._hideClone():u._showClone(p),p!==g&&(Ge(x,Me?Me.options.ghostClass:u.options.ghostClass,!1),Ge(x,a.ghostClass,!0)),Me!==p&&p!==B.active?Me=p:p===B.active&&Me&&(Me=null),g===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){_("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(r===x&&!x.animated||r===n&&!r.animated)&&(Tt=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(x.parentNode[je]._isOutsideThisEl(t.target),!ke&&Ct(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function A(){Be=Ue(x),ht=Ue(x,a.draggable),Ne({sortable:p,name:"change",toEl:n,newIndex:Be,newDraggableIndex:ht,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Ze(r,a.draggable,n,!0),_("dragOver"),B.eventCanceled)return m;if(x.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return b(!1);if(sr=!1,u&&!a.disabled&&(f?c||(l=Se!==ve):Me===this||(this.lastPutMode=Nn.checkPull(this,u,x,t))&&s.checkPut(this,u,x,t))){if(d=this._getDirection(t,r)==="vertical",o=Ae(x),_("dragOverValid"),B.eventCanceled)return m;if(l)return Se=ve,w(),this._hideClone(),_("revert"),B.eventCanceled||(kt?ve.insertBefore(x,kt):ve.appendChild(x)),b(!0);var R=Eo(n,a.draggable);if(!R||ch(t,d,this)&&!R.animated){if(R===x)return b(!1);if(R&&n===t.target&&(r=R),r&&(i=Ae(r)),On(ve,n,x,o,r,i,t,!!r)!==!1)return w(),R&&R.nextSibling?n.insertBefore(x,R.nextSibling):n.appendChild(x),Se=n,A(),b(!0)}else if(R&&fh(t,d,this)){var $=Xt(n,0,a,!0);if($===x)return b(!1);if(r=$,i=Ae(r),On(ve,n,x,o,r,i,t,!1)!==!1)return w(),n.insertBefore(x,$),Se=n,A(),b(!0)}else if(r.parentNode===n){i=Ae(r);var M=0,S,k=x.parentNode!==n,y=!ih(x.animated&&x.toRect||o,r.animated&&r.toRect||i,d),E=d?"top":"left",D=pl(r,"top","top")||pl(x,"top","top"),I=D?D.scrollTop:void 0;Tt!==r&&(S=i[E],hn=!1,Pn=!y&&a.invertSwap||k),M=dh(t,r,i,d,y?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Pn,Tt===r);var V;if(M!==0){var J=Ue(x);do J-=M,V=Se.children[J];while(V&&(j(V,"display")==="none"||V===Y))}if(M===0||V===r)return b(!1);Tt=r,gn=M;var fe=r.nextElementSibling,re=!1;re=M===1;var be=On(ve,n,x,o,r,i,t,re);if(be!==!1)return(be===1||be===-1)&&(re=be===1),so=!0,setTimeout(uh,30),w(),re&&!fe?n.appendChild(x):r.parentNode.insertBefore(x,re?fe:r),D&&ca(D,0,I-D.scrollTop),Se=x.parentNode,S!==void 0&&!Pn&&(Gn=Math.abs(S-Ae(r)[E])),A(),b(!0)}if(n.contains(x))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){se(document,"mousemove",this._onTouchMove),se(document,"touchmove",this._onTouchMove),se(document,"pointermove",this._onTouchMove),se(document,"dragover",Ct),se(document,"mousemove",Ct),se(document,"touchmove",Ct)},_offUpEvents:function(){var t=this.el.ownerDocument;se(t,"mouseup",this._onDrop),se(t,"touchend",this._onDrop),se(t,"pointerup",this._onDrop),se(t,"touchcancel",this._onDrop),se(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(Be=Ue(x),ht=Ue(x,r.draggable),Oe("drop",this,{evt:t}),Se=x&&x.parentNode,Be=Ue(x),ht=Ue(x,r.draggable),B.eventCanceled){this._nulling();return}xt=!1,Pn=!1,hn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ao(this.cloneId),ao(this._dragStartId),this.nativeDraggable&&(se(document,"drop",this),se(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),fn&&j(document.body,"user-select",""),j(x,"transform",""),t&&(rn&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(ve===Se||Me&&Me.lastPutMode!=="clone")&&we&&we.parentNode&&we.parentNode.removeChild(we),x&&(this.nativeDraggable&&se(x,"dragend",this),xr(x),x.style["will-change"]="",rn&&!xt&&Ge(x,Me?Me.options.ghostClass:this.options.ghostClass,!1),Ge(x,this.options.chosenClass,!1),Ne({sortable:this,name:"unchoose",toEl:Se,newIndex:null,newDraggableIndex:null,originalEvent:t}),ve!==Se?(Be>=0&&(Ne({rootEl:Se,name:"add",toEl:Se,fromEl:ve,originalEvent:t}),Ne({sortable:this,name:"remove",toEl:Se,originalEvent:t}),Ne({rootEl:Se,name:"sort",toEl:Se,fromEl:ve,originalEvent:t}),Ne({sortable:this,name:"sort",toEl:Se,originalEvent:t})),Me&&Me.save()):Be!==zt&&Be>=0&&(Ne({sortable:this,name:"update",toEl:Se,originalEvent:t}),Ne({sortable:this,name:"sort",toEl:Se,originalEvent:t})),B.active&&((Be==null||Be===-1)&&(Be=zt,ht=dn),Ne({sortable:this,name:"end",toEl:Se,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Oe("nulling",this),ve=x=Se=Y=kt=we=qn=pt=St=Ye=rn=Be=ht=zt=dn=Tt=gn=Me=Nn=B.dragged=B.ghost=B.clone=B.active=null,ur.forEach(function(t){t.checked=!0}),ur.length=Pr=Tr=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":x&&(this._onDragOver(t),ah(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,o=0,i=r.length,l=this.options;o<i;o++)n=r[o],Ze(n,l.draggable,this.el,!1)&&t.push(n.getAttribute(l.dataIdAttr)||hh(n));return t},sort:function(t,n){var r={},o=this.el;this.toArray().forEach(function(i,l){var a=o.children[l];Ze(a,this.options.draggable,o,!1)&&(r[i]=a)},this),n&&this.captureAnimationState(),t.forEach(function(i){r[i]&&(o.removeChild(r[i]),o.appendChild(r[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Ze(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var o=$n.modifyOption(this,t,n);typeof o<"u"?r[t]=o:r[t]=n,t==="group"&&pa(r)},destroy:function(){Oe("destroy",this);var t=this.el;t[je]=null,se(t,"mousedown",this._onTapStart),se(t,"touchstart",this._onTapStart),se(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(se(t,"dragover",this),se(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ar.splice(ar.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!pt){if(Oe("hideClone",this),B.eventCanceled)return;j(we,"display","none"),this.options.removeCloneOnHide&&we.parentNode&&we.parentNode.removeChild(we),pt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(pt){if(Oe("showClone",this),B.eventCanceled)return;x.parentNode==ve&&!this.options.group.revertClone?ve.insertBefore(we,x):kt?ve.insertBefore(we,kt):ve.appendChild(we),this.options.group.revertClone&&this.animate(x,we),j(we,"display",""),pt=!1}}};function ah(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function On(e,t,n,r,o,i,l,a){var s,u=e[je],f=u.options.onMove,c;return window.CustomEvent&&!gt&&!kn?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=n,s.draggedRect=r,s.related=o||t,s.relatedRect=i||Ae(t),s.willInsertAfter=a,s.originalEvent=l,e.dispatchEvent(s),f&&(c=f.call(u,s,l)),c}function xr(e){e.draggable=!1}function uh(){so=!1}function fh(e,t,n){var r=Ae(Xt(n.el,0,n.options,!0)),o=10;return t?e.clientX<r.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-o||e.clientY<r.bottom&&e.clientX<r.left}function ch(e,t,n){var r=Ae(Eo(n.el,n.options.draggable)),o=10;return t?e.clientX>r.right+o||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+o}function dh(e,t,n,r,o,i,l,a){var s=r?e.clientY:e.clientX,u=r?n.height:n.width,f=r?n.top:n.left,c=r?n.bottom:n.right,g=!1;if(!l){if(a&&Gn<u*o){if(!hn&&(gn===1?s>f+u*i/2:s<c-u*i/2)&&(hn=!0),hn)g=!0;else if(gn===1?s<f+Gn:s>c-Gn)return-gn}else if(s>f+u*(1-o)/2&&s<c-u*(1-o)/2)return gh(t)}return g=g||l,g&&(s<f+u*i/2||s>c-u*i/2)?s>f+u/2?1:-1:0}function gh(e){return Ue(x)<Ue(e)?1:-1}function hh(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function ph(e){ur.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&ur.push(r)}}function Bn(e){return setTimeout(e,0)}function ao(e){return clearTimeout(e)}yr&&ce(document,"touchmove",function(e){(B.active||xt)&&e.cancelable&&e.preventDefault()});B.utils={on:ce,off:se,css:j,find:ua,is:function(t,n){return!!Ze(t,n,t,!1)},extend:Kg,throttle:fa,closest:Ze,toggleClass:Ge,clone:da,index:Ue,nextTick:Bn,cancelNextTick:ao,detectDirection:ha,getChild:Xt};B.get=function(e){return e[je]};B.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(B.utils=lt(lt({},B.utils),r.utils)),$n.mount(r)})};B.create=function(e,t){return new B(e,t)};B.version=Xg;var $e=[],on,uo,fo=!1,Vr,zr,fr,ln;function mh(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?ce(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ce(document,"pointermove",this._handleFallbackAutoScroll):r.touches?ce(document,"touchmove",this._handleFallbackAutoScroll):ce(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?se(document,"dragover",this._handleAutoScroll):(se(document,"pointermove",this._handleFallbackAutoScroll),se(document,"touchmove",this._handleFallbackAutoScroll),se(document,"mousemove",this._handleFallbackAutoScroll)),wl(),jn(),Jg()},nulling:function(){fr=uo=on=fo=ln=Vr=zr=null,$e.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var o=this,i=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(i,l);if(fr=n,r||this.options.forceAutoScrollFallback||kn||gt||fn){Lr(n,this.options,a,r);var s=_t(a,!0);fo&&(!ln||i!==Vr||l!==zr)&&(ln&&wl(),ln=setInterval(function(){var u=_t(document.elementFromPoint(i,l),!0);u!==s&&(s=u,jn()),Lr(n,o.options,u,r)},10),Vr=i,zr=l)}else{if(!this.options.bubbleScroll||_t(a,!0)===rt()){jn();return}Lr(n,this.options,_t(a,!1),!1)}}},ct(e,{pluginName:"scroll",initializeByDefault:!0})}function jn(){$e.forEach(function(e){clearInterval(e.pid)}),$e=[]}function wl(){clearInterval(ln)}var Lr=fa(function(e,t,n,r){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,a=t.scrollSpeed,s=rt(),u=!1,f;uo!==n&&(uo=n,jn(),on=t.scroll,f=t.scrollFn,on===!0&&(on=_t(n,!0)));var c=0,g=on;do{var d=g,p=Ae(d),m=p.top,_=p.bottom,w=p.left,b=p.right,A=p.width,R=p.height,$=void 0,M=void 0,S=d.scrollWidth,k=d.scrollHeight,y=j(d),E=d.scrollLeft,D=d.scrollTop;d===s?($=A<S&&(y.overflowX==="auto"||y.overflowX==="scroll"||y.overflowX==="visible"),M=R<k&&(y.overflowY==="auto"||y.overflowY==="scroll"||y.overflowY==="visible")):($=A<S&&(y.overflowX==="auto"||y.overflowX==="scroll"),M=R<k&&(y.overflowY==="auto"||y.overflowY==="scroll"));var I=$&&(Math.abs(b-o)<=l&&E+A<S)-(Math.abs(w-o)<=l&&!!E),V=M&&(Math.abs(_-i)<=l&&D+R<k)-(Math.abs(m-i)<=l&&!!D);if(!$e[c])for(var J=0;J<=c;J++)$e[J]||($e[J]={});($e[c].vx!=I||$e[c].vy!=V||$e[c].el!==d)&&($e[c].el=d,$e[c].vx=I,$e[c].vy=V,clearInterval($e[c].pid),(I!=0||V!=0)&&(u=!0,$e[c].pid=setInterval((function(){r&&this.layer===0&&B.active._onTouchMove(fr);var fe=$e[this.layer].vy?$e[this.layer].vy*a:0,re=$e[this.layer].vx?$e[this.layer].vx*a:0;typeof f=="function"&&f.call(B.dragged.parentNode[je],re,fe,e,fr,$e[this.layer].el)!=="continue"||ca($e[this.layer].el,re,fe)}).bind({layer:c}),24))),c++}while(t.bubbleScroll&&g!==s&&(g=_t(g,!1)));fo=u}},30),va=function(t){var n=t.originalEvent,r=t.putSortable,o=t.dragEl,i=t.activeSortable,l=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(n){var u=r||i;a();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);s(),u&&!u.el.contains(c)&&(l("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function Fo(){}Fo.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=Xt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:va};ct(Fo,{pluginName:"revertOnSpill"});function Do(){}Do.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,o=r||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:va};ct(Do,{pluginName:"removeOnSpill"});B.mount(new mh);B.mount(Do,Fo);function yl(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Sl(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Cl(e,t,n){const r=e.slice();return r[25]=t[n],r[24]=n,r}function kl(e){let t,n=e[24]+1+"",r;return{c(){t=C("option"),r=z(n),t.__value=e[24]+1,t.value=t.__value,h(t,"class","svelte-1nj8mt0")},m(o,i){T(o,t,i),v(t,r)},p:L,d(o){o&&N(t)}}}function $l(e,t){let n,r,o=t[1][t[24]]+"",i,l,a,s,u=t[19][t[1][t[24]]]+"",f,c,g,d,p,m,_,w,b,A=Array(t[0]).fill(),R=[];for(let S=0;S<A.length;S+=1)R[S]=kl(Cl(t,A,S));function $(...S){return t[13](t[19],t[24],...S)}function M(...S){return t[14](t[19],...S)}return{key:e,first:null,c(){n=C("div"),r=C("h5"),i=z(o),l=z(":"),a=F(),s=C("p"),f=z(u),c=F(),g=C("div"),d=z(`Rank:
                        `),p=C("select");for(let S=0;S<R.length;S+=1)R[S].c();m=F(),h(r,"class","bold underline svelte-1nj8mt0"),h(s,"class","svelte-1nj8mt0"),h(p,"class","answer-rank"),h(n,"class","answer svelte-1nj8mt0"),h(n,"id",_=`answer-${t[24]}-${t[19].qid}`),this.first=n},m(S,k){T(S,n,k),v(n,r),v(r,i),v(r,l),v(n,a),v(n,s),v(s,f),v(n,c),v(n,g),v(g,d),v(g,p);for(let y=0;y<R.length;y+=1)R[y]&&R[y].m(p,null);v(n,m),w||(b=[H(p,"change",$),H(n,"dragend",M)],w=!0)},p(S,k){if(t=S,k&3&&o!==(o=t[1][t[24]]+"")&&ne(i,o),k&131&&u!==(u=t[19][t[1][t[24]]]+"")&&ne(f,u),k&1){A=Array(t[0]).fill();let y;for(y=0;y<A.length;y+=1){const E=Cl(t,A,y);R[y]?R[y].p(E,k):(R[y]=kl(E),R[y].c(),R[y].m(p,null))}for(;y<R.length;y+=1)R[y].d(1);R.length=A.length}k&129&&_!==(_=`answer-${t[24]}-${t[19].qid}`)&&h(n,"id",_)},d(S){S&&N(n),Ce(R,S),w=!1,_e(b)}}}function Al(e,t){let n,r,o,i,l,a,s=t[19].qid+"",u,f,c,g=t[19].question+"",d,p,m,_=[],w=new Map,b,A,R,$,M=Array(t[0]).fill();const S=k=>k[24];for(let k=0;k<M.length;k+=1){let y=Sl(t,M,k),E=S(y);w.set(E,_[k]=$l(E,y))}return{key:e,first:null,c(){n=C("div"),r=C("div"),o=C("div"),i=C("div"),l=C("h5"),a=z("Question: "),u=z(s),f=F(),c=C("p"),d=z(g),p=F(),m=C("div");for(let k=0;k<_.length;k+=1)_[k].c();b=F(),h(l,"class","bold svelte-1nj8mt0"),h(c,"class","svelte-1nj8mt0"),h(i,"class","question svelte-1nj8mt0"),h(m,"class","answers"),Ie(m,"display","grid"),Ie(m,"grid-template-columns",t[6]),Ie(m,"gap",".25%"),Ie(m,"width","100%"),Ie(m,"margin","auto"),h(o,"class","message-content svelte-1nj8mt0"),h(r,"class","chat-message-center svelte-1nj8mt0"),h(n,"class","chat-message svelte-1nj8mt0"),this.first=n},m(k,y){T(k,n,y),v(n,r),v(r,o),v(o,i),v(i,l),v(l,a),v(l,u),v(i,f),v(i,c),v(c,d),v(o,p),v(o,m);for(let E=0;E<_.length;E+=1)_[E]&&_[E].m(m,null);t[15](m),v(n,b),R||($=mn(A=vh.call(null,n,t[21]===t[7].length-1)),R=!0)},p(k,y){t=k,y&128&&s!==(s=t[19].qid+"")&&ne(u,s),y&128&&g!==(g=t[19].question+"")&&ne(d,g),y&1667&&(M=Array(t[0]).fill(),_=Qt(_,y,S,1,t,M,w,m,vr,$l,null,Sl)),y&64&&Ie(m,"grid-template-columns",t[6]),A&&Le(A.update)&&y&128&&A.update.call(null,t[21]===t[7].length-1)},d(k){k&&N(n);for(let y=0;y<_.length;y+=1)_[y].d();t[15](null),R=!1,$()}}}function _h(e){let t,n,r,o,i,l,a=[],s=new Map,u,f,c,g,d,p,m=(e[4]?e[5]:"Send")+"",_,w,b,A,R=e[7];const $=M=>M[21];for(let M=0;M<R.length;M+=1){let S=yl(e,R,M),k=$(S);s.set(k,a[M]=Al(k,S))}return{c(){t=C("div"),n=C("div"),n.innerHTML=`<h5 class="underline bold svelte-1nj8mt0">Q &amp; A Comparison Instructions</h5> 
    <br/> 
    <p class="svelte-1nj8mt0">Ask a question and rank the answers across the models. Drag each answer to
      rank it, in ascending order, from left-to-right. Optionally, select the
      rank for each via the corresponding dropdown.</p> 
    <br/> 
    <button class="svelte-1nj8mt0">Download Data</button>`,r=F(),o=C("div"),i=C("section"),l=C("div");for(let M=0;M<a.length;M+=1)a[M].c();u=F(),f=C("div"),c=C("form"),g=C("input"),d=F(),p=C("button"),_=z(m),h(n,"class","instructions svelte-1nj8mt0"),h(l,"class","chat-log svelte-1nj8mt0"),h(i,"class","chatbox svelte-1nj8mt0"),h(g,"class","chat-input-textarea svelte-1nj8mt0"),h(g,"placeholder","Type Message Here"),h(p,"class",w="btnyousend "+(e[3]===""?"":"active")+" svelte-1nj8mt0"),h(p,"type","submit"),h(c,"class","chat-input-form svelte-1nj8mt0"),h(f,"class","chat-input-holder svelte-1nj8mt0"),h(o,"class","ranked-chat svelte-1nj8mt0"),h(t,"class","ranked-feedback-container svelte-1nj8mt0")},m(M,S){T(M,t,S),v(t,n),v(t,r),v(t,o),v(o,i),v(i,l);for(let k=0;k<a.length;k+=1)a[k]&&a[k].m(l,null);v(o,u),v(o,f),v(f,c),v(c,g),We(g,e[3]),v(c,d),v(c,p),v(p,_),b||(A=[H(g,"input",e[16]),H(c,"submit",e[8])],b=!0)},p(M,[S]){S&1735&&(R=M[7],a=Qt(a,S,$,1,M,R,s,l,vr,Al,null,yl)),S&8&&g.value!==M[3]&&We(g,M[3]),S&48&&m!==(m=(M[4]?M[5]:"Send")+"")&&ne(_,m),S&8&&w!==(w="btnyousend "+(M[3]===""?"":"active")+" svelte-1nj8mt0")&&h(p,"class",w)},i:L,o:L,d(M){M&&N(t);for(let S=0;S<a.length;S+=1)a[S].d();b=!1,_e(A)}}}function vh(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function Rl(e){console.log("run update",e);const n=await fetch("/chat/comparator/db/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e})});if(n.ok)console.log("ok",n);else{const r=await n.text();alert(r)}}function bh(e,t,n){let r,o,i;ie(e,Rr,$=>n(7,i=$));let{numModels:l=1}=t,{models:a=[0]}=t,s="",u="",f=!1;dt(async()=>{if(await new Promise($=>setTimeout($,200)),d){const $=new B(d,{animation:150,onUpdate(M){$.toArray()}});$.toArray()}});const c=async $=>{$.preventDefault(),s=u,n(3,u=""),n(4,f=!0);let M={question:s};for(let k of a)M[k]="Loading...";He(Rr,i=[...i,M],i);const S=await fetch(`/chat/comparator/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})});if(S.ok){const k=await S.json();n(1,a=Object.keys(k.answer)),n(0,l=a.length);for(let y of a)M[y]=k.answer[y];M.qid=k.qid,Rr.update(y=>(y[y.length-1]=M,y))}else{const k=await S.text();alert(k)}n(4,f=!1)};let g=0;setInterval(()=>{n(11,g=(g+1)%4)},200);let d,p;function m($,M){const S=M,y=ft($.currentTarget.parentNode).selectAll("div.answer").nodes().map(V=>V.id);y.forEach((V,J)=>{ft(`#${V}`).select(".answer-rank").property("value",J+1)});let E=[];for(let[V,J]of y.entries()){const fe=parseInt(J.split("-")[1]),re=a[fe],be={rank:V,model:re};E.push(be)}let D=i.filter(V=>V.qid===S),I=[];for(let V of E){const J={model:V.model,qid:parseInt(S),rank:parseInt(V.rank)+1,answer:D[0][V.model]};I.push(J)}Rl(I)}function _($,M,S){const k=M,y=parseInt($.target.value),E=a[S],D={qid:k,rank:parseInt(y),model:E};let I=[],J=i.filter(re=>re.qid===D.qid)[0][D.model];const fe={model:D.model,qid:parseInt(D.qid),rank:parseInt(D.rank),answer:J};I.push(fe),Rl(I)}const w=($,M,S)=>_(S,$.qid,M),b=($,M)=>m(M,$.qid);function A($){ot[$?"unshift":"push"](()=>{d=$,n(2,d)})}function R(){u=this.value,n(3,u)}return e.$$set=$=>{"numModels"in $&&n(0,l=$.numModels),"models"in $&&n(1,a=$.models)},e.$$.update=()=>{e.$$.dirty&1&&n(6,r="1fr ".repeat(l).trim()),e.$$.dirty&2048&&n(5,o=".".repeat(g).padEnd(3)),e.$$.dirty&4100&&d&&(n(12,p=new B(d,{animation:150,dataIdAttr:"id",onUpdate($){p.toArray()}})),p.toArray())},[l,a,d,u,f,o,r,i,c,m,_,g,p,w,b,A,R]}class wh extends ue{constructor(t){super(),de(this,t,bh,_h,ae,{numModels:0,models:1})}}function yh(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return ba(this.cover(t,n),t,n,e)}function ba(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i=e._root,l={data:r},a=e._x0,s=e._y0,u=e._x1,f=e._y1,c,g,d,p,m,_,w,b;if(!i)return e._root=l,e;for(;i.length;)if((m=t>=(c=(a+u)/2))?a=c:u=c,(_=n>=(g=(s+f)/2))?s=g:f=g,o=i,!(i=i[w=_<<1|m]))return o[w]=l,e;if(d=+e._x.call(null,i.data),p=+e._y.call(null,i.data),t===d&&n===p)return l.next=i,o?o[w]=l:e._root=l,e;do o=o?o[w]=new Array(4):e._root=new Array(4),(m=t>=(c=(a+u)/2))?a=c:u=c,(_=n>=(g=(s+f)/2))?s=g:f=g;while((w=_<<1|m)===(b=(p>=g)<<1|d>=c));return o[b]=i,o[w]=l,e}function Sh(e){var t,n,r=e.length,o,i,l=new Array(r),a=new Array(r),s=1/0,u=1/0,f=-1/0,c=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(l[n]=o,a[n]=i,o<s&&(s=o),o>f&&(f=o),i<u&&(u=i),i>c&&(c=i));if(s>f||u>c)return this;for(this.cover(s,u).cover(f,c),n=0;n<r;++n)ba(this,l[n],a[n],e[n]);return this}function Ch(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var l=o-n||1,a=this._root,s,u;n>e||e>=o||r>t||t>=i;)switch(u=(t<r)<<1|e<n,s=new Array(4),s[u]=a,a=s,l*=2,u){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this}function kh(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function $h(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Pe(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function Ah(e,t,n){var r,o=this._x0,i=this._y0,l,a,s,u,f=this._x1,c=this._y1,g=[],d=this._root,p,m;for(d&&g.push(new Pe(d,o,i,f,c)),n==null?n=1/0:(o=e-n,i=t-n,f=e+n,c=t+n,n*=n);p=g.pop();)if(!(!(d=p.node)||(l=p.x0)>f||(a=p.y0)>c||(s=p.x1)<o||(u=p.y1)<i))if(d.length){var _=(l+s)/2,w=(a+u)/2;g.push(new Pe(d[3],_,w,s,u),new Pe(d[2],l,w,_,u),new Pe(d[1],_,a,s,w),new Pe(d[0],l,a,_,w)),(m=(t>=w)<<1|e>=_)&&(p=g[g.length-1],g[g.length-1]=g[g.length-1-m],g[g.length-1-m]=p)}else{var b=e-+this._x.call(null,d.data),A=t-+this._y.call(null,d.data),R=b*b+A*A;if(R<n){var $=Math.sqrt(n=R);o=e-$,i=t-$,f=e+$,c=t+$,r=d.data}}return r}function Rh(e){if(isNaN(f=+this._x.call(null,e))||isNaN(c=+this._y.call(null,e)))return this;var t,n=this._root,r,o,i,l=this._x0,a=this._y0,s=this._x1,u=this._y1,f,c,g,d,p,m,_,w;if(!n)return this;if(n.length)for(;;){if((p=f>=(g=(l+s)/2))?l=g:s=g,(m=c>=(d=(a+u)/2))?a=d:u=d,t=n,!(n=n[_=m<<1|p]))return this;if(!n.length)break;(t[_+1&3]||t[_+2&3]||t[_+3&3])&&(r=t,w=_)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,o?(i?o.next=i:delete o.next,this):t?(i?t[_]=i:delete t[_],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[w]=n:this._root=n),this):(this._root=i,this)}function Mh(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Eh(){return this._root}function Fh(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Dh(e){var t=[],n,r=this._root,o,i,l,a,s;for(r&&t.push(new Pe(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,i=n.x0,l=n.y0,a=n.x1,s=n.y1)&&r.length){var u=(i+a)/2,f=(l+s)/2;(o=r[3])&&t.push(new Pe(o,u,f,a,s)),(o=r[2])&&t.push(new Pe(o,i,f,u,s)),(o=r[1])&&t.push(new Pe(o,u,l,a,f)),(o=r[0])&&t.push(new Pe(o,i,l,u,f))}return this}function Ih(e){var t=[],n=[],r;for(this._root&&t.push(new Pe(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var o=r.node;if(o.length){var i,l=r.x0,a=r.y0,s=r.x1,u=r.y1,f=(l+s)/2,c=(a+u)/2;(i=o[0])&&t.push(new Pe(i,l,a,f,c)),(i=o[1])&&t.push(new Pe(i,f,a,s,c)),(i=o[2])&&t.push(new Pe(i,l,c,f,u)),(i=o[3])&&t.push(new Pe(i,f,c,s,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Nh(e){return e[0]}function Ph(e){return arguments.length?(this._x=e,this):this._x}function Th(e){return e[1]}function Oh(e){return arguments.length?(this._y=e,this):this._y}function wa(e,t,n){var r=new Io(t??Nh,n??Th,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Io(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function Ml(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Te=wa.prototype=Io.prototype;Te.copy=function(){var e=new Io(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Ml(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var o=0;o<4;++o)(r=t.source[o])&&(r.length?n.push({source:r,target:t.target[o]=new Array(4)}):t.target[o]=Ml(r));return e};Te.add=yh;Te.addAll=Sh;Te.cover=Ch;Te.data=kh;Te.extent=$h;Te.find=Ah;Te.remove=Rh;Te.removeAll=Mh;Te.root=Eh;Te.size=Fh;Te.visit=Dh;Te.visitAfter=Ih;Te.x=Ph;Te.y=Oh;function tt(e){return function(){return e}}function El(e){return(e()-.5)*1e-6}function xh(e){return e.x+e.vx}function Vh(e){return e.y+e.vy}function zh(e){var t,n,r,o=1,i=1;typeof e!="function"&&(e=tt(e==null?1:+e));function l(){for(var u,f=t.length,c,g,d,p,m,_,w=0;w<i;++w)for(c=wa(t,xh,Vh).visitAfter(a),u=0;u<f;++u)g=t[u],m=n[g.index],_=m*m,d=g.x+g.vx,p=g.y+g.vy,c.visit(b);function b(A,R,$,M,S){var k=A.data,y=A.r,E=m+y;if(k){if(k.index>g.index){var D=d-k.x-k.vx,I=p-k.y-k.vy,V=D*D+I*I;V<E*E&&(D===0&&(D=El(r),V+=D*D),I===0&&(I=El(r),V+=I*I),V=(E-(V=Math.sqrt(V)))/V*o,g.vx+=(D*=V)*(E=(y*=y)/(_+y)),g.vy+=(I*=V)*E,k.vx-=D*(E=1-E),k.vy-=I*E)}return}return R>d+E||M<d-E||$>p+E||S<p-E}}function a(u){if(u.data)return u.r=n[u.data.index];for(var f=u.r=0;f<4;++f)u[f]&&u[f].r>u.r&&(u.r=u[f].r)}function s(){if(t){var u,f=t.length,c;for(n=new Array(f),u=0;u<f;++u)c=t[u],n[c.index]=+e(c,u,t)}}return l.initialize=function(u,f){t=u,r=f,s()},l.iterations=function(u){return arguments.length?(i=+u,l):i},l.strength=function(u){return arguments.length?(o=+u,l):o},l.radius=function(u){return arguments.length?(e=typeof u=="function"?u:tt(+u),s(),l):e},l}var Lh={value:()=>{}};function ya(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Un(n)}function Un(e){this._=e}function Hh(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Un.prototype=ya.prototype={constructor:Un,on:function(e,t){var n=this._,r=Hh(e+"",n),o,i=-1,l=r.length;if(arguments.length<2){for(;++i<l;)if((o=(e=r[i]).type)&&(o=qh(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(o=(e=r[i]).type)n[o]=Fl(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Fl(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Un(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function qh(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Fl(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Lh,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Yt=0,sn=0,en=0,Sa=1e3,cr,an,dr=0,Et=0,Sr=0,Sn=typeof performance=="object"&&performance.now?performance:Date,Ca=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ka(){return Et||(Ca(Gh),Et=Sn.now()+Sr)}function Gh(){Et=0}function co(){this._call=this._time=this._next=null}co.prototype=$a.prototype={constructor:co,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ka():+n)+(t==null?0:+t),!this._next&&an!==this&&(an?an._next=this:cr=this,an=this),this._call=e,this._time=n,go()},stop:function(){this._call&&(this._call=null,this._time=1/0,go())}};function $a(e,t,n){var r=new co;return r.restart(e,t,n),r}function Bh(){ka(),++Yt;for(var e=cr,t;e;)(t=Et-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Yt}function Dl(){Et=(dr=Sn.now())+Sr,Yt=sn=0;try{Bh()}finally{Yt=0,Uh(),Et=0}}function jh(){var e=Sn.now(),t=e-dr;t>Sa&&(Sr-=t,dr=e)}function Uh(){for(var e,t=cr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:cr=n);an=e,go(r)}function go(e){if(!Yt){sn&&(sn=clearTimeout(sn));var t=e-Et;t>24?(e<1/0&&(sn=setTimeout(Dl,e-Sn.now()-Sr)),en&&(en=clearInterval(en))):(en||(dr=Sn.now(),en=setInterval(jh,Sa)),Yt=1,Ca(Dl))}}const Wh=1664525,Xh=1013904223,Il=4294967296;function Yh(){let e=1;return()=>(e=(Wh*e+Xh)%Il)/Il}var Qh=10,Kh=Math.PI*(3-Math.sqrt(5));function Jh(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,l=.6,a=new Map,s=$a(c),u=ya("tick","end"),f=Yh();e==null&&(e=[]);function c(){g(),u.call("tick",t),n<r&&(s.stop(),u.call("end",t))}function g(m){var _,w=e.length,b;m===void 0&&(m=1);for(var A=0;A<m;++A)for(n+=(i-n)*o,a.forEach(function(R){R(n)}),_=0;_<w;++_)b=e[_],b.fx==null?b.x+=b.vx*=l:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=l:(b.y=b.fy,b.vy=0);return t}function d(){for(var m=0,_=e.length,w;m<_;++m){if(w=e[m],w.index=m,w.fx!=null&&(w.x=w.fx),w.fy!=null&&(w.y=w.fy),isNaN(w.x)||isNaN(w.y)){var b=Qh*Math.sqrt(.5+m),A=m*Kh;w.x=b*Math.cos(A),w.y=b*Math.sin(A)}(isNaN(w.vx)||isNaN(w.vy))&&(w.vx=w.vy=0)}}function p(m){return m.initialize&&m.initialize(e,f),m}return d(),t={tick:g,restart:function(){return s.restart(c),t},stop:function(){return s.stop(),t},nodes:function(m){return arguments.length?(e=m,d(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(o=+m,t):+o},alphaTarget:function(m){return arguments.length?(i=+m,t):i},velocityDecay:function(m){return arguments.length?(l=1-m,t):1-l},randomSource:function(m){return arguments.length?(f=m,a.forEach(p),t):f},force:function(m,_){return arguments.length>1?(_==null?a.delete(m):a.set(m,p(_)),t):a.get(m)},find:function(m,_,w){var b=0,A=e.length,R,$,M,S,k;for(w==null?w=1/0:w*=w,b=0;b<A;++b)S=e[b],R=m-S.x,$=_-S.y,M=R*R+$*$,M<w&&(k=S,w=M);return k},on:function(m,_){return arguments.length>1?(u.on(m,_),t):u.on(m)}}}function Zh(e){var t=tt(.1),n,r,o;typeof e!="function"&&(e=tt(e==null?0:+e));function i(a){for(var s=0,u=n.length,f;s<u;++s)f=n[s],f.vx+=(o[s]-f.x)*r[s]*a}function l(){if(n){var a,s=n.length;for(r=new Array(s),o=new Array(s),a=0;a<s;++a)r[a]=isNaN(o[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return i.initialize=function(a){n=a,l()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:tt(+a),l(),i):t},i.x=function(a){return arguments.length?(e=typeof a=="function"?a:tt(+a),l(),i):e},i}function ep(e){var t=tt(.1),n,r,o;typeof e!="function"&&(e=tt(e==null?0:+e));function i(a){for(var s=0,u=n.length,f;s<u;++s)f=n[s],f.vy+=(o[s]-f.y)*r[s]*a}function l(){if(n){var a,s=n.length;for(r=new Array(s),o=new Array(s),a=0;a<s;++a)r[a]=isNaN(o[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return i.initialize=function(a){n=a,l()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:tt(+a),l(),i):t},i.y=function(a){return arguments.length?(e=typeof a=="function"?a:tt(+a),l(),i):e},i}const gr=Fe([]),Nl=Fe({labelNames:["txt2.txt","pdf2.txt"],labels:[0,3],projection:[[.1443715864989249,.00463214192040876,.11292804485781914],[-.05626482326843836,-.013694651798983428,.01709368313171561]]});function Pl(e,t,n){const r=e.slice();return r[20]=t[n],r[22]=n,r}function Tl(e){let t,n,r,o,i,l=e[20].file+"",a,s,u=to(e[20].size)+"",f,c,g,d,p,m,_,w;return{c(){t=W("g"),n=W("circle"),i=W("text"),a=z(l),s=W("tspan"),f=z(u),h(n,"r",r=e[3](e[20].size)),h(n,"fill","var(--primary"),h(n,"stroke","var(--white)"),h(n,"stroke-width","1"),h(n,"fill-opacity",.95),h(n,"class","svelte-h2ab3o"),h(s,"x","0"),h(s,"y","15"),h(i,"class","bubble-file-text svelte-h2ab3o"),h(i,"text-anchor","middle"),h(i,"opacity",c=e[20].size>e[4]?1:0),h(t,"class",d="file-circle-g "+(e[20].size>e[4]?"large":"")+" svelte-h2ab3o"),h(t,"style",p=e[5](e[20].x,e[20].y)),h(t,"role","img")},m(b,A){T(b,t,A),v(t,n),v(t,i),v(i,a),v(i,s),v(s,f),m=!0,_||(w=[H(t,"mouseover",e[6]),H(t,"mouseout",e[7]),H(t,"focus",e[6]),H(t,"blur",e[7])],_=!0)},p(b,A){(!m||A&12&&r!==(r=b[3](b[20].size)))&&h(n,"r",r),(!m||A&4)&&l!==(l=b[20].file+"")&&ne(a,l),(!m||A&4)&&u!==(u=to(b[20].size)+"")&&ne(f,u),(!m||A&20&&c!==(c=b[20].size>b[4]?1:0))&&h(i,"opacity",c),(!m||A&20&&d!==(d="file-circle-g "+(b[20].size>b[4]?"large":"")+" svelte-h2ab3o"))&&h(t,"class",d),(!m||A&4&&p!==(p=b[5](b[20].x,b[20].y)))&&h(t,"style",p)},i(b){m||(b&&Re(()=>{m&&(o||(o=et(n,Mn,{duration:1e3},!0)),o.run(1))}),b&&Re(()=>{m&&(g||(g=et(i,Mn,{duration:1e3},!0)),g.run(1))}),m=!0)},o(b){b&&(o||(o=et(n,Mn,{duration:1e3},!1)),o.run(0)),b&&(g||(g=et(i,Mn,{duration:1e3},!1)),g.run(0)),m=!1},d(b){b&&N(t),b&&o&&o.end(),b&&g&&g.end(),_=!1,_e(w)}}}function tp(e){let t,n,r,o,i=e[2],l=[];for(let s=0;s<i.length;s+=1)l[s]=Tl(Pl(e,i,s));const a=s=>O(l[s],1,1,()=>{l[s]=null});return{c(){t=C("div"),n=W("svg");for(let s=0;s<l.length;s+=1)l[s].c();h(n,"width",e[0]),h(n,"height",e[1]),h(n,"class","svelte-h2ab3o"),h(t,"id","network-chart"),Re(()=>e[15].call(t))},m(s,u){T(s,t,u),v(t,n);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(n,null);r=Ft(t,e[15].bind(t)),o=!0},p(s,[u]){if(u&252){i=s[2];let f;for(f=0;f<i.length;f+=1){const c=Pl(s,i,f);l[f]?(l[f].p(c,u),P(l[f],1)):(l[f]=Tl(c),l[f].c(),P(l[f],1),l[f].m(n,null))}for(pe(),f=i.length;f<l.length;f+=1)a(f);me()}(!o||u&1)&&h(n,"width",s[0]),(!o||u&2)&&h(n,"height",s[1])},i(s){if(!o){for(let u=0;u<i.length;u+=1)P(l[u]);o=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)O(l[u]);o=!1},d(s){s&&N(t),Ce(l,s),r()}}}function np(e,t,n){let r,o,i,l,a,s,u,f;ie(e,gr,$=>n(14,f=$));let c=600,g=350,d=!0,p=!1;const m=($,M)=>`transform: translate(${$}px, ${M}px)`,_=[-4,4],w=[-1,1];function b(){n(8,d=!0),n(9,p=!0);const $=ft(this);Mr(".file-circle-g").select("text").style("opacity",0),$.raise(),$.select("circle").attr("fill","var(--red)"),$.select("text").style("opacity",1)}const A=()=>{const $=Mr(".file-circle-g");$.select("circle").attr("fill","var(--yellow)"),$.select("text").style("opacity",0),n(9,p=!1),setTimeout(()=>{n(8,d=!1)},1e3)};function R(){c=this.offsetWidth,g=this.offsetHeight,n(0,c),n(1,g)}return e.$$.update=()=>{e.$$.dirty&16387&&n(2,r=f.map($=>({...$,x:c/2,y:g/2,tickCount:0}))),e.$$.dirty&16384&&console.log(f.map($=>$.size).sort(($,M)=>$-M)),e.$$.dirty&1&&n(13,o=Zh().x(c/2)),e.$$.dirty&2&&n(12,i=ep().y(g/2)),e.$$.dirty&16384&&n(3,s=Ke().domain(un(f,$=>$.size)).range([12,60])),e.$$.dirty&8&&n(10,l=zh().radius($=>s($.size)+1).iterations(3)),e.$$.dirty&16384&&n(4,a=Rd(f.map($=>$.size).sort(($,M)=>$-M),.85)),e.$$.dirty&1&&Ke().domain(_).range([5,c]),e.$$.dirty&2&&Ke().domain(w).range([g,5]),e.$$.dirty&4&&n(11,u=Jh().nodes(r).on("tick",()=>{n(2,r=[...r])})),e.$$.dirty&15360&&(u.force("x",o),u.force("y",i),u.force("collide",l),u.alpha(.02),u.restart()),e.$$.dirty&19468&&(s.domain(un(f,$=>$.size)),r.forEach($=>$.radius=s($.size)),u.nodes(r),l.radius($=>$.radius+.5)),e.$$.dirty&768&&d===!1&&(p||Mr(".large").select("text").style("opacity",1))},[c,g,r,s,a,m,b,A,d,p,l,u,i,o,f,R]}class rp extends ue{constructor(t){super(),de(this,t,np,tp,ae,{})}}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vt(e,t){return typeof e=="function"?e(t):e}function Xe(e,t){return n=>{t.setState(r=>({...r,[e]:vt(n,r[e])}))}}function hr(e){return e instanceof Function}function op(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function ip(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const l=t(i);l!=null&&l.length&&r(l)})};return r(e),n}function U(e,t,n){let r=[],o;return()=>{let i;n.key&&n.debug&&(i=Date.now());const l=e();if(!(l.length!==r.length||l.some((u,f)=>r[f]!==u)))return o;r=l;let s;if(n.key&&n.debug&&(s=Date.now()),o=t(...l),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-i)*100)/100,f=Math.round((Date.now()-s)*100)/100,c=f/16,g=(d,p)=>{for(d=String(d);d.length<p;)d=" "+d;return d};console.info(`%c⏱ ${g(f,5)} /${g(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*c,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function lp(e,t,n,r){var o,i;const a={...e._getDefaultColumnDef(),...t},s=a.accessorKey;let u=(o=(i=a.id)!=null?i:s?s.replace(".","_"):void 0)!=null?o:typeof a.header=="string"?a.header:void 0,f;if(a.accessorFn?f=a.accessorFn:s&&(s.includes(".")?f=g=>{let d=g;for(const m of s.split(".")){var p;d=(p=d)==null?void 0:p[m]}return d}:f=g=>g[a.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:f,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:U(()=>[!0],()=>{var g;return[c,...(g=c.columns)==null?void 0:g.flatMap(d=>d.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}}),getLeafColumns:U(()=>[e._getOrderColumnsFn()],g=>{var d;if((d=c.columns)!=null&&d.length){let p=c.columns.flatMap(m=>m.getLeafColumns());return g(p)}return[c]},{key:"column.getLeafColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}})};return c=e._features.reduce((g,d)=>Object.assign(g,d.createColumn==null?void 0:d.createColumn(c,e)),c),c}function Ol(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],a=s=>{s.subHeaders&&s.subHeaders.length&&s.subHeaders.map(a),l.push(s)};return a(i),l},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(l=>{Object.assign(i,l.createHeader==null?void 0:l.createHeader(i,e))}),i}const sp={createTable:e=>({getHeaderGroups:U(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,l;const a=(i=r==null?void 0:r.map(c=>n.find(g=>g.id===c)).filter(Boolean))!=null?i:[],s=(l=o==null?void 0:o.map(c=>n.find(g=>g.id===c)).filter(Boolean))!=null?l:[],u=n.filter(c=>!(r!=null&&r.includes(c.id))&&!(o!=null&&o.includes(c.id)));return xn(t,[...a,...u,...s],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterHeaderGroups:U(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),xn(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftHeaderGroups:U(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?o:[];return xn(t,i,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightHeaderGroups:U(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?o:[];return xn(t,i,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFooterGroups:U(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFooterGroups:U(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFooterGroups:U(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFooterGroups:U(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFlatHeaders:U(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFlatHeaders:U(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFlatHeaders:U(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFlatHeaders:U(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterLeafHeaders:U(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftLeafHeaders:U(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightLeafHeaders:U(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeafHeaders:U(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,l,a,s,u;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(l=(a=n[0])==null?void 0:a.headers)!=null?l:[],...(s=(u=r[0])==null?void 0:u.headers)!=null?s:[]].map(f=>f.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})})};function xn(e,t,n,r){var o,i;let l=0;const a=function(g,d){d===void 0&&(d=1),l=Math.max(l,d),g.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&a(p.columns,d+1)},0)};a(e);let s=[];const u=(g,d)=>{const p={depth:d,id:[r,`${d}`].filter(Boolean).join("_"),headers:[]},m=[];g.forEach(_=>{const w=[...m].reverse()[0],b=_.column.depth===p.depth;let A,R=!1;if(b&&_.column.parent?A=_.column.parent:(A=_.column,R=!0),w&&(w==null?void 0:w.column)===A)w.subHeaders.push(_);else{const $=Ol(n,A,{id:[r,d,A.id,_==null?void 0:_.id].filter(Boolean).join("_"),isPlaceholder:R,placeholderId:R?`${m.filter(M=>M.column===A).length}`:void 0,depth:d,index:m.length});$.subHeaders.push(_),m.push($)}p.headers.push(_),_.headerGroup=p}),s.push(p),d>0&&u(m,d-1)},f=t.map((g,d)=>Ol(n,g,{depth:l,index:d}));u(f,l-1),s.reverse();const c=g=>g.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,_=0,w=[0];p.subHeaders&&p.subHeaders.length?(w=[],c(p.subHeaders).forEach(A=>{let{colSpan:R,rowSpan:$}=A;m+=R,w.push($)})):m=1;const b=Math.min(...w);return _=_+b,p.colSpan=m,p.rowSpan=_,{colSpan:m,rowSpan:_}});return c((o=(i=s[0])==null?void 0:i.headers)!=null?o:[]),s}const Vn={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Hr=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ap={getDefaultColumnDef:()=>Vn,getInitialState:e=>({columnSizing:{},columnSizingInfo:Hr(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:Xe("columnSizing",e),onColumnSizingInfoChange:Xe("columnSizingInfo",e)}),createColumn:(e,t)=>({getSize:()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Vn.minSize,(r=i??e.columnDef.size)!=null?r:Vn.size),(o=e.columnDef.maxSize)!=null?o:Vn.maxSize)},getStart:n=>{const r=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),o=r.findIndex(i=>i.id===e.id);if(o>0){const i=r[o-1];return i.getStart(n)+i.getSize()}return 0},resetSize:()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},getCanResize:()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},getIsResizing:()=>t.getState().columnSizingInfo.isResizingColumn===e.id}),createHeader:(e,t)=>({getSize:()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},getStart:()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},getResizeHandler:()=>{const n=t.getColumn(e.column.id),r=n==null?void 0:n.getCanResize();return o=>{if(!n||!r||(o.persist==null||o.persist(),qr(o)&&o.touches&&o.touches.length>1))return;const i=e.getSize(),l=e?e.getLeafHeaders().map(m=>[m.column.id,m.column.getSize()]):[[n.id,n.getSize()]],a=qr(o)?Math.round(o.touches[0].clientX):o.clientX,s={},u=(m,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(w=>{var b,A;const R=_-((b=w==null?void 0:w.startOffset)!=null?b:0),$=Math.max(R/((A=w==null?void 0:w.startSize)!=null?A:0),-.999999);return w.columnSizingStart.forEach(M=>{let[S,k]=M;s[S]=Math.round(Math.max(k+k*$,0)*100)/100}),{...w,deltaOffset:R,deltaPercentage:$}}),(t.options.columnResizeMode==="onChange"||m==="end")&&t.setColumnSizing(w=>({...w,...s})))},f=m=>u("move",m),c=m=>{u("end",m),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g={moveHandler:m=>f(m.clientX),upHandler:m=>{document.removeEventListener("mousemove",g.moveHandler),document.removeEventListener("mouseup",g.upHandler),c(m.clientX)}},d={moveHandler:m=>(m.cancelable&&(m.preventDefault(),m.stopPropagation()),f(m.touches[0].clientX),!1),upHandler:m=>{var _;document.removeEventListener("touchmove",d.moveHandler),document.removeEventListener("touchend",d.upHandler),m.cancelable&&(m.preventDefault(),m.stopPropagation()),c((_=m.touches[0])==null?void 0:_.clientX)}},p=up()?{passive:!1}:!1;qr(o)?(document.addEventListener("touchmove",d.moveHandler,p),document.addEventListener("touchend",d.upHandler,p)):(document.addEventListener("mousemove",g.moveHandler,p),document.addEventListener("mouseup",g.upHandler,p)),t.setColumnSizingInfo(m=>({...m,startOffset:a,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:n.id}))}}}),createTable:e=>({setColumnSizing:t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),setColumnSizingInfo:t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),resetColumnSizing:t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},resetHeaderSizeInfo:t=>{var n;e.setColumnSizingInfo(t?Hr():(n=e.initialState.columnSizingInfo)!=null?n:Hr())},getTotalSize:()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},getLeftTotalSize:()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},getCenterTotalSize:()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},getRightTotalSize:()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}})};let zn=null;function up(){if(typeof zn=="boolean")return zn;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return zn=e,zn}function qr(e){return e.type==="touchstart"}const fp={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Xe("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;return{_autoResetExpanded:()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},setExpanded:r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),toggleAllRowsExpanded:r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},resetExpanded:r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},getCanSomeRowsExpand:()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),getToggleAllRowsExpandedHandler:()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},getIsAllRowsExpanded:()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},getExpandedDepth:()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const l=i.split(".");r=Math.max(r,l.length)}),r},getPreExpandedRowModel:()=>e.getSortedRowModel(),getExpandedRowModel:()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())}},createRow:(e,t)=>({toggleExpanded:n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{l[a]=!0}):l=r,n=(o=n)!=null?o:!i,!i&&n)return{...l,[e.id]:!0};if(i&&!n){const{[e.id]:a,...s}=l;return s}return r})},getIsExpanded:()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},getCanExpand:()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},getToggleExpandedHandler:()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}})},Aa=(e,t,n)=>{var r,o,i;const l=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(o=r.toString())==null||(i=o.toLowerCase())==null)&&i.includes(l))};Aa.autoRemove=e=>Je(e);const Ra=(e,t,n)=>{var r,o;return!!(!((r=e.getValue(t))==null||(o=r.toString())==null)&&o.includes(n))};Ra.autoRemove=e=>Je(e);const Ma=(e,t,n)=>{var r,o;return((r=e.getValue(t))==null||(o=r.toString())==null?void 0:o.toLowerCase())===(n==null?void 0:n.toLowerCase())};Ma.autoRemove=e=>Je(e);const Ea=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Ea.autoRemove=e=>Je(e)||!(e!=null&&e.length);const Fa=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});Fa.autoRemove=e=>Je(e)||!(e!=null&&e.length);const Da=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});Da.autoRemove=e=>Je(e)||!(e!=null&&e.length);const Ia=(e,t,n)=>e.getValue(t)===n;Ia.autoRemove=e=>Je(e);const Na=(e,t,n)=>e.getValue(t)==n;Na.autoRemove=e=>Je(e);const No=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};No.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(o)?1/0:o;if(i>l){const a=i;i=l,l=a}return[i,l]};No.autoRemove=e=>Je(e)||Je(e[0])&&Je(e[1]);const st={includesString:Aa,includesStringSensitive:Ra,equalsString:Ma,arrIncludes:Ea,arrIncludesAll:Fa,arrIncludesSome:Da,equals:Ia,weakEquals:Na,inNumberRange:No};function Je(e){return e==null||e===""}const cp={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Xe("columnFilters",e),onGlobalFilterChange:Xe("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n,r;const o=(n=e.getCoreRowModel().flatRows[0])==null||(r=n._getAllCellsByColumnId()[t.id])==null?void 0:r.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,t)=>({getAutoFilterFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?st.includesString:typeof r=="number"?st.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?st.equals:Array.isArray(r)?st.arrIncludes:st.weakEquals},getFilterFn:()=>{var n,r;return hr(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:st[e.columnDef.filterFn]},getCanFilter:()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},getCanGlobalFilter:()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},getIsFiltered:()=>e.getFilterIndex()>-1,getFilterValue:()=>{var n,r;return(n=t.getState().columnFilters)==null||(r=n.find(o=>o.id===e.id))==null?void 0:r.value},getFilterIndex:()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},setFilterValue:n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(f=>f.id===e.id),l=vt(n,i?i.value:void 0);if(xl(o,l,e)){var a;return(a=r==null?void 0:r.filter(f=>f.id!==e.id))!=null?a:[]}const s={id:e.id,value:l};if(i){var u;return(u=r==null?void 0:r.map(f=>f.id===e.id?s:f))!=null?u:[]}return r!=null&&r.length?[...r,s]:[s]})},_getFacetedRowModel:t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),getFacetedRowModel:()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),_getFacetedUniqueValues:t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),getFacetedUniqueValues:()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),getFacetedMinMaxValues:()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}),createRow:(e,t)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:e=>({getGlobalAutoFilterFn:()=>st.includesString,getGlobalFilterFn:()=>{var t,n;const{globalFilterFn:r}=e.options;return hr(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:st[r]},setColumnFilters:t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=vt(t,o))==null?void 0:i.filter(l=>{const a=n.find(s=>s.id===l.id);if(a){const s=a.getFilterFn();if(xl(s,l.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},setGlobalFilter:t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},resetGlobalFilter:t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},resetColumnFilters:t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},getPreFilteredRowModel:()=>e.getCoreRowModel(),getFilteredRowModel:()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),_getGlobalFacetedRowModel:e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),getGlobalFacetedRowModel:()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),getGlobalFacetedUniqueValues:()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}})};function xl(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const dp=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),gp=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},hp=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},pp=(e,t,n)=>{let r,o;return n.forEach(i=>{const l=i.getValue(e);l!=null&&(r===void 0?l>=l&&(r=o=l):(r>l&&(r=l),o<l&&(o=l)))}),[r,o]},mp=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},_p=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!op(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,l)=>i-l);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},vp=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),bp=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,wp=(e,t)=>t.length,Gr={sum:dp,min:gp,max:hp,extent:pp,mean:mp,median:_p,unique:vp,uniqueCount:bp,count:wp},yp={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Xe("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>({toggleGrouping:()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},getCanGroup:()=>{var n,r,o,i;return(n=(r=(o=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?o:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},getIsGrouped:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},getGroupedIndex:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},getToggleGroupingHandler:()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},getAutoAggregationFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Gr.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Gr.extent},getAggregationFn:()=>{var n,r;if(!e)throw new Error;return hr(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Gr[e.columnDef.aggregationFn]}}),createTable:e=>({setGrouping:t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),resetGrouping:t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},getPreGroupedRowModel:()=>e.getFilteredRowModel(),getGroupedRowModel:()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())}),createRow:(e,t)=>({getIsGrouped:()=>!!e.groupingColumnId,getGroupingValue:n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},_groupingValuesCache:{}}),createCell:(e,t,n,r)=>({getIsGrouped:()=>t.getIsGrouped()&&t.id===n.groupingColumnId,getIsPlaceholder:()=>!e.getIsGrouped()&&t.getIsGrouped(),getIsAggregated:()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}})};function Sp(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(l=>l.id===i)).filter(Boolean),...r]}const Cp={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Xe("columnOrder",e)}),createTable:e=>({setColumnOrder:t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),resetColumnOrder:t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},_getOrderColumnsFn:U(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const l=[...t],a=[...o];for(;a.length&&l.length;){const s=l.shift(),u=a.findIndex(f=>f.id===s);u>-1&&i.push(a.splice(u,1)[0])}i=[...i,...a]}return Sp(i,n,r)},{key:!1})})},ho=0,po=10,Br=()=>({pageIndex:ho,pageSize:po}),kp={getInitialState:e=>({...e,pagination:{...Br(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Xe("pagination",e)}),createTable:e=>{let t=!1,n=!1;return{_autoResetPageIndex:()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},setPagination:r=>{const o=i=>vt(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},resetPagination:r=>{var o;e.setPagination(r?Br():(o=e.initialState.pagination)!=null?o:Br())},setPageIndex:r=>{e.setPagination(o=>{let i=vt(r,o.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,l)),{...o,pageIndex:i}})},resetPageIndex:r=>{var o,i,l;e.setPageIndex(r?ho:(o=(i=e.initialState)==null||(l=i.pagination)==null?void 0:l.pageIndex)!=null?o:ho)},resetPageSize:r=>{var o,i,l;e.setPageSize(r?po:(o=(i=e.initialState)==null||(l=i.pagination)==null?void 0:l.pageSize)!=null?o:po)},setPageSize:r=>{e.setPagination(o=>{const i=Math.max(1,vt(r,o.pageSize)),l=o.pageSize*o.pageIndex,a=Math.floor(l/i);return{...o,pageIndex:a,pageSize:i}})},setPageCount:r=>e.setPagination(o=>{var i;let l=vt(r,(i=e.options.pageCount)!=null?i:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...o,pageCount:l}}),getPageOptions:U(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,l)=>l)),o},{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugTable}}),getCanPreviousPage:()=>e.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},previousPage:()=>e.setPageIndex(r=>r-1),nextPage:()=>e.setPageIndex(r=>r+1),getPrePaginationRowModel:()=>e.getExpandedRowModel(),getPaginationRowModel:()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),getPageCount:()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}}},jr=()=>({left:[],right:[]}),$p={getInitialState:e=>({columnPinning:jr(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Xe("columnPinning",e)}),createColumn:(e,t)=>({pin:n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,l;if(n==="right"){var a,s;return{left:((a=o==null?void 0:o.left)!=null?a:[]).filter(c=>!(r!=null&&r.includes(c))),right:[...((s=o==null?void 0:o.right)!=null?s:[]).filter(c=>!(r!=null&&r.includes(c))),...r]}}if(n==="left"){var u,f;return{left:[...((u=o==null?void 0:o.left)!=null?u:[]).filter(c=>!(r!=null&&r.includes(c))),...r],right:((f=o==null?void 0:o.right)!=null?f:[]).filter(c=>!(r!=null&&r.includes(c)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(c=>!(r!=null&&r.includes(c))),right:((l=o==null?void 0:o.right)!=null?l:[]).filter(c=>!(r!=null&&r.includes(c)))}})},getCanPin:()=>e.getLeafColumns().some(r=>{var o,i;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=t.options.enablePinning)!=null?i:!0)}),getIsPinned:()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),l=n.some(a=>o==null?void 0:o.includes(a));return i?"left":l?"right":!1},getPinnedIndex:()=>{var n,r,o;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(o=r[i])==null?void 0:o.indexOf(e.id))!=null?n:-1:0}}),createRow:(e,t)=>({getCenterVisibleCells:U(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(l=>!i.includes(l.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getLeftVisibleCells:U(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getRightVisibleCells:U(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>({setColumnPinning:t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),resetColumnPinning:t=>{var n,r;return e.setColumnPinning(t?jr():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:jr())},getIsSomeColumnsPinned:t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},getLeftLeafColumns:U(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getRightLeafColumns:U(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getCenterLeafColumns:U(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}})})},Ap={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Xe("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>({setRowSelection:t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),resetRowSelection:t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},toggleAllRowsSelected:t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},toggleAllPageRowsSelected:t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{mo(o,i.id,r,e)}),o}),getPreSelectedRowModel:()=>e.getCoreRowModel(),getSelectedRowModel:U(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Ur(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getFilteredSelectedRowModel:U(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Ur(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getGroupedSelectedRowModel:U(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Ur(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getIsAllRowsSelected:()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},getIsAllPageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},getIsSomeRowsSelected:()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>t=>{e.toggleAllRowsSelected(t.target.checked)},getToggleAllPageRowsSelectedHandler:()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}}),createRow:(e,t)=>({toggleSelected:n=>{const r=e.getIsSelected();t.setRowSelection(o=>{if(n=typeof n<"u"?n:!r,r===n)return o;const i={...o};return mo(i,e.id,n,t),i})},getIsSelected:()=>{const{rowSelection:n}=t.getState();return Po(e,n)},getIsSomeSelected:()=>{const{rowSelection:n}=t.getState();return Vl(e,n)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:n}=t.getState();return Vl(e,n)==="all"},getCanSelect:()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},getCanSelectSubRows:()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},getCanMultiSelect:()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},getToggleSelectedHandler:()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}})},mo=(e,t,n,r)=>{var o;const i=r.getRow(t);n?(i.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),i.getCanSelect()&&(e[t]=!0)):delete e[t],(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(l=>mo(e,l.id,n,r))};function Ur(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(l,a){return l.map(s=>{var u;const f=Po(s,n);if(f&&(r.push(s),o[s.id]=s),(u=s.subRows)!=null&&u.length&&(s={...s,subRows:i(s.subRows)}),f)return s}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function Po(e,t){var n;return(n=t[e.id])!=null?n:!1}function Vl(e,t,n){if(e.subRows&&e.subRows.length){let r=!0,o=!1;return e.subRows.forEach(i=>{o&&!r||(Po(i,t)?o=!0:r=!1)}),r?"all":o?"some":!1}return!1}const _o=/([0-9]+)/gm,Rp=(e,t,n)=>Pa(wt(e.getValue(n)).toLowerCase(),wt(t.getValue(n)).toLowerCase()),Mp=(e,t,n)=>Pa(wt(e.getValue(n)),wt(t.getValue(n))),Ep=(e,t,n)=>To(wt(e.getValue(n)).toLowerCase(),wt(t.getValue(n)).toLowerCase()),Fp=(e,t,n)=>To(wt(e.getValue(n)),wt(t.getValue(n))),Dp=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},Ip=(e,t,n)=>To(e.getValue(n),t.getValue(n));function To(e,t){return e===t?0:e>t?1:-1}function wt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Pa(e,t){const n=e.split(_o).filter(Boolean),r=t.split(_o).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),l=parseInt(o,10),a=parseInt(i,10),s=[l,a].sort();if(isNaN(s[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(s[1]))return isNaN(l)?-1:1;if(l>a)return 1;if(a>l)return-1}return n.length-r.length}const tn={alphanumeric:Rp,alphanumericCaseSensitive:Mp,text:Ep,textCaseSensitive:Fp,datetime:Dp,basic:Ip},Np={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Xe("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>({getAutoSortingFn:()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return tn.datetime;if(typeof i=="string"&&(r=!0,i.split(_o).length>1))return tn.alphanumeric}return r?tn.text:tn.basic},getAutoSortDir:()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},getSortingFn:()=>{var n,r;if(!e)throw new Error;return hr(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:tn[e.columnDef.sortingFn]},toggleSorting:(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(l=>{const a=l==null?void 0:l.find(d=>d.id===e.id),s=l==null?void 0:l.findIndex(d=>d.id===e.id);let u=[],f,c=i?n:o==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?a?f="toggle":f="add":l!=null&&l.length&&s!==l.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(i||o||(f="remove")),f==="add"){var g;u=[...l,{id:e.id,desc:c}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=l.map(d=>d.id===e.id?{...d,desc:c}:d):f==="remove"?u=l.filter(d=>d.id!==e.id):u=[{id:e.id,desc:c}];return u})},getFirstSortDir:()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:n=>{var r,o;const i=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:l==="desc"?"asc":"desc":i},getCanSort:()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},getCanMultiSort:()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},getIsSorted:()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},getSortIndex:()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},clearSorting:()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},getToggleSortingHandler:()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}}),createTable:e=>({setSorting:t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),resetSorting:t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},getPreSortedRowModel:()=>e.getGroupedRowModel(),getSortedRowModel:()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())})},Pp={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Xe("columnVisibility",e)}),createColumn:(e,t)=>({toggleVisibility:n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},getIsVisible:()=>{var n,r;return(n=(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},getCanHide:()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},getToggleVisibilityHandler:()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}}),createRow:(e,t)=>({_getAllVisibleCells:U(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getVisibleCells:U(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>{const t=(n,r)=>U(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),{key:n,debug:()=>{var o;return(o=e.options.debugAll)!=null?o:e.options.debugColumns}});return{getVisibleFlatColumns:t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),getVisibleLeafColumns:t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),getLeftVisibleLeafColumns:t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),getRightVisibleLeafColumns:t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),getCenterVisibleLeafColumns:t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),setColumnVisibility:n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),resetColumnVisibility:n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},toggleAllColumnsVisible:n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),getIsSomeColumnsVisible:()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}}},zl=[sp,Pp,Cp,$p,cp,Np,yp,fp,kp,Ap,ap];function Tp(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:zl};const r=n._features.reduce((f,c)=>Object.assign(f,c.getDefaultOptions==null?void 0:c.getDefaultOptions(n)),{}),o=f=>n.options.mergeOptions?n.options.mergeOptions(r,f):{...r,...f};let l={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(f=>{var c;l=(c=f.getInitialState==null?void 0:f.getInitialState(l))!=null?c:l});const a=[];let s=!1;const u={_features:zl,options:{...r,...e},initialState:l,_queue:f=>{a.push(f),s||(s=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();s=!1}).catch(c=>setTimeout(()=>{throw c})))},reset:()=>{n.setState(n.initialState)},setOptions:f=>{const c=vt(f,n.options);n.options=o(c)},getState:()=>n.options.state,setState:f=>{n.options.onStateChange==null||n.options.onStateChange(f)},_getRowId:(f,c,g)=>{var d;return(d=n.options.getRowId==null?void 0:n.options.getRowId(f,c,g))!=null?d:`${g?[g.id,c].join("."):c}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:f=>{const c=n.getRowModel().rowsById[f];if(!c)throw new Error;return c},_getDefaultColumnDef:U(()=>[n.options.defaultColumn],f=>{var c;return f=(c=f)!=null?c:{},{header:g=>{const d=g.header.column.columnDef;return d.accessorKey?d.accessorKey:d.accessorFn?d.id:null},cell:g=>{var d,p;return(d=(p=g.renderValue())==null||p.toString==null?void 0:p.toString())!=null?d:null},...n._features.reduce((g,d)=>Object.assign(g,d.getDefaultColumnDef==null?void 0:d.getDefaultColumnDef()),{}),...f}},{debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:U(()=>[n._getColumnDefs()],f=>{const c=function(g,d,p){return p===void 0&&(p=0),g.map(m=>{const _=lp(n,m,p,d),w=m;return _.columns=w.columns?c(w.columns,_,p+1):[],_})};return c(f)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllFlatColumns:U(()=>[n.getAllColumns()],f=>f.flatMap(c=>c.getFlatColumns()),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),_getAllFlatColumnsById:U(()=>[n.getAllFlatColumns()],f=>f.reduce((c,g)=>(c[g.id]=g,c),{}),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllLeafColumns:U(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(f,c)=>{let g=f.flatMap(d=>d.getLeafColumns());return c(g)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getColumn:f=>n._getAllFlatColumnsById()[f]};return Object.assign(n,u),n._features.forEach(f=>Object.assign(n,f.createTable==null?void 0:f.createTable(n))),n}function Op(e,t,n,r){const o=()=>{var l;return(l=i.getValue())!=null?l:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:U(()=>[e,n,t,i],(l,a,s,u)=>({table:l,column:a,row:s,cell:u,getValue:u.getValue,renderValue:u.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(l=>{Object.assign(i,l.createCell==null?void 0:l.createCell(i,n,t,e))},{}),i}const Oo=(e,t,n,r,o,i,l)=>{let a={id:t,index:r,original:n,depth:o,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:s=>{if(a._valuesCache.hasOwnProperty(s))return a._valuesCache[s];const u=e.getColumn(s);if(u!=null&&u.accessorFn)return a._valuesCache[s]=u.accessorFn(a.original,r),a._valuesCache[s]},getUniqueValues:s=>{if(a._uniqueValuesCache.hasOwnProperty(s))return a._uniqueValuesCache[s];const u=e.getColumn(s);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[s]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[s]):(a._uniqueValuesCache[s]=[a.getValue(s)],a._uniqueValuesCache[s])},renderValue:s=>{var u;return(u=a.getValue(s))!=null?u:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>ip(a.subRows,s=>s.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId):void 0,getParentRows:()=>{let s=[],u=a;for(;;){const f=u.getParentRow();if(!f)break;s.push(f),u=f}return s.reverse()},getAllCells:U(()=>[e.getAllLeafColumns()],s=>s.map(u=>Op(e,a,u,u.id)),{key:!1,debug:()=>{var s;return(s=e.options.debugAll)!=null?s:e.options.debugRows}}),_getAllCellsByColumnId:U(()=>[a.getAllCells()],s=>s.reduce((u,f)=>(u[f.column.id]=f,u),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var s;return(s=e.options.debugAll)!=null?s:e.options.debugRows}})};for(let s=0;s<e._features.length;s++){const u=e._features[s];Object.assign(a,u==null||u.createRow==null?void 0:u.createRow(a,e))}return a};function xp(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Ll(){return e=>U(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,l){i===void 0&&(i=0);const a=[];for(let u=0;u<o.length;u++){const f=Oo(e,e._getRowId(o[u],u,l),o[u],u,i,void 0,l==null?void 0:l.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,a.push(f),e.options.getSubRows){var s;f.originalSubRows=e.options.getSubRows(o[u],u),(s=f.originalSubRows)!=null&&s.length&&(f.subRows=r(f.originalSubRows,i+1,f))}}return a};return n.rows=r(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Ta(e,t,n){return n.options.filterFromLeafRows?Vp(e,t,n):zp(e,t,n)}function Vp(e,t,n){var r;const o=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(s,u){u===void 0&&(u=0);const f=[];for(let g=0;g<s.length;g++){var c;let d=s[g];const p=Oo(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(p.columnFilters=d.columnFilters,(c=d.subRows)!=null&&c.length&&u<l){if(p.subRows=a(d.subRows,u+1),d=p,t(d)&&!p.subRows.length){f.push(d),i[d.id]=d,i[g]=d;continue}if(t(d)||p.subRows.length){f.push(d),i[d.id]=d,i[g]=d;continue}}else d=p,t(d)&&(f.push(d),i[d.id]=d,i[g]=d)}return f};return{rows:a(e),flatRows:o,rowsById:i}}function zp(e,t,n){var r;const o=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(s,u){u===void 0&&(u=0);const f=[];for(let g=0;g<s.length;g++){let d=s[g];if(t(d)){var c;if((c=d.subRows)!=null&&c.length&&u<l){const m=Oo(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);m.subRows=a(d.subRows,u+1),d=m}f.push(d),o.push(d),i[d.id]=d}}return f};return{rows:a(e),flatRows:o,rowsById:i}}function Hl(){return e=>U(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const o=[],i=[];(n??[]).forEach(g=>{var d;const p=e.getColumn(g.id);if(!p)return;const m=p.getFilterFn();m&&o.push({id:g.id,filterFn:m,resolvedValue:(d=m.resolveFilterValue==null?void 0:m.resolveFilterValue(g.value))!=null?d:g.value})});const l=n.map(g=>g.id),a=e.getGlobalFilterFn(),s=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&a&&s.length&&(l.push("__global__"),s.forEach(g=>{var d;i.push({id:g.id,filterFn:a,resolvedValue:(d=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?d:r})}));let u,f;for(let g=0;g<t.flatRows.length;g++){const d=t.flatRows[g];if(d.columnFilters={},o.length)for(let p=0;p<o.length;p++){u=o[p];const m=u.id;d.columnFilters[m]=u.filterFn(d,m,u.resolvedValue,_=>{d.columnFiltersMeta[m]=_})}if(i.length){for(let p=0;p<i.length;p++){f=i[p];const m=f.id;if(f.filterFn(d,m,f.resolvedValue,_=>{d.columnFiltersMeta[m]=_})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}const c=g=>{for(let d=0;d<l.length;d++)if(g.columnFilters[l[d]]===!1)return!1;return!0};return Ta(t.rows,c,e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function ql(){return(e,t)=>U(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,o)=>{if(!n.rows.length||!(r!=null&&r.length)&&!o)return n;const i=[...r.map(a=>a.id).filter(a=>a!==t),o?"__global__":void 0].filter(Boolean),l=a=>{for(let s=0;s<i.length;s++)if(a.columnFilters[i[s]]===!1)return!1;return!0};return Ta(n.rows,l,e)},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{}})}function Gl(){return e=>U(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(s=>{var u;return(u=e.getColumn(s.id))==null?void 0:u.getCanSort()}),l={};i.forEach(s=>{const u=e.getColumn(s.id);u&&(l[s.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=s=>{const u=[...s];return u.sort((f,c)=>{for(let d=0;d<i.length;d+=1){var g;const p=i[d],m=l[p.id],_=(g=p==null?void 0:p.desc)!=null?g:!1;let w=0;if(m.sortUndefined){const b=f.getValue(p.id),A=c.getValue(p.id),R=b===void 0,$=A===void 0;(R||$)&&(w=R&&$?0:R?m.sortUndefined:-m.sortUndefined)}if(w===0&&(w=m.sortingFn(f,c,p.id)),w!==0)return _&&(w*=-1),m.invertSorting&&(w*=-1),w}return f.index-c.index}),u.forEach(f=>{var c;o.push(f),(c=f.subRows)!=null&&c.length&&(f.subRows=a(f.subRows))}),u};return{rows:a(n.rows),flatRows:o,rowsById:n.rowsById}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Lp(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Bl(e){return t=>U(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:i}=n;let{rows:l,flatRows:a,rowsById:s}=r;const u=o*i,f=u+o;l=l.slice(u,f);let c;t.options.paginateExpandedRows?c={rows:l,flatRows:a,rowsById:s}:c=Lp({rows:l,flatRows:a,rowsById:s}),c.flatRows=[];const g=d=>{c.flatRows.push(d),d.subRows.length&&d.subRows.forEach(g)};return c.rows.forEach(g),c},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}})}/**
 * svelte-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hp(e){let t;return{c(){t=z(e[0])},l(n){t=Za(n,e[0])},m(n,r){Wa(n,t,r)},p(n,[r]){r&1&&ne(t,n[0])},i:L,o:L,d(n){n&&N(t)}}}function qp(e,t,n){let{content:r}=t;return e.$$set=o=>{"content"in o&&n(0,r=o.content)},[r]}class Gp extends ue{constructor(t){super(),de(this,t,qp,Hp,ae,{content:0})}}const Bp=$s((e,t,n,r)=>`${mu(t.content)}`);var jp=typeof document>"u"?Bp:Gp;function Up(e,t,n){let r,o;return r=new t({props:n,$$inline:!0}),{c(){te(r.$$.fragment)},l(i){vu(r.$$.fragment,i)},m(i,l){Q(r,i,l),o=!0},p:L,i(i){o||(P(r.$$.fragment,i),o=!0)},o(i){O(r.$$.fragment,i),o=!1},d(i){K(r,i)}}}function Wp(e,t){return class extends ue{constructor(r){super(),de(this,r,null,o=>Up(o,e,t),ae,{},void 0)}}}function Xp(e,t){return $s((r,o,i,l)=>`${_u(e,"TableComponent").$$render(r,t,{},{})}`)}const vo=typeof window>"u"?Xp:Wp;function Yp(e){return typeof e=="object"&&typeof e.$$render=="function"&&typeof e.render=="function"}function Qp(e){var t,n;let r="__SVELTE_HMR"in window;return e.prototype instanceof ue||r&&((t=e.name)==null?void 0:t.startsWith("Proxy<"))&&((n=e.name)==null?void 0:n.endsWith(">"))}function jl(e){return typeof document>"u"?Yp(e):Qp(e)}function Ul(e){return vo(jp,{content:e})}function pr(e,t){if(!e)return null;if(jl(e))return vo(e,t);if(typeof e=="function"){const n=e(t);return n==null?null:jl(n)?vo(n,t):Ul(n)}return Ul(e)}function Wl(e){let t;"subscribe"in e?t=e:t=Qr(e);let n={state:{},onStateChange:()=>{},renderFallbackValue:null,...za(t)},r=Tp(n),o=Fe(r.initialState),i=wu([o,t],a=>a);return Qr(r,function(s){const u=i.subscribe(f=>{let[c,g]=f;r.setOptions(d=>({...d,...g,state:{...c,...g.state},onStateChange:p=>{p instanceof Function?o.update(p):o.set(p),n.onStateChange==null||n.onStateChange(p)}})),s(r)});return function(){u()}})}/**
 * match-sorter-utils
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Oa={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},Kp=Object.keys(Oa).join("|"),Jp=new RegExp(Kp,"g");function Zp(e){return e.replace(Jp,t=>Oa[t])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const xe={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function em(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:xe.MATCHES,!n.accessors){const l=Xl(e,t,n);return{rankedValue:e,rank:l,accessorIndex:-1,accessorThreshold:n.threshold,passed:l>=n.threshold}}const o=om(e,n.accessors),i={rankedValue:e,rank:xe.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let l=0;l<o.length;l++){const a=o[l];let s=Xl(a.itemValue,t,n);const{minRanking:u,maxRanking:f,threshold:c=n.threshold}=a.attributes;s<u&&s>=xe.MATCHES?s=u:s>f&&(s=f),s=Math.min(s,f),s>=c&&s>i.rank&&(i.rank=s,i.passed=!0,i.accessorIndex=l,i.accessorThreshold=c,i.rankedValue=a.itemValue)}return i}function Xl(e,t,n){return e=Yl(e,n),t=Yl(t,n),t.length>e.length?xe.NO_MATCH:e===t?xe.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?xe.EQUAL:e.startsWith(t)?xe.STARTS_WITH:e.includes(` ${t}`)?xe.WORD_STARTS_WITH:e.includes(t)?xe.CONTAINS:t.length===1?xe.NO_MATCH:tm(e).includes(t)?xe.ACRONYM:nm(e,t))}function tm(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(i=>{t+=i.substr(0,1)})}),t}function nm(e,t){let n=0,r=0;function o(s,u,f){for(let c=f,g=u.length;c<g;c++)if(u[c]===s)return n+=1,c+1;return-1}function i(s){const u=1/s,f=n/t.length;return xe.MATCHES+f*u}const l=o(t[0],e,0);if(l<0)return xe.NO_MATCH;r=l;for(let s=1,u=t.length;s<u;s++){const f=t[s];if(r=o(f,e,r),!(r>-1))return xe.NO_MATCH}const a=r-l;return i(a)}function Yl(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=Zp(e)),e}function rm(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function om(e,t){const n=[];for(let r=0,o=t.length;r<o;r++){const i=t[r],l=im(i),a=rm(e,i);for(let s=0,u=a.length;s<u;s++)n.push({itemValue:a[s],attributes:l})}return n}const Ql={maxRanking:1/0,minRanking:-1/0};function im(e){return typeof e=="function"?Ql:{...Ql,...e}}function Kl(e,t,n){const r=e.slice();return r[17]=t[n],r}function Jl(e,t,n){const r=e.slice();return r[20]=t[n],r}function Zl(e,t,n){const r=e.slice();return r[23]=t[n],r}function es(e,t,n){const r=e.slice();return r[26]=t[n],r}function lm(e){let t,n,r,o,i=am(e[26].column.getIsSorted())+"",l,a,s,u;var f=pr(e[26].column.columnDef.header,e[26].getContext());function c(g){return{}}return f&&(n=bt(f,c())),{c(){t=C("button"),n&&te(n.$$.fragment),r=F(),o=C("span"),l=z(i),t.disabled=!e[26].column.getCanSort(),nn(t,"is-disabled",!e[26].column.getCanSort())},m(g,d){T(g,t,d),n&&Q(n,t,null),v(t,r),v(t,o),v(o,l),a=!0,s||(u=H(t,"click",e[26].column.getToggleSortingHandler()),s=!0)},p(g,d){if(e=g,f!==(f=pr(e[26].column.columnDef.header,e[26].getContext()))){if(n){pe();const p=n;O(p.$$.fragment,1,0,()=>{K(p,1)}),me()}f?(n=bt(f,c()),te(n.$$.fragment),P(n.$$.fragment,1),Q(n,t,r)):n=null}},i(g){a||(n&&P(n.$$.fragment,g),a=!0)},o(g){n&&O(n.$$.fragment,g),a=!1},d(g){g&&N(t),n&&K(n),s=!1,u()}}}function ts(e){let t,n,r=!e[26].isPlaceholder&&lm(e);return{c(){t=C("th"),r&&r.c(),h(t,"colspan",e[26].colSpan),h(t,"class","svelte-16fb3tv")},m(o,i){T(o,t,i),r&&r.m(t,null),n=!0},p(o,i){o[26].isPlaceholder||r.p(o,i)},i(o){n||(P(r),n=!0)},o(o){O(r),n=!1},d(o){o&&N(t),r&&r.d()}}}function ns(e){let t,n,r,o=e[23].headers,i=[];for(let a=0;a<o.length;a+=1)i[a]=ts(es(e,o,a));const l=a=>O(i[a],1,1,()=>{i[a]=null});return{c(){t=C("tr");for(let a=0;a<i.length;a+=1)i[a].c();n=F()},m(a,s){T(a,t,s);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(t,null);v(t,n),r=!0},p(a,s){if(s&32){o=a[23].headers;let u;for(u=0;u<o.length;u+=1){const f=es(a,o,u);i[u]?(i[u].p(f,s),P(i[u],1)):(i[u]=ts(f),i[u].c(),P(i[u],1),i[u].m(t,n))}for(pe(),u=o.length;u<i.length;u+=1)l(u);me()}},i(a){if(!r){for(let s=0;s<o.length;s+=1)P(i[s]);r=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)O(i[s]);r=!1},d(a){a&&N(t),Ce(i,a)}}}function rs(e,t){let n,r,o;var i=pr(t[20].column.columnDef.cell,t[20].getContext());function l(a){return{}}return i&&(r=bt(i,l())),{key:e,first:null,c(){n=C("td"),r&&te(r.$$.fragment),h(n,"class","svelte-16fb3tv"),this.first=n},m(a,s){T(a,n,s),r&&Q(r,n,null),o=!0},p(a,s){if(t=a,s&2&&i!==(i=pr(t[20].column.columnDef.cell,t[20].getContext()))){if(r){pe();const u=r;O(u.$$.fragment,1,0,()=>{K(u,1)}),me()}i?(r=bt(i,l()),te(r.$$.fragment),P(r.$$.fragment,1),Q(r,n,null)):r=null}},i(a){o||(r&&P(r.$$.fragment,a),o=!0)},o(a){r&&O(r.$$.fragment,a),o=!1},d(a){a&&N(n),r&&K(r)}}}function os(e){let t,n=[],r=new Map,o,i,l=e[17].getVisibleCells();const a=s=>s[20].id;for(let s=0;s<l.length;s+=1){let u=Jl(e,l,s),f=a(u);r.set(f,n[s]=rs(f,u))}return{c(){t=C("tr");for(let s=0;s<n.length;s+=1)n[s].c();o=F(),h(t,"class","svelte-16fb3tv")},m(s,u){T(s,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);v(t,o),i=!0},p(s,u){u&2&&(l=s[17].getVisibleCells(),pe(),n=Qt(n,u,a,1,s,l,r,t,Ss,rs,o,Jl),me())},i(s){if(!i){for(let u=0;u<l.length;u+=1)P(n[u]);i=!0}},o(s){for(let u=0;u<n.length;u+=1)O(n[u]);i=!1},d(s){s&&N(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function sm(e){let t,n,r,o,i,l,a,s,u,f,c,g="<",d,p,m,_,w,b,A,R,$,M,S=" ",k,y,E=" ",D,I,V=e[1].getPageCount()+"",J,fe,re,be=">",ke,q,G,he,Z,oe=e[5],le=[];for(let X=0;X<oe.length;X+=1)le[X]=ns(Zl(e,oe,X));const An=X=>O(le[X],1,1,()=>{le[X]=null});let yt=e[1].getRowModel().rows,ye=[];for(let X=0;X<yt.length;X+=1)ye[X]=os(Kl(e,yt,X));const xa=X=>O(ye[X],1,1,()=>{ye[X]=null});return{c(){t=C("div"),n=C("input"),r=F(),o=C("div"),i=C("table"),l=C("thead");for(let X=0;X<le.length;X+=1)le[X].c();a=F(),s=C("tbody");for(let X=0;X<ye.length;X+=1)ye[X].c();u=F(),f=C("div"),c=C("button"),d=z(g),m=F(),_=C("span"),_.textContent="Page",w=F(),b=C("input"),$=F(),M=C("span"),k=z(S),y=z("of"),D=z(E),I=F(),J=z(V),fe=F(),re=C("button"),ke=z(be),h(n,"type","search"),h(n,"class","input"),h(n,"placeholder","Search..."),h(l,"class","svelte-16fb3tv"),h(s,"class","svelte-16fb3tv"),h(c,"class","button is-white svelte-16fb3tv"),c.disabled=p=!e[1].getCanPreviousPage(),nn(c,"is-disabled",!e[1].getCanPreviousPage()),h(b,"type","number"),b.value=A=e[1].getState().pagination.pageIndex+1,h(b,"min",0),h(b,"max",R=e[1].getPageCount()-1),h(b,"class","mx-1 svelte-16fb3tv"),h(re,"class","button is-white svelte-16fb3tv"),re.disabled=q=!e[1].getCanNextPage(),nn(re,"is-disabled",!e[1].getCanNextPage()),h(f,"class","is-flex is-align-items-center svelte-16fb3tv"),h(i,"class","table svelte-16fb3tv"),h(o,"class","table-container svelte-16fb3tv")},m(X,ge){T(X,t,ge),v(t,n),v(t,r),v(t,o),v(o,i),v(i,l);for(let ee=0;ee<le.length;ee+=1)le[ee]&&le[ee].m(l,null);v(i,a),v(i,s);for(let ee=0;ee<ye.length;ee+=1)ye[ee]&&ye[ee].m(s,null);v(i,u),v(i,f),v(f,c),v(c,d),v(f,m),v(f,_),v(f,w),v(f,b),v(f,$),v(f,M),v(M,k),v(M,y),v(M,D),v(M,I),v(M,J),v(f,fe),v(f,re),v(re,ke),G=!0,he||(Z=[H(n,"keyup",e[3]),H(n,"search",e[3]),H(c,"click",e[9]),H(b,"change",e[4]),H(re,"click",e[10])],he=!0)},p(X,[ge]){if(ge&32){oe=X[5];let ee;for(ee=0;ee<oe.length;ee+=1){const Kt=Zl(X,oe,ee);le[ee]?(le[ee].p(Kt,ge),P(le[ee],1)):(le[ee]=ns(Kt),le[ee].c(),P(le[ee],1),le[ee].m(l,null))}for(pe(),ee=oe.length;ee<le.length;ee+=1)An(ee);me()}if(ge&2){yt=X[1].getRowModel().rows;let ee;for(ee=0;ee<yt.length;ee+=1){const Kt=Kl(X,yt,ee);ye[ee]?(ye[ee].p(Kt,ge),P(ye[ee],1)):(ye[ee]=os(Kt),ye[ee].c(),P(ye[ee],1),ye[ee].m(s,null))}for(pe(),ee=yt.length;ee<ye.length;ee+=1)xa(ee);me()}(!G||ge&2&&p!==(p=!X[1].getCanPreviousPage()))&&(c.disabled=p),(!G||ge&2)&&nn(c,"is-disabled",!X[1].getCanPreviousPage()),(!G||ge&2&&A!==(A=X[1].getState().pagination.pageIndex+1)&&b.value!==A)&&(b.value=A),(!G||ge&2&&R!==(R=X[1].getPageCount()-1))&&h(b,"max",R),(!G||ge&2)&&V!==(V=X[1].getPageCount()+"")&&ne(J,V),(!G||ge&2&&q!==(q=!X[1].getCanNextPage()))&&(re.disabled=q),(!G||ge&2)&&nn(re,"is-disabled",!X[1].getCanNextPage())},i(X){if(!G){for(let ge=0;ge<oe.length;ge+=1)P(le[ge]);for(let ge=0;ge<yt.length;ge+=1)P(ye[ge]);G=!0}},o(X){le=le.filter(Boolean);for(let ge=0;ge<le.length;ge+=1)O(le[ge]);ye=ye.filter(Boolean);for(let ge=0;ge<ye.length;ge+=1)O(ye[ge]);G=!1},d(X){X&&N(t),Ce(le,X),Ce(ye,X),he=!1,_e(Z)}}}function am(e){return e?e==="asc"?"🔼":"🔽":""}function um(e,t,n){let r,o,i=L,l=()=>(i(),i=mr(w,$=>n(1,o=$)),w);ie(e,gr,$=>n(8,r=$)),e.$$.on_destroy.push(()=>i());const a=($,M,S,k)=>{if(console.log("yessir"),Array.isArray(S))return S.length===0?!0:S.includes($.getValue(M));typeof S=="number"&&(S=String(S));const y=em($.getValue(M),S);return k({itemRank:y}),y.passed},s=xp(),u=[s.accessor("file",{header:"File",cell:$=>$.getValue(),footer:$=>$.column.id}),s.accessor("size",{header:"Size",cell:$=>to($.getValue()),footer:$=>$.column.id}),s.accessor("type",{header:"Type",cell:$=>$.getValue(),footer:$=>$.column.id})];let f="",c=Fe({data:r,columns:u,getCoreRowModel:Ll(),getSortedRowModel:Gl(),getFilteredRowModel:Hl(),globalFilterFn:a,getFacetedRowModel:ql(),getPaginationRowModel:Bl(),state:{globalFilter:f,pagination:{pageSize:7,pageIndex:0}},enableGlobalFilter:!0});function g($){n(6,f=$),c.update(M=>({...M,state:{...M.state,globalFilter:$}}))}function d($){c.update(M=>{var S;return{...M,state:{...M.state,pagination:{...(S=M.state)==null?void 0:S.pagination,pageIndex:$}}}})}let p;function m($){clearTimeout(p),p=setTimeout(()=>{const M=$.target;g(M.value)},100)}function _($){const M=$.target;d(parseInt(M.value)-1)}let w=Wl(c);l();let b=o.getHeaderGroups();const A=()=>d(o.getState().pagination.pageIndex-1),R=()=>d(o.getState().pagination.pageIndex+1);return e.$$.update=()=>{e.$$.dirty&448&&(n(7,c={data:r,columns:u,getCoreRowModel:Ll(),getSortedRowModel:Gl(),getFilteredRowModel:Hl(),globalFilterFn:a,getFacetedRowModel:ql(),getPaginationRowModel:Bl(),state:{globalFilter:f,pagination:{pageSize:7,pageIndex:0}},enableGlobalFilter:!0}),l(n(0,w=Wl(Fe(c)))))},[w,o,d,m,_,b,f,c,r,A,R]}class fm extends ue{constructor(t){super(),de(this,t,um,sm,ae,{})}}function is(e){let t,n;return{c(){t=C("p"),n=z(e[3])},m(r,o){T(r,t,o),v(t,n)},p(r,o){o&8&&ne(n,r[3])},d(r){r&&N(t)}}}function ls(e){let t;return{c(){t=C("p"),t.textContent="Data Successfully indexed!"},m(n,r){T(n,t,r)},d(n){n&&N(t)}}}function ss(e){let t,n;return t=new fm({}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function cm(e){let t,n,r,o,i,l,a,s,u,f,c,g,d,p,m,_,w,b,A,R,$,M,S,k=e[2]&&!e[1]&&is(e),y=e[1]&&ls();A=new rp({});let E=e[0]&&ss();return{c(){t=C("div"),n=C("div"),r=C("div"),o=C("div"),i=C("h4"),i.textContent="Upload Data",l=F(),a=C("br"),s=F(),u=C("form"),f=C("input"),c=F(),k&&k.c(),g=F(),y&&y.c(),d=F(),p=C("p"),p.textContent="These are the files your model will use as context.",m=F(),_=C("p"),_.innerHTML="Currently <strong>pdf</strong>, txt, and md are supported.",w=F(),b=C("div"),te(A.$$.fragment),R=F(),E&&E.c(),h(f,"type","file"),f.multiple=!0,h(o,"class","upload-box svelte-1lu6hos"),h(r,"class","upload-container svelte-1lu6hos"),h(n,"class","file-container svelte-1lu6hos"),h(b,"class","charts-container svelte-1lu6hos"),h(t,"class","data-grid svelte-1lu6hos")},m(D,I){T(D,t,I),v(t,n),v(n,r),v(r,o),v(o,i),v(o,l),v(o,a),v(o,s),v(o,u),v(u,f),v(o,c),k&&k.m(o,null),v(o,g),y&&y.m(o,null),v(o,d),v(o,p),v(o,m),v(o,_),v(t,w),v(t,b),Q(A,b,null),v(b,R),E&&E.m(b,null),$=!0,M||(S=H(f,"change",e[4]),M=!0)},p(D,[I]){D[2]&&!D[1]?k?k.p(D,I):(k=is(D),k.c(),k.m(o,g)):k&&(k.d(1),k=null),D[1]?y||(y=ls(),y.c(),y.m(o,d)):y&&(y.d(1),y=null),D[0]?E?I&1&&P(E,1):(E=ss(),E.c(),P(E,1),E.m(b,null)):E&&(pe(),O(E,1,1,()=>{E=null}),me())},i(D){$||(P(A.$$.fragment,D),P(E),$=!0)},o(D){O(A.$$.fragment,D),O(E),$=!1},d(D){D&&N(t),k&&k.d(),y&&y.d(),K(A),E&&E.d(),M=!1,S()}}}function dm(e,t,n){let r,o,i;ie(e,Nl,p=>n(6,o=p)),ie(e,gr,p=>n(7,i=p));let l=[],a=!1,s=!1;async function u(p){n(0,l=p.target.files);const m=new FormData;for(let _=0;_<l.length;_++)m.append("files",l[_]);await fetch("/retrieval/file/upload",{method:"POST",body:m}),c(),f(),g()}async function f(){const _=(await(await fetch("/retrieval/file/get")).json()).files.map(w=>({file:w.name,size:w.size,type:w.type}));He(gr,i=[..._],i)}async function c(){console.log("index!"),n(2,s=!0),await(await fetch("/retrieval/vector_db/index",{method:"POST"})).json(),n(1,a=!0),n(2,s=!1)}async function g(){console.log("getting embeddings...");const m=await(await fetch("/retrieval/vector_db/get")).json();console.log("embeddingData",m),He(Nl,o=m,o)}dt(()=>{f()});let d=0;return setInterval(()=>{n(5,d=(d+1)%4)},200),e.$$.update=()=>{e.$$.dirty&32&&n(3,r="Indexing"+".".repeat(d))},[l,a,s,r,u,d]}class gm extends ue{constructor(t){super(),de(this,t,dm,cm,ae,{})}}function hm(e){let t,n,r,o,i,l,a,s,u,f,c,g,d,p,m,_,w,b,A,R,$,M,S,k,y,E,D;return i=new ra({}),s=new oa({}),c=new Js({}),p=new ea({props:{feedback:"Bad"}}),w=new na({}),R=new ta({}),E=new Zs({}),{c(){t=C("div"),n=C("div"),r=C("div"),o=C("div"),te(i.$$.fragment),l=F(),a=C("div"),te(s.$$.fragment),u=F(),f=C("div"),te(c.$$.fragment),g=F(),d=C("div"),te(p.$$.fragment),m=F(),_=C("div"),te(w.$$.fragment),b=F(),A=C("div"),te(R.$$.fragment),$=F(),M=C("div"),S=C("div"),S.innerHTML=`<div class="right-chart-1 svelte-14znspc"></div> 
      <div class="right-chart-2 svelte-14znspc"></div>`,k=F(),y=C("div"),te(E.$$.fragment),h(o,"class","card-1 svelte-14znspc"),h(a,"class","card-2"),h(r,"class","left-text svelte-14znspc"),h(f,"class","left-confidence svelte-14znspc"),h(d,"class","left-question svelte-14znspc"),h(_,"class","left-filter svelte-14znspc"),h(A,"class","left-filter2"),h(n,"class","feedback-left svelte-14znspc"),h(S,"class","right-chart svelte-14znspc"),h(y,"class","right-table svelte-14znspc"),h(M,"class","feedback-right svelte-14znspc"),h(t,"class","feedback-container svelte-14znspc")},m(I,V){T(I,t,V),v(t,n),v(n,r),v(r,o),Q(i,o,null),v(r,l),v(r,a),Q(s,a,null),v(n,u),v(n,f),Q(c,f,null),v(n,g),v(n,d),Q(p,d,null),v(n,m),v(n,_),Q(w,_,null),v(n,b),v(n,A),Q(R,A,null),v(t,$),v(t,M),v(M,S),v(M,k),v(M,y),Q(E,y,null),D=!0},p:L,i(I){D||(P(i.$$.fragment,I),P(s.$$.fragment,I),P(c.$$.fragment,I),P(p.$$.fragment,I),P(w.$$.fragment,I),P(R.$$.fragment,I),P(E.$$.fragment,I),D=!0)},o(I){O(i.$$.fragment,I),O(s.$$.fragment,I),O(c.$$.fragment,I),O(p.$$.fragment,I),O(w.$$.fragment,I),O(R.$$.fragment,I),O(E.$$.fragment,I),D=!1},d(I){I&&N(t),K(i),K(s),K(c),K(p),K(w),K(R),K(E)}}}function pm(e,t,n){let r;ie(e,_n,i=>n(0,r=i)),dt(()=>{console.log("FEEDBACK on mount"),o()});async function o(){const s=(await(await fetch("/chat/rag_table/retrieve")).json()).rows.map(u=>({id:u[0],question:u[1],answer:u[2],vote_status:u[4]}));He(_n,r=[...s],r)}return[]}class mm extends ue{constructor(t){super(),de(this,t,pm,hm,ae,{})}}function _m(e){let t,n;return t=new ia({}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function vm(e){let t,n;return t=new mm({}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function bm(e){let t,n;return t=new ia({}),{c(){te(t.$$.fragment)},m(r,o){Q(t,r,o),n=!0},i(r){n||(P(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){K(t,r)}}}function wm(e){let t,n,r,o;const i=[bm,vm,_m],l=[];function a(s,u){return s[0]==="vote"?0:s[0]==="rag"?1:2}return t=a(e),n=l[t]=i[t](e),{c(){n.c(),r=Ee()},m(s,u){l[t].m(s,u),T(s,r,u),o=!0},p(s,[u]){let f=t;t=a(s),t!==f&&(pe(),O(l[f],1,1,()=>{l[f]=null}),me(),n=l[t],n||(n=l[t]=i[t](s),n.c()),P(n,1),n.m(r.parentNode,r))},i(s){o||(P(n),o=!0)},o(s){O(n),o=!1},d(s){l[t].d(s),s&&N(r)}}}function ym(e,t,n){let{feedback:r}=t;return e.$$set=o=>{"feedback"in o&&n(0,r=o.feedback)},[r]}class Sm extends ue{constructor(t){super(),de(this,t,ym,wm,ae,{feedback:0})}}function as(e,t,n){const r=e.slice();return r[7]=t[n],r}function us(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=fs(as(e,n,o));return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=Ee()},m(o,i){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,i);T(o,t,i)},p(o,i){if(i&33){n=o[0];let l;for(l=0;l<n.length;l+=1){const a=as(o,n,l);r[l]?r[l].p(a,i):(r[l]=fs(a),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(o){Ce(r,o),o&&N(t)}}}function fs(e){let t,n=e[7].svelte_component+"",r,o,i,l;function a(){return e[6](e[7])}return{c(){t=C("button"),r=z(n),h(t,"aria-label",o=`Load ${e[7].svelte_component} component`)},m(s,u){T(s,t,u),v(t,r),i||(l=H(t,"click",a),i=!0)},p(s,u){e=s,u&1&&n!==(n=e[7].svelte_component+"")&&ne(r,n),u&1&&o!==(o=`Load ${e[7].svelte_component} component`)&&h(t,"aria-label",o)},d(s){s&&N(t),i=!1,l()}}}function cs(e){let t,n,r;const o=[e[1].props];var i=e[4][e[1].svelte_component];function l(a){let s={};for(let u=0;u<o.length;u+=1)s=pn(s,o[u]);return{props:s}}return i&&(t=bt(i,l())),{c(){t&&te(t.$$.fragment),n=Ee()},m(a,s){t&&Q(t,a,s),T(a,n,s),r=!0},p(a,s){const u=s&2?Cs(o,[ks(a[1].props)]):{};if(s&2&&i!==(i=a[4][a[1].svelte_component])){if(t){pe();const f=t;O(f.$$.fragment,1,0,()=>{K(f,1)}),me()}i?(t=bt(i,l()),te(t.$$.fragment),P(t.$$.fragment,1),Q(t,n.parentNode,n)):t=null}else i&&t.$set(u)},i(a){r||(t&&P(t.$$.fragment,a),r=!0)},o(a){t&&O(t.$$.fragment,a),r=!1},d(a){a&&N(n),t&&K(t,a)}}}function Cm(e){let t,n,r,o=e[0].length>1&&us(e),i=e[1]&&cs(e);return{c(){o&&o.c(),t=F(),i&&i.c(),n=Ee()},m(l,a){o&&o.m(l,a),T(l,t,a),i&&i.m(l,a),T(l,n,a),r=!0},p(l,[a]){l[0].length>1?o?o.p(l,a):(o=us(l),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),l[1]?i?(i.p(l,a),a&2&&P(i,1)):(i=cs(l),i.c(),P(i,1),i.m(n.parentNode,n)):i&&(pe(),O(i,1,1,()=>{i=null}),me())},i(l){r||(P(i),r=!0)},o(l){O(i),r=!1},d(l){o&&o.d(l),l&&N(t),i&&i.d(l),l&&N(n)}}}function km(e,t,n){let r,o;const i=Fe([]);ie(e,i,f=>n(0,r=f));const l=Fe(null);ie(e,l,f=>n(1,o=f));const a={Chatbot:rd,Dropdown:ld,Feedback:Sm,Compare:wh,RetrievalQA:gm},s=f=>{l.set(f)};return fetch("/components").then(f=>{if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);return f.json()}).then(f=>{i.set(f),l.set(f[0])}).catch(f=>{console.log("Fetch request failed",f)}),[r,o,i,l,a,s,f=>s(f)]}class $m extends ue{constructor(t){super(),de(this,t,km,Cm,ae,{})}}new $m({target:document.getElementById("app")});
