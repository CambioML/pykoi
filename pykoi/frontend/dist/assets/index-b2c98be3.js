(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function U(){}const gs=e=>e;function mn(e,t){for(const n in t)e[n]=t[n];return e}function hs(e){return e()}function Xo(){return Object.create(null)}function be(e){e.forEach(hs)}function He(e){return typeof e=="function"}function ce(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Va(e){return Object.keys(e).length===0}function vo(e,...t){if(e==null)return U;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function za(e){let t;return vo(e,n=>t=n)(),t}function ae(e,t,n){e.$$.on_destroy.push(vo(t,n))}function Vr(e,t,n,o){if(e){const r=ps(e,t,n,o);return e[0](r)}}function ps(e,t,n,o){return e[1]&&o?mn(n.ctx.slice(),e[1](o(t))):n.ctx}function zr(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],l=Math.max(t.dirty.length,r.length);for(let a=0;a<l;a+=1)i[a]=t.dirty[a]|r[a];return i}return t.dirty|r}return t.dirty}function Lr(e,t,n,o,r,i){if(r){const l=ps(t,n,o,i);e.p(l,r)}}function Hr(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let o=0;o<n;o++)t[o]=-1;return t}return-1}function qr(e){return e??""}function Oe(e,t,n){return e.set(n),t}function _n(e){return e&&He(e.destroy)?e.destroy:U}const ms=typeof window<"u";let _s=ms?()=>window.performance.now():()=>Date.now(),br=ms?e=>requestAnimationFrame(e):U;const Lt=new Set;function vs(e){Lt.forEach(t=>{t.c(e)||(Lt.delete(t),t.f())}),Lt.size!==0&&br(vs)}function bs(e){let t;return Lt.size===0&&br(vs),{promise:new Promise(n=>{Lt.add(t={c:e,f:n})}),abort(){Lt.delete(t)}}}let bo=!1;function La(){bo=!0}function Ha(){bo=!1}function qa(e,t,n,o){for(;e<t;){const r=e+(t-e>>1);n(r)<=o?e=r+1:t=r}return e}function Ga(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const s=[];for(let u=0;u<t.length;u++){const f=t[u];f.claim_order!==void 0&&s.push(f)}t=s}const n=new Int32Array(t.length+1),o=new Int32Array(t.length);n[0]=-1;let r=0;for(let s=0;s<t.length;s++){const u=t[s].claim_order,f=(r>0&&t[n[r]].claim_order<=u?r+1:qa(1,r,g=>t[n[g]].claim_order,u))-1;o[s]=n[f]+1;const c=f+1;n[c]=s,r=Math.max(c,r)}const i=[],l=[];let a=t.length-1;for(let s=n[r]+1;s!=0;s=o[s-1]){for(i.push(t[s-1]);a>=s;a--)l.push(t[a]);a--}for(;a>=0;a--)l.push(t[a]);i.reverse(),l.sort((s,u)=>s.claim_order-u.claim_order);for(let s=0,u=0;s<l.length;s++){for(;u<i.length&&l[s].claim_order>=i[u].claim_order;)u++;const f=u<i.length?i[u]:null;e.insertBefore(l[s],f)}}function v(e,t){e.appendChild(t)}function ws(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ba(e){const t=S("style");return ja(ws(e),t),t.sheet}function ja(e,t){return v(e.head||e,t),t.sheet}function Ua(e,t){if(bo){for(Ga(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentNode!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function Wa(e,t,n){bo&&!n?Ua(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function ke(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function K(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function z(e){return document.createTextNode(e)}function D(){return z(" ")}function Ee(){return z("")}function j(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Xa(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Ya(e){return function(t){t.target===this&&e.call(this,t)}}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Qa(e){return Array.from(e.childNodes)}function Ka(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function Ja(e,t,n,o,r=!1){Ka(e);const i=(()=>{for(let l=e.claim_info.last_index;l<e.length;l++){const a=e[l];if(t(a)){const s=n(a);return s===void 0?e.splice(l,1):e[l]=s,r||(e.claim_info.last_index=l),a}}for(let l=e.claim_info.last_index-1;l>=0;l--){const a=e[l];if(t(a)){const s=n(a);return s===void 0?e.splice(l,1):e[l]=s,r?s===void 0&&e.claim_info.last_index--:e.claim_info.last_index=l,a}}return o()})();return i.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,i}function Za(e,t){return Ja(e,n=>n.nodeType===3,n=>{const o=""+t;if(n.data.startsWith(o)){if(n.data.length!==o.length)return n.splitText(o.length)}else n.data=o},()=>z(t),!0)}function ie(e,t){t=""+t,e.data!==t&&(e.data=t)}function We(e,t){e.value=t??""}function Ie(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Qn(e,t,n){for(let o=0;o<e.options.length;o+=1){const r=e.options[o];if(r.__value===t){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function ys(e){const t=e.querySelector(":checked");return t&&t.__value}let Fn;function eu(){if(Fn===void 0){Fn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Fn=!0}}return Fn}function Ft(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const o=S("iframe");o.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;const r=eu();let i;return r?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=j(window,"message",l=>{l.source===o.contentWindow&&t()})):(o.src="about:blank",o.onload=()=>{i=j(o.contentWindow,"resize",t),t()}),v(e,o),()=>{(r||i&&o.contentWindow)&&i(),N(o)}}function on(e,t,n){e.classList[n?"add":"remove"](t)}function tu(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,o,t),r}function bt(e,t){return new e(t)}const Kn=new Map;let Jn=0;function nu(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function ou(e,t){const n={stylesheet:Ba(t),rules:{}};return Kn.set(e,n),n}function Gr(e,t,n,o,r,i,l,a=0){const s=16.666/o;let u=`{
`;for(let _=0;_<=1;_+=s){const w=t+(n-t)*i(_);u+=_*100+`%{${l(w,1-w)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${nu(f)}_${a}`,g=ws(e),{stylesheet:d,rules:p}=Kn.get(g)||ou(g,e);p[c]||(p[c]=!0,d.insertRule(`@keyframes ${c} ${f}`,d.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${c} ${o}ms linear ${r}ms 1 both`,Jn+=1,c}function ru(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),r=n.length-o.length;r&&(e.style.animation=o.join(", "),Jn-=r,Jn||iu())}function iu(){br(()=>{Jn||(Kn.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&N(t)}),Kn.clear())})}let jt;function At(e){jt=e}function lu(){if(!jt)throw new Error("Function called outside component initialization");return jt}function dt(e){lu().$$.on_mount.push(e)}function su(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(o=>o.call(this,t))}const Tt=[],Ze=[];let Ht=[];const Yo=[],au=Promise.resolve();let Qo=!1;function uu(){Qo||(Qo=!0,au.then(Ss))}function Re(e){Ht.push(e)}function vn(e){Yo.push(e)}const $o=new Set;let It=0;function Ss(){if(It!==0)return;const e=jt;do{try{for(;It<Tt.length;){const t=Tt[It];It++,At(t),fu(t.$$)}}catch(t){throw Tt.length=0,It=0,t}for(At(null),Tt.length=0,It=0;Ze.length;)Ze.pop()();for(let t=0;t<Ht.length;t+=1){const n=Ht[t];$o.has(n)||($o.add(n),n())}Ht.length=0}while(Tt.length);for(;Yo.length;)Yo.pop()();Qo=!1,$o.clear(),At(e)}function fu(e){if(e.fragment!==null){e.update(),be(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Re)}}function cu(e){const t=[],n=[];Ht.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),Ht=t}let Jt;function du(){return Jt||(Jt=Promise.resolve(),Jt.then(()=>{Jt=null})),Jt}function Ao(e,t,n){e.dispatchEvent(tu(`${t?"intro":"outro"}${n}`))}const Gn=new Set;let at;function _e(){at={r:0,c:[],p:at}}function ve(){at.r||be(at.c),at=at.p}function P(e,t){e&&e.i&&(Gn.delete(e),e.i(t))}function T(e,t,n,o){if(e&&e.o){if(Gn.has(e))return;Gn.add(e),at.c.push(()=>{Gn.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}const gu={duration:0};function tt(e,t,n,o){const r={direction:"both"};let i=t(e,n,r),l=o?0:1,a=null,s=null,u=null;function f(){u&&ru(e,u)}function c(d,p){const m=d.b-l;return p*=Math.abs(m),{a:l,b:d.b,d:m,duration:p,start:d.start,end:d.start+p,group:d.group}}function g(d){const{delay:p=0,duration:m=300,easing:_=gs,tick:w=U,css:b}=i||gu,k={start:_s()+p,b:d};d||(k.group=at,at.r+=1),a||s?s=k:(b&&(f(),u=Gr(e,l,d,m,p,_,b)),d&&w(0,1),a=c(k,m),Re(()=>Ao(e,d,"start")),bs(A=>{if(s&&A>s.start&&(a=c(s,m),s=null,Ao(e,a.b,"start"),b&&(f(),u=Gr(e,l,a.b,a.duration,0,_,i.css))),a){if(A>=a.end)w(l=a.b,1-l),Ao(e,a.b,"end"),s||(a.b?f():--a.group.r||be(a.group.c)),a=null;else if(A>=a.start){const R=A-a.start;l=a.a+a.d*_(R/a.duration),w(l,1-l)}}return!!(a||s)}))}return{run(d){He(i)?du().then(()=>{i=i(r),g(d)}):g(d)},end(){f(),a=s=null}}}function wo(e,t){e.d(1),t.delete(e.key)}function Cs(e,t){T(e,1,1,()=>{t.delete(e.key)})}function Qt(e,t,n,o,r,i,l,a,s,u,f,c){let g=e.length,d=i.length,p=g;const m={};for(;p--;)m[e[p].key]=p;const _=[],w=new Map,b=new Map,k=[];for(p=d;p--;){const C=c(r,i,p),$=n(C);let y=l.get($);y?o&&k.push(()=>y.p(C,t)):(y=u($,C),y.c()),w.set($,_[p]=y),$ in m&&b.set($,Math.abs(p-m[$]))}const A=new Set,R=new Set;function E(C){P(C,1),C.m(a,f),l.set(C.key,C),f=C.first,d--}for(;g&&d;){const C=_[d-1],$=e[g-1],y=C.key,M=$.key;C===$?(f=C.first,g--,d--):w.has(M)?!l.has(y)||A.has(y)?E(C):R.has(M)?g--:b.get(y)>b.get(M)?(R.add(y),E(C)):(A.add(M),g--):(s($,l),g--)}for(;g--;){const C=e[g];w.has(C.key)||s(C,l)}for(;d;)E(_[d-1]);return be(k),_}function ks(e,t){const n={},o={},r={$$scope:1};let i=e.length;for(;i--;){const l=e[i],a=t[i];if(a){for(const s in l)s in a||(o[s]=1);for(const s in a)r[s]||(n[s]=a[s],r[s]=1);e[i]=a}else for(const s in l)r[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function $s(e){return typeof e=="object"&&e!==null?e:{}}const hu=/[&"]/g,pu=/[&<]/g;function mu(e,t=!1){const n=String(e),o=t?hu:pu;o.lastIndex=0;let r="",i=0;for(;o.test(n);){const l=o.lastIndex-1,a=n[l];r+=n.substring(i,l)+(a==="&"?"&amp;":a==='"'?"&quot;":"&lt;"),i=l+1}return r+n.substring(i)}function _u(e,t){if(!e||!e.$$render)throw t==="svelte:component"&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${t}>.`);return e}let Ro;function As(e){function t(n,o,r,i,l){const a=jt,s={on_destroy:Ro,context:new Map(l||(a?a.$$.context:[])),on_mount:[],before_update:[],after_update:[],callbacks:Xo()};At({$$:s});const u=e(n,o,r,i);return At(a),u}return{render:(n={},{$$slots:o={},context:r=new Map}={})=>{Ro=[];const i={title:"",head:"",css:new Set},l=t(i,n,{},o,r);return be(Ro),{html:l,css:{code:Array.from(i.css).map(a=>a.code).join(`
`),map:null},head:i.title+i.head}},$$render:t}}function bn(e,t,n){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ne(e){e&&e.c()}function vu(e,t){e&&e.l(t)}function Z(e,t,n,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||Re(()=>{const l=e.$$.on_mount.map(hs).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...l):be(l),e.$$.on_mount=[]}),i.forEach(Re)}function ee(e,t){const n=e.$$;n.fragment!==null&&(cu(n.after_update),be(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function bu(e,t){e.$$.dirty[0]===-1&&(Tt.push(e),uu(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pe(e,t,n,o,r,i,l,a=[-1]){const s=jt;At(e);const u=e.$$={fragment:null,ctx:[],props:i,update:U,not_equal:r,bound:Xo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Xo(),dirty:a,skip_bound:!1,root:t.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(c,g,...d)=>{const p=d.length?d[0]:g;return u.ctx&&r(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&bu(e,c)),g}):[],u.update(),f=!0,be(u.before_update),u.fragment=o?o(u.ctx):!1,t.target){if(t.hydrate){La();const c=Qa(t.target);u.fragment&&u.fragment.l(c),c.forEach(N)}else u.fragment&&u.fragment.c();t.intro&&P(e.$$.fragment),Z(e,t.target,t.anchor,t.customElement),Ha(),Ss()}At(s)}class de{$destroy(){ee(this,1),this.$destroy=U}$on(t,n){if(!He(n))return U;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!Va(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Nt=[];function Ko(e,t){return{subscribe:Fe(e,t).subscribe}}function Fe(e,t=U){let n;const o=new Set;function r(a){if(ce(e,a)&&(e=a,n)){const s=!Nt.length;for(const u of o)u[1](),Nt.push(u,e);if(s){for(let u=0;u<Nt.length;u+=2)Nt[u][0](Nt[u+1]);Nt.length=0}}}function i(a){r(a(e))}function l(a,s=U){const u=[a,s];return o.add(u),o.size===1&&(n=t(r)||U),a(e),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:l}}function wu(e,t,n){const o=!Array.isArray(e),r=o?[e]:e,i=t.length<2;return Ko(n,l=>{let a=!1;const s=[];let u=0,f=U;const c=()=>{if(u)return;f();const d=t(o?s[0]:s,l);i?l(d):f=He(d)?d:U},g=r.map((d,p)=>vo(d,m=>{s[p]=m,u&=~(1<<p),a&&c()},()=>{u|=1<<p}));return a=!0,c(),function(){be(g),f(),a=!1}})}function wr(e){const t=e-1;return t*t*t+1}function Br(e){return Object.prototype.toString.call(e)==="[object Date]"}function Jo(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const o=t.map((r,i)=>Jo(e[i],r));return r=>o.map(i=>i(r))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Br(e)&&Br(t)){e=e.getTime(),t=t.getTime();const i=t-e;return l=>new Date(e+l*i)}const o=Object.keys(t),r={};return o.forEach(i=>{r[i]=Jo(e[i],t[i])}),i=>{const l={};return o.forEach(a=>{l[a]=r[a](i)}),l}}if(n==="number"){const o=t-e;return r=>e+r*o}throw new Error(`Cannot interpolate ${n} values`)}function yr(e,t={}){const n=Fe(e);let o,r=e;function i(l,a){if(e==null)return n.set(e=l),Promise.resolve();r=l;let s=o,u=!1,{delay:f=0,duration:c=400,easing:g=gs,interpolate:d=Jo}=mn(mn({},t),a);if(c===0)return s&&(s.abort(),s=null),n.set(e=r),Promise.resolve();const p=_s()+f;let m;return o=bs(_=>{if(_<p)return!0;u||(m=d(e,l),typeof c=="function"&&(c=c(e,l)),u=!0),s&&(s.abort(),s=null);const w=_-p;return w>c?(n.set(e=l),!1):(n.set(e=m(g(w/c))),!0)}),o.promise}return{set:i,update:(l,a)=>i(l(r,e),a),subscribe:n.subscribe}}const ze=Fe([]),Mo=Fe([]),Zt=Fe([]),wn=Fe([]),it=Fe("all"),jr=Fe({"n/a":1,up:1,down:1}),yu=["who","what","how","why","where","does","can","n/a"],Zo=yr(yu.map(e=>({question:e,count:0}))),er=Fe(new Set);var tr="http://www.w3.org/1999/xhtml";const Ur={svg:"http://www.w3.org/2000/svg",xhtml:tr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ur.hasOwnProperty(t)?{space:Ur[t],local:e}:e}function Su(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tr&&t.documentElement.namespaceURI===tr?t.createElement(e):t.createElementNS(n,e)}}function Cu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ms(e){var t=Rs(e);return(t.local?Cu:Su)(t)}function ku(){}function Es(e){return e==null?ku:function(){return this.querySelector(e)}}function $u(e){typeof e!="function"&&(e=Es(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],l=i.length,a=o[r]=new Array(l),s,u,f=0;f<l;++f)(s=i[f])&&(u=e.call(s,s.__data__,f,i))&&("__data__"in s&&(u.__data__=s.__data__),a[f]=u);return new qe(o,this._parents)}function Fs(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Au(){return[]}function Ru(e){return e==null?Au:function(){return this.querySelectorAll(e)}}function Mu(e){return function(){return Fs(e.apply(this,arguments))}}function Eu(e){typeof e=="function"?e=Mu(e):e=Ru(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var l=t[i],a=l.length,s,u=0;u<a;++u)(s=l[u])&&(o.push(e.call(s,s.__data__,u,l)),r.push(s));return new qe(o,r)}function Fu(e){return function(){return this.matches(e)}}function Ds(e){return function(t){return t.matches(e)}}var Du=Array.prototype.find;function Iu(e){return function(){return Du.call(this.children,e)}}function Nu(){return this.firstElementChild}function Pu(e){return this.select(e==null?Nu:Iu(typeof e=="function"?e:Ds(e)))}var Ou=Array.prototype.filter;function Tu(){return Array.from(this.children)}function xu(e){return function(){return Ou.call(this.children,e)}}function Vu(e){return this.selectAll(e==null?Tu:xu(typeof e=="function"?e:Ds(e)))}function zu(e){typeof e!="function"&&(e=Fu(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],l=i.length,a=o[r]=[],s,u=0;u<l;++u)(s=i[u])&&e.call(s,s.__data__,u,i)&&a.push(s);return new qe(o,this._parents)}function Is(e){return new Array(e.length)}function Lu(){return new qe(this._enter||this._groups.map(Is),this._parents)}function Zn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zn.prototype={constructor:Zn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Hu(e){return function(){return e}}function qu(e,t,n,o,r,i){for(var l=0,a,s=t.length,u=i.length;l<u;++l)(a=t[l])?(a.__data__=i[l],o[l]=a):n[l]=new Zn(e,i[l]);for(;l<s;++l)(a=t[l])&&(r[l]=a)}function Gu(e,t,n,o,r,i,l){var a,s,u=new Map,f=t.length,c=i.length,g=new Array(f),d;for(a=0;a<f;++a)(s=t[a])&&(g[a]=d=l.call(s,s.__data__,a,t)+"",u.has(d)?r[a]=s:u.set(d,s));for(a=0;a<c;++a)d=l.call(e,i[a],a,i)+"",(s=u.get(d))?(o[a]=s,s.__data__=i[a],u.delete(d)):n[a]=new Zn(e,i[a]);for(a=0;a<f;++a)(s=t[a])&&u.get(g[a])===s&&(r[a]=s)}function Bu(e){return e.__data__}function ju(e,t){if(!arguments.length)return Array.from(this,Bu);var n=t?Gu:qu,o=this._parents,r=this._groups;typeof e!="function"&&(e=Hu(e));for(var i=r.length,l=new Array(i),a=new Array(i),s=new Array(i),u=0;u<i;++u){var f=o[u],c=r[u],g=c.length,d=Uu(e.call(f,f&&f.__data__,u,o)),p=d.length,m=a[u]=new Array(p),_=l[u]=new Array(p),w=s[u]=new Array(g);n(f,c,m,_,w,d,t);for(var b=0,k=0,A,R;b<p;++b)if(A=m[b]){for(b>=k&&(k=b+1);!(R=_[k])&&++k<p;);A._next=R||null}}return l=new qe(l,o),l._enter=a,l._exit=s,l}function Uu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Wu(){return new qe(this._exit||this._groups.map(Is),this._parents)}function Xu(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function Yu(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,l=Math.min(r,i),a=new Array(r),s=0;s<l;++s)for(var u=n[s],f=o[s],c=u.length,g=a[s]=new Array(c),d,p=0;p<c;++p)(d=u[p]||f[p])&&(g[p]=d);for(;s<r;++s)a[s]=n[s];return new qe(a,this._parents)}function Qu(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],l;--r>=0;)(l=o[r])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function Ku(e){e||(e=Ju);function t(c,g){return c&&g?e(c.__data__,g.__data__):!c-!g}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var l=n[i],a=l.length,s=r[i]=new Array(a),u,f=0;f<a;++f)(u=l[f])&&(s[f]=u);s.sort(t)}return new qe(r,this._parents).order()}function Ju(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Zu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ef(){return Array.from(this)}function tf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var l=o[r];if(l)return l}return null}function nf(){let e=0;for(const t of this)++e;return e}function of(){return!this.node()}function rf(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,l=r.length,a;i<l;++i)(a=r[i])&&e.call(a,a.__data__,i,r);return this}function lf(e){return function(){this.removeAttribute(e)}}function sf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function af(e,t){return function(){this.setAttribute(e,t)}}function uf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ff(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function cf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function df(e,t){var n=Rs(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?sf:lf:typeof t=="function"?n.local?cf:ff:n.local?uf:af)(n,t))}function Ns(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gf(e){return function(){this.style.removeProperty(e)}}function hf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pf(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function mf(e,t,n){return arguments.length>1?this.each((t==null?gf:typeof t=="function"?pf:hf)(e,t,n??"")):_f(this.node(),e)}function _f(e,t){return e.style.getPropertyValue(t)||Ns(e).getComputedStyle(e,null).getPropertyValue(t)}function vf(e){return function(){delete this[e]}}function bf(e,t){return function(){this[e]=t}}function wf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function yf(e,t){return arguments.length>1?this.each((t==null?vf:typeof t=="function"?wf:bf)(e,t)):this.node()[e]}function Ps(e){return e.trim().split(/^|\s+/)}function Sr(e){return e.classList||new Os(e)}function Os(e){this._node=e,this._names=Ps(e.getAttribute("class")||"")}Os.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ts(e,t){for(var n=Sr(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function xs(e,t){for(var n=Sr(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Sf(e){return function(){Ts(this,e)}}function Cf(e){return function(){xs(this,e)}}function kf(e,t){return function(){(t.apply(this,arguments)?Ts:xs)(this,e)}}function $f(e,t){var n=Ps(e+"");if(arguments.length<2){for(var o=Sr(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?kf:t?Sf:Cf)(n,t))}function Af(){this.textContent=""}function Rf(e){return function(){this.textContent=e}}function Mf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ef(e){return arguments.length?this.each(e==null?Af:(typeof e=="function"?Mf:Rf)(e)):this.node().textContent}function Ff(){this.innerHTML=""}function Df(e){return function(){this.innerHTML=e}}function If(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Nf(e){return arguments.length?this.each(e==null?Ff:(typeof e=="function"?If:Df)(e)):this.node().innerHTML}function Pf(){this.nextSibling&&this.parentNode.appendChild(this)}function Of(){return this.each(Pf)}function Tf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xf(){return this.each(Tf)}function Vf(e){var t=typeof e=="function"?e:Ms(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function zf(){return null}function Lf(e,t){var n=typeof e=="function"?e:Ms(e),o=t==null?zf:typeof t=="function"?t:Es(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Hf(){var e=this.parentNode;e&&e.removeChild(this)}function qf(){return this.each(Hf)}function Gf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jf(e){return this.select(e?Bf:Gf)}function Uf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Wf(e){return function(t){e.call(this,t,this.__data__)}}function Xf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Yf(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function Qf(e,t,n){return function(){var o=this.__on,r,i=Wf(t);if(o){for(var l=0,a=o.length;l<a;++l)if((r=o[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Kf(e,t,n){var o=Xf(e+""),r,i=o.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,f;s<u;++s)for(r=0,f=a[s];r<i;++r)if((l=o[r]).type===f.type&&l.name===f.name)return f.value}return}for(a=t?Qf:Yf,r=0;r<i;++r)this.each(a(o[r],t,n));return this}function Vs(e,t,n){var o=Ns(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Jf(e,t){return function(){return Vs(this,e,t)}}function Zf(e,t){return function(){return Vs(this,e,t.apply(this,arguments))}}function ec(e,t){return this.each((typeof t=="function"?Zf:Jf)(e,t))}function*tc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,l;r<i;++r)(l=o[r])&&(yield l)}var zs=[null];function qe(e,t){this._groups=e,this._parents=t}function nc(){return this}qe.prototype={constructor:qe,select:$u,selectAll:Eu,selectChild:Pu,selectChildren:Vu,filter:zu,data:ju,enter:Lu,exit:Wu,join:Xu,merge:Yu,selection:nc,order:Qu,sort:Ku,call:Zu,nodes:ef,node:tf,size:nf,empty:of,each:rf,attr:df,style:mf,property:yf,classed:$f,text:Ef,html:Nf,raise:Of,lower:xf,append:Vf,insert:Lf,remove:qf,clone:jf,datum:Uf,on:Kf,dispatch:ec,[Symbol.iterator]:tc};function ft(e){return typeof e=="string"?new qe([[document.querySelector(e)]],[document.documentElement]):new qe([[e]],zs)}function Eo(e){return typeof e=="string"?new qe([document.querySelectorAll(e)],[document.documentElement]):new qe([Fs(e)],zs)}const oc=e=>({}),Wr=e=>({});function rc(e){let t,n,o,r,i,l,a,s,u;const f=e[4].header,c=Vr(f,e,e[3],Wr),g=e[4].default,d=Vr(g,e,e[3],null);return{c(){t=S("dialog"),n=S("div"),o=S("div"),r=S("button"),r.textContent="X",i=D(),c&&c.c(),l=D(),d&&d.c(),h(r,"class","close-button svelte-g384pz"),h(o,"class","btn-container svelte-g384pz"),h(n,"class","svelte-g384pz"),h(t,"class","svelte-g384pz")},m(p,m){O(p,t,m),v(t,n),v(n,o),v(o,r),v(n,i),c&&c.m(n,null),v(n,l),d&&d.m(n,null),e[6](t),a=!0,s||(u=[j(r,"click",function(){He(e[1])&&e[1].apply(this,arguments)}),j(n,"click",Xa(e[5])),j(t,"close",function(){He(e[1])&&e[1].apply(this,arguments)}),j(t,"click",Ya(function(){He(e[1])&&e[1].apply(this,arguments)}))],s=!0)},p(p,[m]){e=p,c&&c.p&&(!a||m&8)&&Lr(c,f,e,e[3],a?zr(f,e[3],m,oc):Hr(e[3]),Wr),d&&d.p&&(!a||m&8)&&Lr(d,g,e,e[3],a?zr(g,e[3],m,null):Hr(e[3]),null)},i(p){a||(P(c,p),P(d,p),a=!0)},o(p){T(c,p),T(d,p),a=!1},d(p){p&&N(t),c&&c.d(p),d&&d.d(p),e[6](null),s=!1,be(u)}}}function ic(e,t,n){let{$$slots:o={},$$scope:r}=t,{showModal:i}=t,{dialog:l}=t,{handleClose:a}=t;function s(f){su.call(this,e,f)}function u(f){Ze[f?"unshift":"push"](()=>{l=f,n(0,l)})}return e.$$set=f=>{"showModal"in f&&n(2,i=f.showModal),"dialog"in f&&n(0,l=f.dialog),"handleClose"in f&&n(1,a=f.handleClose),"$$scope"in f&&n(3,r=f.$$scope)},e.$$.update=()=>{e.$$.dirty&5&&l&&i&&l.showModal()},[l,a,i,r,o,s,u]}class lc extends de{constructor(t){super(),pe(this,t,ic,rc,ce,{showModal:2,dialog:0,handleClose:1})}}function Xr(e){let t,n,o,r,i,l,a,s,u;return{c(){t=S("form"),n=S("div"),o=S("label"),o.textContent="Filename",r=D(),i=S("input"),l=D(),a=S("div"),a.innerHTML='<button type="submit">Download</button>',h(o,"for","file_name"),h(o,"class","svelte-sy2m0x"),h(i,"type","text"),h(i,"placeholder","Please enter filename"),h(i,"name","file_name"),i.required=!0,h(n,"class","inputs svelte-sy2m0x"),h(a,"class","btn-container svelte-sy2m0x")},m(f,c){O(f,t,c),v(t,n),v(n,o),v(n,r),v(n,i),We(i,e[2]),v(t,l),v(t,a),s||(u=[j(i,"input",e[8]),j(t,"submit",e[5])],s=!0)},p(f,c){c&4&&i.value!==f[2]&&We(i,f[2])},d(f){f&&N(t),s=!1,be(u)}}}function Yr(e){let t,n,o,r,i,l,a,s,u;return{c(){t=S("div"),n=z("✅ Data downloaded to ~/pykoi/"),o=z(e[2]),r=z(".csv"),i=D(),l=S("div"),a=S("button"),a.textContent="Close",h(l,"class","btn-container svelte-sy2m0x")},m(f,c){O(f,t,c),v(t,n),v(t,o),v(t,r),O(f,i,c),O(f,l,c),v(l,a),s||(u=j(a,"click",e[6]),s=!0)},p(f,c){c&4&&ie(o,f[2])},d(f){f&&N(t),f&&N(i),f&&N(l),s=!1,u()}}}function Qr(e){let t,n,o,r,i,l,a,s;return{c(){t=S("div"),t.textContent="⚠️ Download failed. Please try again.",n=D(),o=S("div"),r=S("button"),r.textContent="Retry",i=D(),l=S("button"),l.textContent="Close",h(o,"class","btn-container svelte-sy2m0x")},m(u,f){O(u,t,f),O(u,n,f),O(u,o,f),v(o,r),v(o,i),v(o,l),a||(s=[j(r,"click",e[9]),j(l,"click",e[6])],a=!0)},p:U,d(u){u&&N(t),u&&N(n),u&&N(o),a=!1,be(s)}}}function sc(e){let t,n,o,r=e[3]===e[4].FILE_INPUT&&Xr(e),i=e[3]===e[4].DOWNLOADED&&Yr(e),l=e[3]===e[4].FAILED_DOWNLOAD&&Qr(e);return{c(){r&&r.c(),t=D(),i&&i.c(),n=D(),l&&l.c(),o=Ee()},m(a,s){r&&r.m(a,s),O(a,t,s),i&&i.m(a,s),O(a,n,s),l&&l.m(a,s),O(a,o,s)},p(a,s){a[3]===a[4].FILE_INPUT?r?r.p(a,s):(r=Xr(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),a[3]===a[4].DOWNLOADED?i?i.p(a,s):(i=Yr(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),a[3]===a[4].FAILED_DOWNLOAD?l?l.p(a,s):(l=Qr(a),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},d(a){r&&r.d(a),a&&N(t),i&&i.d(a),a&&N(n),l&&l.d(a),a&&N(o)}}}function ac(e){let t;return{c(){t=S("h4"),t.textContent="Download Data",h(t,"slot","header"),h(t,"class","svelte-sy2m0x")},m(n,o){O(n,t,o)},p:U,d(n){n&&N(t)}}}function uc(e){let t,n,o,r;function i(s){e[10](s)}function l(s){e[11](s)}let a={handleClose:e[6],$$slots:{header:[ac],default:[sc]},$$scope:{ctx:e}};return e[0]!==void 0&&(a.showModal=e[0]),e[1]!==void 0&&(a.dialog=e[1]),t=new lc({props:a}),Ze.push(()=>bn(t,"showModal",i)),Ze.push(()=>bn(t,"dialog",l)),{c(){ne(t.$$.fragment)},m(s,u){Z(t,s,u),r=!0},p(s,[u]){const f={};u&4108&&(f.$$scope={dirty:u,ctx:s}),!n&&u&1&&(n=!0,f.showModal=s[0],vn(()=>n=!1)),!o&&u&2&&(o=!0,f.dialog=s[1],vn(()=>o=!1)),t.$set(f)},i(s){r||(P(t.$$.fragment,s),r=!0)},o(s){T(t.$$.fragment,s),r=!1},d(s){ee(t,s)}}}function fc(e,t,n){let{showModal:o,table:r}=t,i,l="";const a={FILE_INPUT:0,DOWNLOADED:1,FAILED_DOWNLOAD:2};let s=a.FILE_INPUT;const u=async m=>{m.preventDefault();const _={file_name:l},b=await(await fetch(`/chat/${r}/save_to_csv`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})).json();console.log("Download Complete: ",b),b.status==="200"?(console.log("success"),n(3,s=a.DOWNLOADED)):(console.log("failed"),n(3,s=a.FAILED_DOWNLOAD))};function f(){n(0,o=!1),n(3,s=a.FILE_INPUT),i.close()}function c(){l=this.value,n(2,l)}const g=()=>n(3,s=a.FILE_INPUT);function d(m){o=m,n(0,o)}function p(m){i=m,n(1,i)}return e.$$set=m=>{"showModal"in m&&n(0,o=m.showModal),"table"in m&&n(7,r=m.table)},[o,i,l,s,a,u,f,r,c,g,d,p]}class Cr extends de{constructor(t){super(),pe(this,t,fc,uc,ce,{showModal:0,table:7})}}function Kr(e,t,n){const o=e.slice();return o[19]=t[n],o[21]=n,o}function Jr(e){let t,n,o,r,i,l;function a(...u){return e[12](e[21],...u)}function s(...u){return e[13](e[21],...u)}return{c(){t=S("div"),n=S("button"),n.textContent="👍",o=D(),r=S("button"),r.textContent="👎",h(n,"class","small-button thumbs-up svelte-19cad35"),h(r,"class","small-button thumbs-down svelte-19cad35"),h(t,"class","feedback-buttons svelte-19cad35")},m(u,f){O(u,t,f),v(t,n),v(t,o),v(t,r),i||(l=[j(n,"click",a),j(r,"click",s)],i=!0)},p(u,f){e=u},d(u){u&&N(t),i=!1,be(l)}}}function Zr(e,t){let n,o,r,i,l,a,s,u,f,c=t[19].question+"",g,d,p,m,_,w,b,k=t[19].answer+"",A,R,E,C,$,y,M=t[0]&&Jr(t);return{key:e,first:null,c(){n=S("div"),o=S("div"),r=S("div"),i=D(),l=S("div"),a=S("div"),s=S("h5"),s.textContent="Question:",u=D(),f=S("p"),g=z(c),d=D(),p=S("div"),m=S("div"),_=S("h5"),_.textContent="Response:",w=D(),b=S("p"),A=z(k),R=D(),M&&M.c(),E=D(),h(r,"class","avatar"),h(s,"class","bold svelte-19cad35"),h(a,"class","question svelte-19cad35"),h(_,"class","bold svelte-19cad35"),h(m,"class","answer svelte-19cad35"),h(p,"class","answers svelte-19cad35"),h(l,"class","message-content svelte-19cad35"),h(o,"class","chat-message-center svelte-19cad35"),h(n,"class","chat-message svelte-19cad35"),this.first=n},m(I,F){O(I,n,F),v(n,o),v(o,r),v(o,i),v(o,l),v(l,a),v(a,s),v(a,u),v(a,f),v(f,g),v(l,d),v(l,p),v(p,m),v(m,_),v(m,w),v(m,b),v(b,A),v(m,R),M&&M.m(m,null),v(n,E),$||(y=_n(C=dc.call(null,n,t[21]===t[5].length-1)),$=!0)},p(I,F){t=I,F&32&&c!==(c=t[19].question+"")&&ie(g,c),F&32&&k!==(k=t[19].answer+"")&&ie(A,k),t[0]?M?M.p(t,F):(M=Jr(t),M.c(),M.m(m,null)):M&&(M.d(1),M=null),C&&He(C.update)&&F&32&&C.update.call(null,t[21]===t[5].length-1)},d(I){I&&N(n),M&&M.d(),$=!1,y()}}}function cc(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p,m=[],_=new Map,w,b,k,A,R,E,C=(e[3]?e[4]:"Send")+"",$,y,M,I,F,x,q;function le(L){e[11](L)}let oe={table:"qa_table"};e[1]!==void 0&&(oe.showModal=e[1]),t=new Cr({props:oe}),Ze.push(()=>bn(t,"showModal",le));let se=e[5];const ge=L=>L[21];for(let L=0;L<se.length;L+=1){let B=Kr(e,se,L),H=ge(B);_.set(H,m[L]=Zr(H,B))}return{c(){ne(t.$$.fragment),o=D(),r=S("div"),i=S("div"),l=S("h5"),l.textContent="Vote Feedback Instructions",a=D(),s=S("p"),s.innerHTML=`Ask a question to receive an answer from the chatbot. If the response is
      satisfactory, click on the <span class="inline-button green svelte-19cad35">👍</span>
      button. If the repsonse is not satisfactory, click on the
      <span class="inline-button red svelte-19cad35">👎</span> button.`,u=D(),f=S("button"),f.textContent="Download Data",c=D(),g=S("div"),d=S("section"),p=S("div");for(let L=0;L<m.length;L+=1)m[L].c();w=D(),b=S("div"),k=S("form"),A=S("input"),R=D(),E=S("button"),$=z(C),M=D(),I=S("p"),I.textContent="Note - may produce inaccurate information.",h(l,"class","underline bold svelte-19cad35"),h(s,"class","svelte-19cad35"),h(f,"class","svelte-19cad35"),h(i,"class","instructions svelte-19cad35"),h(p,"class","chat-log svelte-19cad35"),h(d,"class","chatbox svelte-19cad35"),h(A,"class","chat-input-textarea svelte-19cad35"),h(A,"placeholder","Type Question Here"),h(E,"class",y="btnyousend "+(e[2]===""?"":"active")+" svelte-19cad35"),h(E,"type","submit"),h(k,"class","chat-input-form svelte-19cad35"),h(I,"class","message svelte-19cad35"),h(b,"class","chat-input-holder svelte-19cad35"),h(g,"class","ranked-chat svelte-19cad35"),h(r,"class","ranked-feedback-container svelte-19cad35")},m(L,B){Z(t,L,B),O(L,o,B),O(L,r,B),v(r,i),v(i,l),v(i,a),v(i,s),v(i,u),v(i,f),v(r,c),v(r,g),v(g,d),v(d,p);for(let H=0;H<m.length;H+=1)m[H]&&m[H].m(p,null);v(g,w),v(g,b),v(b,k),v(k,A),We(A,e[2]),v(k,R),v(k,E),v(E,$),v(b,M),v(b,I),F=!0,x||(q=[j(f,"click",e[8]),j(A,"input",e[14]),j(k,"submit",e[6])],x=!0)},p(L,[B]){const H={};!n&&B&2&&(n=!0,H.showModal=L[1],vn(()=>n=!1)),t.$set(H),B&161&&(se=L[5],m=Qt(m,B,ge,1,L,se,_,p,wo,Zr,null,Kr)),B&4&&A.value!==L[2]&&We(A,L[2]),(!F||B&24)&&C!==(C=(L[3]?L[4]:"Send")+"")&&ie($,C),(!F||B&4&&y!==(y="btnyousend "+(L[2]===""?"":"active")+" svelte-19cad35"))&&h(E,"class",y)},i(L){F||(P(t.$$.fragment,L),F=!0)},o(L){T(t.$$.fragment,L),F=!1},d(L){ee(t,L),L&&N(o),L&&N(r);for(let B=0;B<m.length;B+=1)m[B].d();x=!1,be(q)}}}function dc(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function gc(e){const t=await fetch("/chat/qa_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function hc(e,t,n){let o,r;ae(e,ze,A=>n(5,r=A));let i=!1,{feedback:l=!1}=t,{is_retrieval:a=!1}=t,s="",u="",f=!1;dt(()=>{c()});async function c(){const C=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map($=>({id:$[0],question:$[1],answer:$[2],vote_status:$[3]}));Oe(ze,r=[...C],r)}const g=async A=>{A.preventDefault(),s=u,n(2,u=""),n(3,f=!0);let R={id:r.length+1,question:s,answer:"Loading...",vote_status:"na"};Oe(ze,r=[...r,R],r);const E=a?await fetch("/retrieval/new_message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})}):await fetch(`/chat/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})});if(E.ok){const C=await E.json();console.log("response data",C),R.answer=C.answer,ze.update($=>($[$.length-1]=R,$))}else{const C=await E.text();alert(C)}n(3,f=!1)};let d=0;setInterval(()=>{n(10,d=(d+1)%4)},200);function p(A,R,E){const C=r[E];C.vote=R;const $={id:E+1,vote_status:R};gc($),ft(A.currentTarget.parentNode).selectAll("button").style("border","3px solid transparent").style("opacity",.65),ft(A.currentTarget).style("border","3px solid var(--black)").style("opacity",1)}function m(){n(1,i=!0)}[...Array(10).keys()].map(A=>String.fromCharCode(65+A));function _(A){i=A,n(1,i)}const w=(A,R)=>p(R,"up",A),b=(A,R)=>p(R,"down",A);function k(){u=this.value,n(2,u)}return e.$$set=A=>{"feedback"in A&&n(0,l=A.feedback),"is_retrieval"in A&&n(9,a=A.is_retrieval)},e.$$.update=()=>{e.$$.dirty&1024&&n(4,o=".".repeat(d).padEnd(3))},[l,i,u,f,o,r,g,p,m,a,d,_,w,b,k]}class kr extends de{constructor(t){super(),pe(this,t,hc,cc,ce,{feedback:0,is_retrieval:9})}}function ei(e,t,n){const o=e.slice();return o[14]=t[n],o[16]=n,o}function ti(e,t){let n,o,r,i,l,a,s,u,f,c=t[14].question+"",g,d,p,m,_,w,b,k=t[14].up_ranking_answer+"",A,R,E,C,$,y,M=t[14].low_ranking_answer+"",I,F,x,q,le;function oe(...B){return t[7](t[14],t[16],...B)}function se(...B){return t[8](t[14],t[16],...B)}function ge(...B){return t[9](t[14],t[16],...B)}function L(...B){return t[10](t[14],t[16],...B)}return{key:e,first:null,c(){n=S("div"),o=S("div"),r=S("div"),i=D(),l=S("div"),a=S("div"),s=S("h5"),s.textContent="Question:",u=D(),f=S("p"),g=z(c),d=D(),p=S("div"),m=S("div"),_=S("h5"),_.textContent="Response 1:",w=D(),b=S("p"),A=z(k),R=D(),E=S("div"),C=S("h5"),C.textContent="Response 2:",$=D(),y=S("p"),I=z(M),F=D(),h(r,"class","avatar"),h(s,"class","bold svelte-au920n"),h(a,"class","question svelte-au920n"),h(_,"class","bold underline svelte-au920n"),h(m,"class","answer svelte-au920n"),h(C,"class","bold underline svelte-au920n"),h(E,"class","answer svelte-au920n"),h(p,"class","answers svelte-au920n"),h(l,"class","message-content svelte-au920n"),h(o,"class","chat-message-center svelte-au920n"),h(n,"class","chat-message svelte-au920n"),this.first=n},m(B,H){O(B,n,H),v(n,o),v(o,r),v(o,i),v(o,l),v(l,a),v(a,s),v(a,u),v(a,f),v(f,g),v(l,d),v(l,p),v(p,m),v(m,_),v(m,w),v(m,b),v(b,A),v(p,R),v(p,E),v(E,C),v(E,$),v(E,y),v(y,I),v(n,F),q||(le=[j(m,"click",oe),j(m,"keydown",se),j(E,"click",ge),j(E,"keydown",L),_n(x=mc.call(null,n,t[16]===t[3].length-1))],q=!0)},p(B,H){t=B,H&8&&c!==(c=t[14].question+"")&&ie(g,c),H&8&&k!==(k=t[14].up_ranking_answer+"")&&ie(A,k),H&8&&M!==(M=t[14].low_ranking_answer+"")&&ie(I,M),x&&He(x.update)&&H&8&&x.update.call(null,t[16]===t[3].length-1)},d(B){B&&N(n),q=!1,be(le)}}}function pc(e){let t,n,o,r,i,l,a=[],s=new Map,u,f,c,g,d,p,m=(e[1]?e[2]:"Send")+"",_,w,b,k,A,R,E=e[3];const C=$=>$[16];for(let $=0;$<E.length;$+=1){let y=ei(e,E,$),M=C(y);s.set(M,a[$]=ti(M,y))}return{c(){t=S("div"),n=S("div"),n.innerHTML=`<h5 class="underline bold svelte-au920n">Ranked Feedback Instructions</h5> 
    <p class="svelte-au920n">Ask a question and click on the better of the two responses. The better
      response will be outlined in <span class="green svelte-au920n">green</span>, the worse
      response outlined in <span class="red svelte-au920n">red</span>. This data will be
      automatically fed to RLHF.</p> 
    <button class="svelte-au920n">Download Data</button>`,o=D(),r=S("div"),i=S("section"),l=S("div");for(let $=0;$<a.length;$+=1)a[$].c();u=D(),f=S("div"),c=S("form"),g=S("input"),d=D(),p=S("button"),_=z(m),b=D(),k=S("p"),k.textContent="Note - may produce inaccurate information.",h(n,"class","instructions svelte-au920n"),h(l,"class","chat-log svelte-au920n"),h(i,"class","chatbox svelte-au920n"),h(g,"class","chat-input-textarea svelte-au920n"),h(g,"placeholder","Type Message Here"),h(p,"class",w="btnyousend "+(e[0]===""?"":"active")+" svelte-au920n"),h(p,"type","submit"),h(c,"class","chat-input-form svelte-au920n"),h(k,"class","message svelte-au920n"),h(f,"class","chat-input-holder svelte-au920n"),h(r,"class","ranked-chat svelte-au920n"),h(t,"class","ranked-feedback-container svelte-au920n")},m($,y){O($,t,y),v(t,n),v(t,o),v(t,r),v(r,i),v(i,l);for(let M=0;M<a.length;M+=1)a[M]&&a[M].m(l,null);v(r,u),v(r,f),v(f,c),v(c,g),We(g,e[0]),v(c,d),v(c,p),v(p,_),v(f,b),v(f,k),A||(R=[j(g,"input",e[11]),j(c,"submit",e[4])],A=!0)},p($,[y]){y&40&&(E=$[3],a=Qt(a,y,C,1,$,E,s,l,wo,ti,null,ei)),y&1&&g.value!==$[0]&&We(g,$[0]),y&6&&m!==(m=($[1]?$[2]:"Send")+"")&&ie(_,m),y&1&&w!==(w="btnyousend "+($[0]===""?"":"active")+" svelte-au920n")&&h(p,"class",w)},i:U,o:U,d($){$&&N(t);for(let y=0;y<a.length;y+=1)a[y].d();A=!1,be(R)}}}function mc(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function _c(e){const t=await fetch("/chat/ranking_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function vc(e,t,n){let o,r;ae(e,Mo,_=>n(3,r=_));let i="",l="",a=!1;dt(()=>{});const s=async _=>{_.preventDefault(),i=l,n(0,l=""),n(1,a=!0);let w={question:i,up_ranking_answer:"Loading...",low_ranking_answer:"Loading..."};Oe(Mo,r=[...r,w],r);const b=await fetch(`/chat/multi_responses/${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:i})});if(b.ok){const k=await b.json();w.up_ranking_answer=k.answer[0],w.low_ranking_answer=k.answer[1],Mo.update(A=>(A[A.length-1]=w,A))}else{const k=await b.text();alert(k)}n(1,a=!1)};let u=0;setInterval(()=>{n(6,u=(u+1)%4)},200);function f(_,w,b,k){const A=r[b],R={1:"up_ranking_answer",2:"low_ranking_answer"},E={question:A.question,up_ranking_answer:A[R[k]],low_ranking_answer:A[R[k%2+1]]};_c(E),ft(_.currentTarget.parentNode).selectAll("div").style("outline","2px solid var(--red)").style("border","1px solid var(--red)"),ft(_.currentTarget).style("outline","2px solid var(--green)").style("border","1px solid var(--green)")}const c=(_,w,b)=>f(b,_,w,1),g=(_,w,b)=>f(b,_,w,1),d=(_,w,b)=>f(b,_,w,2),p=(_,w,b)=>f(b,_,w,2);function m(){l=this.value,n(0,l)}return e.$$.update=()=>{e.$$.dirty&64&&n(2,o=".".repeat(u).padEnd(3))},[l,a,o,r,s,f,u,c,g,d,p,m]}class bc extends de{constructor(t){super(),pe(this,t,vc,pc,ce,{})}}function ni(e,t,n){const o=e.slice();return o[8]=t[n],o[10]=n,o}function oi(e){let t,n,o,r,i=e[8].name+"",l,a,s,u,f;function c(...g){return e[6](e[8],...g)}return{c(){t=S("label"),n=S("input"),l=z(i),a=D(),h(n,"type","checkbox"),h(n,"id",o=e[8].id),n.checked=r=e[1].has(e[8].name),h(t,"for",s=e[8].id)},m(g,d){O(g,t,d),v(t,n),v(t,l),v(t,a),u||(f=j(n,"change",c),u=!0)},p(g,d){e=g,d&1&&o!==(o=e[8].id)&&h(n,"id",o),d&3&&r!==(r=e[1].has(e[8].name))&&(n.checked=r),d&1&&i!==(i=e[8].name+"")&&ie(l,i),d&1&&s!==(s=e[8].id)&&h(t,"for",s)},d(g){g&&N(t),u=!1,f()}}}function wc(e){let t,n,o,r,i,l,a,s,u,f,c,g=e[0],d=[];for(let p=0;p<g.length;p+=1)d[p]=oi(ni(e,g,p));return{c(){t=S("form"),n=S("div"),o=S("div"),r=S("select"),i=S("option"),i.textContent="Documents",l=D(),a=S("div"),s=D(),u=S("div");for(let p=0;p<d.length;p+=1)d[p].c();i.__value="Documents",i.value=i.__value,h(r,"class","svelte-8o2wf2"),h(a,"class","overSelect svelte-8o2wf2"),h(o,"class","selectBox svelte-8o2wf2"),h(u,"class","dropdown-content svelte-8o2wf2"),Ie(u,"display",e[2]?"block":"none"),h(n,"class","multiselect svelte-8o2wf2")},m(p,m){O(p,t,m),v(t,n),v(n,o),v(o,r),v(r,i),v(o,l),v(o,a),v(n,s),v(n,u);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(u,null);e[7](u),f||(c=j(o,"click",e[4]),f=!0)},p(p,[m]){if(m&35){g=p[0];let _;for(_=0;_<g.length;_+=1){const w=ni(p,g,_);d[_]?d[_].p(w,m):(d[_]=oi(w),d[_].c(),d[_].m(u,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=g.length}m&4&&Ie(u,"display",p[2]?"block":"none")},i:U,o:U,d(p){p&&N(t),ke(d,p),e[7](null),f=!1,c()}}}function yc(e,t,n){let o;ae(e,er,c=>n(1,o=c));let{documents:r=[]}=t,i=!1,l;function a(){n(2,i=!i)}function s(c,g){g.target.checked?o.add(c):o.delete(c),er.set(new Set(o))}const u=(c,g)=>s(c.name,g);function f(c){Ze[c?"unshift":"push"](()=>{l=c,n(3,l)})}return e.$$set=c=>{"documents"in c&&n(0,r=c.documents)},e.$$.update=()=>{e.$$.dirty&2&&console.log(o)},[r,o,i,l,a,s,u,f]}let Sc=class extends de{constructor(t){super(),pe(this,t,yc,wc,ce,{documents:0})}};function nr(e,t=2){if(e===0)return"0 Bytes";const n=1024,o=t<0?0:t,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,i)).toFixed(o))+" "+r[i]}function Cc(e){let t={who:0,what:0,how:0,why:0,where:0,does:0,can:0,"n/a":0};for(let o=0;o<e.length;o++){let r=e[o].question.split(" ")[0].toLowerCase();r in t?t[r]++:t["n/a"]++}return Object.keys(t).map(o=>({question:o,count:t[o]}))}function Ls(e){return e.map(t=>{const n=t.question.split(" ").length,o=t.answer.split(" ").length;return{index:t.index,question:+n,answer:+o,vote:t.vote}})}function kc(e,t){e.classList.add("tooltip"),e.setAttribute("tabindex",0);function n(){const r=document.createElement("span");r.textContent=t,r.setAttribute("id","tooltip"),e.appendChild(r),e.addEventListener("mouseleave",o),e.addEventListener("blur",o),e.removeEventListener("mouseenter",n),e.removeEventListener("focus",n)}function o(){e.removeChild(e.querySelector("#tooltip")),e.removeEventListener("mouseleave",o),e.removeEventListener("blur",o),e.addEventListener("mouseenter",n),e.addEventListener("focus",n)}return e.addEventListener("mouseenter",n),e.addEventListener("focus",n),{onDestroy(){e.classList.remove("tooltip"),e.removeEventListener("mouseenter",n),e.removeEventListener("focus",n)}}}function yn(e,{delay:t=0,duration:n=400,easing:o=wr,axis:r="y"}={}){const i=getComputedStyle(e),l=+i.opacity,a=r==="y"?"height":"width",s=parseFloat(i[a]),u=r==="y"?["top","bottom"]:["left","right"],f=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),c=parseFloat(i[`padding${f[0]}`]),g=parseFloat(i[`padding${f[1]}`]),d=parseFloat(i[`margin${f[0]}`]),p=parseFloat(i[`margin${f[1]}`]),m=parseFloat(i[`border${f[0]}Width`]),_=parseFloat(i[`border${f[1]}Width`]);return{delay:t,duration:n,easing:o,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*l};${a}: ${w*s}px;padding-${u[0]}: ${w*c}px;padding-${u[1]}: ${w*g}px;margin-${u[0]}: ${w*d}px;margin-${u[1]}: ${w*p}px;border-${u[0]}-width: ${w*m}px;border-${u[1]}-width: ${w*_}px;`}}function Dn(e,{delay:t=0,duration:n=400,easing:o=wr,start:r=0,opacity:i=0}={}){const l=getComputedStyle(e),a=+l.opacity,s=l.transform==="none"?"":l.transform,u=1-r,f=a*(1-i);return{delay:t,duration:n,easing:o,css:(c,g)=>`
			transform: ${s} scale(${1-u*g});
			opacity: ${a-f*g}
		`}}function $c(e){let t;return{c(){t=S("p"),t.textContent="⌄",h(t,"class","svelte-1pk2e1k")},m(n,o){O(n,t,o)},d(n){n&&N(t)}}}function Ac(e){let t;return{c(){t=S("p"),t.textContent="⌃",h(t,"class","svelte-1pk2e1k")},m(n,o){O(n,t,o)},d(n){n&&N(t)}}}function ri(e){let t,n,o,r,i;return{c(){t=S("div"),n=S("p"),o=z(e[1]),h(n,"class","bold svelte-1pk2e1k"),h(t,"class","source_content svelte-1pk2e1k")},m(l,a){O(l,t,a),v(t,n),v(n,o),i=!0},p(l,a){(!i||a&2)&&ie(o,l[1])},i(l){i||(Re(()=>{i&&(r||(r=tt(t,yn,{},!0)),r.run(1))}),i=!0)},o(l){r||(r=tt(t,yn,{},!1)),r.run(0),i=!1},d(l){l&&N(t),l&&r&&r.end()}}}function Rc(e){let t,n,o,r=e[2]+1+"",i,l,a,s,u,f,c,g,d;function p(b,k){return b[3]?Ac:$c}let m=p(e),_=m(e),w=e[3]&&ri(e);return{c(){t=S("div"),n=S("div"),o=S("p"),i=z(r),l=z(": "),a=z(e[0]),s=D(),_.c(),f=D(),w&&w.c(),h(o,"class","bold svelte-1pk2e1k"),h(n,"class","source_tab svelte-1pk2e1k"),h(t,"class","source svelte-1pk2e1k")},m(b,k){O(b,t,k),v(t,n),v(n,o),v(o,i),v(o,l),v(o,a),v(n,s),_.m(n,null),v(t,f),w&&w.m(t,null),c=!0,g||(d=j(n,"click",e[4]),g=!0)},p(b,[k]){(!c||k&4)&&r!==(r=b[2]+1+"")&&ie(i,r),(!c||k&1)&&ie(a,b[0]),m!==(m=p(b))&&(_.d(1),_=m(b),_&&(_.c(),_.m(n,null))),b[3]?w?(w.p(b,k),k&8&&P(w,1)):(w=ri(b),w.c(),P(w,1),w.m(t,null)):w&&(_e(),T(w,1,1,()=>{w=null}),ve())},i(b){c||(Re(()=>{c&&(u||(u=tt(n,yn,{},!0)),u.run(1))}),P(w),c=!0)},o(b){u||(u=tt(n,yn,{},!1)),u.run(0),T(w),c=!1},d(b){b&&N(t),_.d(),b&&u&&u.end(),w&&w.d(),g=!1,d()}}}function Mc(e,t,n){let{source:o=""}=t,{source_content:r=""}=t,{i=0}=t,l=i===0;const a=()=>n(3,l=!l);return e.$$set=s=>{"source"in s&&n(0,o=s.source),"source_content"in s&&n(1,r=s.source_content),"i"in s&&n(2,i=s.i)},[o,r,i,l,a]}class Ec extends de{constructor(t){super(),pe(this,t,Mc,Rc,ce,{source:0,source_content:1,i:2})}}function ii(e,t,n){const o=e.slice();return o[4]=t[n],o[6]=n,o}function li(e){let t,n,o,r;const i=[Nc,Ic,Dc,Fc],l=[];function a(s,u){return s[0][0]==="N/A"?0:s[0][0]==="Loading..."?1:s[0][0]==="Not loaded"?2:3}return t=a(e),n=l[t]=i[t](e),{c(){n.c(),o=Ee()},m(s,u){l[t].m(s,u),O(s,o,u),r=!0},p(s,u){let f=t;t=a(s),t===f?l[t].p(s,u):(_e(),T(l[f],1,1,()=>{l[f]=null}),ve(),n=l[t],n?n.p(s,u):(n=l[t]=i[t](s),n.c()),P(n,1),n.m(o.parentNode,o))},i(s){r||(P(n),r=!0)},o(s){T(n),r=!1},d(s){l[t].d(s),s&&N(o)}}}function Fc(e){let t,n,o,r=e[0].length+"",i,l,a,s,u,f,c,g;function d(w,b){return w[2]?Oc:Pc}let p=d(e),m=p(e),_=e[2]&&si(e);return{c(){t=S("div"),n=S("h5"),o=z("📖 Response Sources ("),i=z(r),l=z(")"),a=D(),m.c(),s=D(),_&&_.c(),u=Ee(),h(n,"class","bold"),h(t,"class","sources-header svelte-1r759df")},m(w,b){O(w,t,b),v(t,n),v(n,o),v(n,i),v(n,l),v(t,a),m.m(t,null),O(w,s,b),_&&_.m(w,b),O(w,u,b),f=!0,c||(g=j(t,"click",e[3]),c=!0)},p(w,b){(!f||b&1)&&r!==(r=w[0].length+"")&&ie(i,r),p!==(p=d(w))&&(m.d(1),m=p(w),m&&(m.c(),m.m(t,null))),w[2]?_?(_.p(w,b),b&4&&P(_,1)):(_=si(w),_.c(),P(_,1),_.m(u.parentNode,u)):_&&(_e(),T(_,1,1,()=>{_=null}),ve())},i(w){f||(P(_),f=!0)},o(w){T(_),f=!1},d(w){w&&N(t),m.d(),w&&N(s),_&&_.d(w),w&&N(u),c=!1,g()}}}function Dc(e){let t;return{c(){t=S("h5"),t.textContent="⚠️ No sources loaded",h(t,"class","bold")},m(n,o){O(n,t,o)},p:U,i:U,o:U,d(n){n&&N(t)}}}function Ic(e){let t;return{c(){t=S("h5"),t.textContent="📖 Loading...",h(t,"class","bold")},m(n,o){O(n,t,o)},p:U,i:U,o:U,d(n){n&&N(t)}}}function Nc(e){let t;return{c(){t=S("h5"),t.textContent="⚠️ No Retrieval Sources selected",h(t,"class","bold")},m(n,o){O(n,t,o)},p:U,i:U,o:U,d(n){n&&N(t)}}}function Pc(e){let t;return{c(){t=S("span"),t.textContent="⌄"},m(n,o){O(n,t,o)},d(n){n&&N(t)}}}function Oc(e){let t;return{c(){t=S("span"),t.textContent="⌃"},m(n,o){O(n,t,o)},d(n){n&&N(t)}}}function si(e){let t,n,o=e[0],r=[];for(let l=0;l<o.length;l+=1)r[l]=ai(ii(e,o,l));const i=l=>T(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();t=Ee()},m(l,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,a);O(l,t,a),n=!0},p(l,a){if(a&3){o=l[0];let s;for(s=0;s<o.length;s+=1){const u=ii(l,o,s);r[s]?(r[s].p(u,a),P(r[s],1)):(r[s]=ai(u),r[s].c(),P(r[s],1),r[s].m(t.parentNode,t))}for(_e(),s=o.length;s<r.length;s+=1)i(s);ve()}},i(l){if(!n){for(let a=0;a<o.length;a+=1)P(r[a]);n=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)T(r[a]);n=!1},d(l){ke(r,l),l&&N(t)}}}function ai(e){let t,n;return t=new Ec({props:{source:e[4],source_content:e[1][e[6]],i:e[6]}}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},p(o,r){const i={};r&1&&(i.source=o[4]),r&2&&(i.source_content=o[1][o[6]]),t.$set(i)},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function Tc(e){let t,n,o=e[0]!==void 0&&li(e);return{c(){t=S("div"),o&&o.c(),h(t,"class","sources svelte-1r759df")},m(r,i){O(r,t,i),o&&o.m(t,null),n=!0},p(r,[i]){r[0]!==void 0?o?(o.p(r,i),i&1&&P(o,1)):(o=li(r),o.c(),P(o,1),o.m(t,null)):o&&(_e(),T(o,1,1,()=>{o=null}),ve())},i(r){n||(P(o),n=!0)},o(r){T(o),n=!1},d(r){r&&N(t),o&&o.d()}}}function xc(e,t,n){let{sources:o=[]}=t,{source_content:r=[]}=t,i=!1;const l=()=>n(2,i=!i);return e.$$set=a=>{"sources"in a&&n(0,o=a.sources),"source_content"in a&&n(1,r=a.source_content)},[o,r,i,l]}class Vc extends de{constructor(t){super(),pe(this,t,xc,Tc,ce,{sources:0,source_content:1})}}function ui(e,t,n){const o=e.slice();return o[4]=t[n],o}function fi(e,t,n){const o=e.slice();return o[4]=t[n],o}function ci(e){let t,n,o,r=e[4].label+"",i,l,a,s,u;return{c(){t=S("li"),n=S("span"),o=S("h5"),i=z(r),l=D(),h(o,"class","bold"),h(n,"class","svelte-iwm583"),h(t,"class",a=qr(e[0]===e[4].value?"active":"")+" svelte-iwm583")},m(f,c){O(f,t,c),v(t,n),v(n,o),v(o,i),v(t,l),s||(u=j(n,"click",function(){He(e[3](e[4].value))&&e[3](e[4].value).apply(this,arguments)}),s=!0)},p(f,c){e=f,c&2&&r!==(r=e[4].label+"")&&ie(i,r),c&3&&a!==(a=qr(e[0]===e[4].value?"active":"")+" svelte-iwm583")&&h(t,"class",a)},d(f){f&&N(t),s=!1,u()}}}function di(e){let t,n,o,r;const i=[e[2]];var l=e[4].component;function a(s){let u={};for(let f=0;f<i.length;f+=1)u=mn(u,i[f]);return{props:u}}return l&&(n=bt(l,a())),{c(){t=S("div"),n&&ne(n.$$.fragment),o=D(),h(t,"class","box svelte-iwm583")},m(s,u){O(s,t,u),n&&Z(n,t,null),v(t,o),r=!0},p(s,u){const f=u&4?ks(i,[$s(s[2])]):{};if(u&2&&l!==(l=s[4].component)){if(n){_e();const c=n;T(c.$$.fragment,1,0,()=>{ee(c,1)}),ve()}l?(n=bt(l,a()),ne(n.$$.fragment),P(n.$$.fragment,1),Z(n,t,o)):n=null}else l&&n.$set(f)},i(s){r||(n&&P(n.$$.fragment,s),r=!0)},o(s){n&&T(n.$$.fragment,s),r=!1},d(s){s&&N(t),n&&ee(n)}}}function gi(e){let t,n,o=e[0]==e[4].value&&di(e);return{c(){o&&o.c(),t=Ee()},m(r,i){o&&o.m(r,i),O(r,t,i),n=!0},p(r,i){r[0]==r[4].value?o?(o.p(r,i),i&3&&P(o,1)):(o=di(r),o.c(),P(o,1),o.m(t.parentNode,t)):o&&(_e(),T(o,1,1,()=>{o=null}),ve())},i(r){n||(P(o),n=!0)},o(r){T(o),n=!1},d(r){o&&o.d(r),r&&N(t)}}}function zc(e){let t,n,o,r,i=e[1],l=[];for(let f=0;f<i.length;f+=1)l[f]=ci(fi(e,i,f));let a=e[1],s=[];for(let f=0;f<a.length;f+=1)s[f]=gi(ui(e,a,f));const u=f=>T(s[f],1,1,()=>{s[f]=null});return{c(){t=S("ul");for(let f=0;f<l.length;f+=1)l[f].c();n=D();for(let f=0;f<s.length;f+=1)s[f].c();o=Ee(),h(t,"class","svelte-iwm583")},m(f,c){O(f,t,c);for(let g=0;g<l.length;g+=1)l[g]&&l[g].m(t,null);O(f,n,c);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(f,c);O(f,o,c),r=!0},p(f,[c]){if(c&11){i=f[1];let g;for(g=0;g<i.length;g+=1){const d=fi(f,i,g);l[g]?l[g].p(d,c):(l[g]=ci(d),l[g].c(),l[g].m(t,null))}for(;g<l.length;g+=1)l[g].d(1);l.length=i.length}if(c&7){a=f[1];let g;for(g=0;g<a.length;g+=1){const d=ui(f,a,g);s[g]?(s[g].p(d,c),P(s[g],1)):(s[g]=gi(d),s[g].c(),P(s[g],1),s[g].m(o.parentNode,o))}for(_e(),g=a.length;g<s.length;g+=1)u(g);ve()}},i(f){if(!r){for(let c=0;c<a.length;c+=1)P(s[c]);r=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)T(s[c]);r=!1},d(f){f&&N(t),ke(l,f),f&&N(n),ke(s,f),f&&N(o)}}}function Lc(e,t,n){let{items:o=[]}=t,{activeTabValue:r=1}=t,{tabProps:i={}}=t;const l=a=>()=>n(0,r=a);return e.$$set=a=>{"items"in a&&n(1,o=a.items),"activeTabValue"in a&&n(0,r=a.activeTabValue),"tabProps"in a&&n(2,i=a.tabProps)},[r,o,i,l]}class Hc extends de{constructor(t){super(),pe(this,t,Lc,zc,ce,{items:1,activeTabValue:0,tabProps:2})}}function hi(e){let t;return{c(){t=z("Press ENTER to autofill with the RAG answer.")},m(n,o){O(n,t,o)},d(n){n&&N(t)}}}function qc(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p=e[0].edited_answer===eo&&hi();return{c(){t=S("form"),n=S("textarea"),r=D(),i=S("div"),l=S("div"),p&&p.c(),a=D(),s=S("div"),u=S("button"),u.textContent="Update",f=D(),c=S("button"),c.textContent="Reset",h(n,"placeholder",o=e[0].answer),h(l,"class","note svelte-i9wciy"),h(i,"class","button-container svelte-i9wciy")},m(m,_){O(m,t,_),v(t,n),We(n,e[0].edited_answer),e[6](n),v(t,r),v(t,i),v(i,l),p&&p.m(l,null),v(i,a),v(i,s),v(s,u),v(s,f),v(s,c),g||(d=[j(n,"input",e[5]),j(n,"keydown",e[4]),j(u,"click",e[2]),j(c,"click",e[3])],g=!0)},p(m,[_]){_&1&&o!==(o=m[0].answer)&&h(n,"placeholder",o),_&1&&We(n,m[0].edited_answer),m[0].edited_answer===eo?p||(p=hi(),p.c(),p.m(l,null)):p&&(p.d(1),p=null)},i:U,o:U,d(m){m&&N(t),e[6](null),p&&p.d(),g=!1,be(d)}}}const eo="";function Gc(e,t,n){let{message:o={}}=t,r;const i=async c=>{const g={id:o.id,new_answer:c},d=await fetch("/chat/rag_table/update_answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(d.ok)console.log("Answer updated successfully",d),n(0,o.edited_answer=c,o);else{const p=await d.text();alert(p)}},l=c=>{c.preventDefault(),i(o.edited_answer)},a=c=>{c.preventDefault(),i(eo)},s=c=>{c.key=="Enter"&&o.edited_answer===eo&&(c.preventDefault(),console.log("ENTER"),n(0,o.edited_answer=o.answer,o))};dt(function(){r.focus()});function u(){o.edited_answer=this.value,n(0,o)}function f(c){Ze[c?"unshift":"push"](()=>{r=c,n(1,r)})}return e.$$set=c=>{"message"in c&&n(0,o=c.message)},[o,r,l,a,s,u,f]}class Bc extends de{constructor(t){super(),pe(this,t,Gc,qc,ce,{message:0})}}function pi(e){let t,n,o,r,i,l;return{c(){t=S("div"),n=S("button"),n.textContent="👍",o=D(),r=S("button"),r.textContent="👎",h(n,"class","small-button thumbs-up svelte-1u8cd0w"),h(r,"class","small-button thumbs-down svelte-1u8cd0w"),h(t,"class","feedback-buttons svelte-1u8cd0w")},m(a,s){O(a,t,s),v(t,n),v(t,o),v(t,r),i||(l=[j(n,"click",e[4]),j(r,"click",e[5])],i=!0)},p:U,d(a){a&&N(t),i=!1,be(l)}}}function jc(e){let t,n=e[0].answer+"",o,r,i,l=e[1]&&pi(e);return{c(){t=S("div"),o=z(n),r=D(),l&&l.c(),i=Ee()},m(a,s){O(a,t,s),v(t,o),O(a,r,s),l&&l.m(a,s),O(a,i,s)},p(a,[s]){s&1&&n!==(n=a[0].answer+"")&&ie(o,n),a[1]?l?l.p(a,s):(l=pi(a),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i:U,o:U,d(a){a&&N(t),a&&N(r),l&&l.d(a),a&&N(i)}}}async function Uc(e){const t=await fetch("/chat/rag_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function Wc(e,t,n){let o;ae(e,ze,f=>n(6,o=f));let{message:r={}}=t,{feedback:i=!1}=t,{index:l=0}=t;function a(f,c,g){const d=o[g];d.vote=c;const p={id:g+1,vote_status:c};Uc(p),ft(f.currentTarget.parentNode).selectAll("button").style("border","3px solid transparent").style("opacity",.65),ft(f.currentTarget).style("border","3px solid var(--black)").style("opacity",1)}const s=f=>a(f,"up",l),u=f=>a(f,"down",l);return e.$$set=f=>{"message"in f&&n(0,r=f.message),"feedback"in f&&n(1,i=f.feedback),"index"in f&&n(2,l=f.index)},[r,i,l,a,s,u]}class Xc extends de{constructor(t){super(),pe(this,t,Wc,jc,ce,{message:0,feedback:1,index:2})}}function mi(e,t,n){const o=e.slice();return o[19]=t[n],o[21]=n,o}function _i(e,t){let n,o,r,i,l,a,s,u,f,c=t[19].question+"",g,d,p,m,_,w,b,k,A,R,E,C,$,y,M,I;return A=new Hc({props:{items:t[8],tabProps:{message:t[19],feedback:t[0],index:t[21]}}}),E=new Vc({props:{sources:t[19].source,source_content:t[19].source_content}}),{key:e,first:null,c(){n=S("div"),o=S("div"),r=S("div"),i=D(),l=S("div"),a=S("div"),s=S("h5"),s.textContent="Question:",u=D(),f=S("p"),g=z(c),d=D(),p=S("div"),m=S("p"),m.textContent="ℹ️ Retrieval Sources",w=D(),b=S("div"),k=S("div"),ne(A.$$.fragment),R=D(),ne(E.$$.fragment),C=D(),h(r,"class","avatar"),h(s,"class","bold"),h(m,"class","bold"),h(p,"class","rag-sources svelte-vgv4ev"),h(a,"class","question svelte-vgv4ev"),h(k,"class","answer svelte-vgv4ev"),h(b,"class","answers svelte-vgv4ev"),h(l,"class","message-content svelte-vgv4ev"),h(o,"class","chat-message-center svelte-vgv4ev"),h(n,"class","chat-message svelte-vgv4ev"),this.first=n},m(F,x){O(F,n,x),v(n,o),v(o,r),v(o,i),v(o,l),v(l,a),v(a,s),v(a,u),v(a,f),v(f,g),v(a,d),v(a,p),v(p,m),v(l,w),v(l,b),v(b,k),Z(A,k,null),v(l,R),Z(E,l,null),v(n,C),y=!0,M||(I=[_n(_=kc.call(null,m,vi(t[19]))),_n($=Qc.call(null,n,t[21]===t[5].length-1))],M=!0)},p(F,x){t=F,(!y||x&32)&&c!==(c=t[19].question+"")&&ie(g,c),_&&He(_.update)&&x&32&&_.update.call(null,vi(t[19]));const q={};x&33&&(q.tabProps={message:t[19],feedback:t[0],index:t[21]}),A.$set(q);const le={};x&32&&(le.sources=t[19].source),x&32&&(le.source_content=t[19].source_content),E.$set(le),$&&He($.update)&&x&32&&$.update.call(null,t[21]===t[5].length-1)},i(F){y||(P(A.$$.fragment,F),P(E.$$.fragment,F),y=!0)},o(F){T(A.$$.fragment,F),T(E.$$.fragment,F),y=!1},d(F){F&&N(n),ee(A),ee(E),M=!1,be(I)}}}function Yc(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p,m=[],_=new Map,w,b,k,A,R,E,C,$,y,M=(e[2]?e[4]:"Send")+"",I,F,x,q,le,oe,se;function ge(G){e[13](G)}let L={table:"rag_table"};e[3]!==void 0&&(L.showModal=e[3]),t=new Cr({props:L}),Ze.push(()=>bn(t,"showModal",ge));let B=e[5];const H=G=>G[21];for(let G=0;G<B.length;G+=1){let Y=mi(e,B,G),ue=H(Y);_.set(ue,m[G]=_i(ue,Y))}return A=new Sc({props:{documents:e[6]}}),{c(){ne(t.$$.fragment),o=D(),r=S("div"),i=S("div"),l=S("h5"),l.textContent="Vote Feedback Instructions",a=D(),s=S("p"),s.innerHTML=`Ask a question to receive an answer from the chatbot. If the response is
      satisfactory, click on the <span class="inline-button green svelte-vgv4ev">👍</span>
      button. If the response is not satisfactory, click on the
      <span class="inline-button red svelte-vgv4ev">👎</span> button.`,u=D(),f=S("button"),f.textContent="Download Data",c=D(),g=S("div"),d=S("section"),p=S("div");for(let G=0;G<m.length;G+=1)m[G].c();w=D(),b=S("div"),k=S("div"),ne(A.$$.fragment),R=D(),E=S("form"),C=S("input"),$=D(),y=S("button"),I=z(M),x=D(),q=S("p"),q.textContent="Note - may produce inaccurate information.",h(l,"class","underline bold svelte-vgv4ev"),h(s,"class","svelte-vgv4ev"),h(f,"class","svelte-vgv4ev"),h(i,"class","instructions svelte-vgv4ev"),h(p,"class","chat-log svelte-vgv4ev"),h(d,"class","chatbox svelte-vgv4ev"),h(C,"class","chat-input-textarea svelte-vgv4ev"),h(C,"placeholder","Type Question Here"),h(y,"class",F="btnyousend "+(e[1]===""?"":"active")+" svelte-vgv4ev"),h(y,"type","submit"),h(E,"class","chat-input-form svelte-vgv4ev"),h(k,"class","chat-and-question svelte-vgv4ev"),h(q,"class","message svelte-vgv4ev"),h(b,"class","chat-input-holder svelte-vgv4ev"),h(g,"class","ranked-chat svelte-vgv4ev"),h(r,"class","ranked-feedback-container svelte-vgv4ev")},m(G,Y){Z(t,G,Y),O(G,o,Y),O(G,r,Y),v(r,i),v(i,l),v(i,a),v(i,s),v(i,u),v(i,f),v(r,c),v(r,g),v(g,d),v(d,p);for(let ue=0;ue<m.length;ue+=1)m[ue]&&m[ue].m(p,null);v(g,w),v(g,b),v(b,k),Z(A,k,null),v(k,R),v(k,E),v(E,C),We(C,e[1]),v(E,$),v(E,y),v(y,I),v(b,x),v(b,q),le=!0,oe||(se=[j(f,"click",e[10]),j(C,"input",e[14]),j(E,"submit",e[9])],oe=!0)},p(G,[Y]){const ue={};!n&&Y&8&&(n=!0,ue.showModal=G[3],vn(()=>n=!1)),t.$set(ue),Y&289&&(B=G[5],_e(),m=Qt(m,Y,H,1,G,B,_,p,Cs,_i,null,mi),ve());const En={};Y&64&&(En.documents=G[6]),A.$set(En),Y&2&&C.value!==G[1]&&We(C,G[1]),(!le||Y&20)&&M!==(M=(G[2]?G[4]:"Send")+"")&&ie(I,M),(!le||Y&2&&F!==(F="btnyousend "+(G[1]===""?"":"active")+" svelte-vgv4ev"))&&h(y,"class",F)},i(G){if(!le){P(t.$$.fragment,G);for(let Y=0;Y<B.length;Y+=1)P(m[Y]);P(A.$$.fragment,G),le=!0}},o(G){T(t.$$.fragment,G);for(let Y=0;Y<m.length;Y+=1)T(m[Y]);T(A.$$.fragment,G),le=!1},d(G){ee(t,G),G&&N(o),G&&N(r);for(let Y=0;Y<m.length;Y+=1)m[Y].d();ee(A),oe=!1,be(se)}}}function Qc(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}function vi(e){return e.rag_sources.length===0?"No Sources":e.rag_sources.join(", ")}function Kc(e,t,n){let o,r,i,l;ae(e,ze,E=>n(5,r=E)),ae(e,er,E=>n(16,i=E));let{feedback:a=!1}=t,{is_retrieval:s=!1}=t;const u=Fe([]);ae(e,u,E=>n(6,l=E));let f="",c="",g=!1,d=!1,p=[{label:"Answer",value:1,component:Xc},{label:"Modified Answer",value:2,component:Bc}];dt(()=>{_(),m()});async function m(){const C=await(await fetch("/retrieval/file/get")).json();console.log("data",C.files);const y=C.files.map((M,I)=>({id:String(I),name:M.name}));console.log("files",y),Oe(u,l=[...y],l)}async function _(){const $=(await(await fetch("/chat/rag_table/retrieve")).json()).rows;console.log("Got data from db",$);const y=$.map(M=>({id:M[0],question:M[1],answer:M[2],edited_answer:M[3],vote_status:M[4],rag_sources:M[5],source:M[6],source_content:M[7]}));Oe(ze,r=[...y],r)}const w=async E=>{E.preventDefault(),f=c,n(1,c=""),n(2,g=!0);const C=[...i];let $={id:r.length+1,question:f,answer:"Loading...",rag_sources:C,vote_status:"na",source:["Loading..."],source_content:["Loading..."]};Oe(ze,r=[...r,$],r);const y=s?await fetch("/retrieval/new_message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:f,file_names:C})}):await fetch(`/chat/${f}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:f})});if(y.ok){const M=await y.json();console.log("response data",M),$.answer=M.answer,$.source=M.source,$.source_content=M.source_content,ze.update(I=>(I[I.length-1]=$,I))}else{const M=await y.text();alert(M)}n(2,g=!1)};let b=0;setInterval(()=>{n(12,b=(b+1)%4)},200);function k(){n(3,d=!0)}function A(E){d=E,n(3,d)}function R(){c=this.value,n(1,c)}return e.$$set=E=>{"feedback"in E&&n(0,a=E.feedback),"is_retrieval"in E&&n(11,s=E.is_retrieval)},e.$$.update=()=>{e.$$.dirty&4096&&n(4,o=".".repeat(b).padEnd(3))},[a,c,g,d,o,r,l,u,p,w,k,s,b,A,R]}class Jc extends de{constructor(t){super(),pe(this,t,Kc,Yc,ce,{feedback:0,is_retrieval:11})}}function bi(e){let t,n;return t=new kr({props:{is_retrieval:e[1]}}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},p(o,r){const i={};r&2&&(i.is_retrieval=o[1]),t.$set(i)},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function wi(e){let t,n;return t=new kr({props:{feedback:!0,is_retrieval:e[1]}}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},p(o,r){const i={};r&2&&(i.is_retrieval=o[1]),t.$set(i)},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function yi(e){let t,n;return t=new Jc({props:{feedback:!0,is_retrieval:e[1]}}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},p(o,r){const i={};r&2&&(i.is_retrieval=o[1]),t.$set(i)},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function Si(e){let t,n,o,r;const i=[ed,Zc],l=[];function a(s,u){return s[1]?0:1}return t=a(e),n=l[t]=i[t](e),{c(){n.c(),o=Ee()},m(s,u){l[t].m(s,u),O(s,o,u),r=!0},p(s,u){let f=t;t=a(s),t===f?l[t].p(s,u):(_e(),T(l[f],1,1,()=>{l[f]=null}),ve(),n=l[t],n?n.p(s,u):(n=l[t]=i[t](s),n.c()),P(n,1),n.m(o.parentNode,o))},i(s){r||(P(n),r=!0)},o(s){T(n),r=!1},d(s){l[t].d(s),s&&N(o)}}}function Zc(e){let t,n;return t=new bc({}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},p:U,i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function ed(e){let t,n;return t=new kr({props:{feedback:!0,is_retrieval:e[1]}}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},p(o,r){const i={};r&2&&(i.is_retrieval=o[1]),t.$set(i)},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function td(e){let t,n,o,r,i,l=!e[0]&&bi(e),a=e[0]==="vote"&&wi(e),s=e[0]==="rag"&&yi(e),u=e[0]==="rank"&&Si(e);return{c(){l&&l.c(),t=D(),a&&a.c(),n=D(),s&&s.c(),o=D(),u&&u.c(),r=Ee()},m(f,c){l&&l.m(f,c),O(f,t,c),a&&a.m(f,c),O(f,n,c),s&&s.m(f,c),O(f,o,c),u&&u.m(f,c),O(f,r,c),i=!0},p(f,[c]){f[0]?l&&(_e(),T(l,1,1,()=>{l=null}),ve()):l?(l.p(f,c),c&1&&P(l,1)):(l=bi(f),l.c(),P(l,1),l.m(t.parentNode,t)),f[0]==="vote"?a?(a.p(f,c),c&1&&P(a,1)):(a=wi(f),a.c(),P(a,1),a.m(n.parentNode,n)):a&&(_e(),T(a,1,1,()=>{a=null}),ve()),f[0]==="rag"?s?(s.p(f,c),c&1&&P(s,1)):(s=yi(f),s.c(),P(s,1),s.m(o.parentNode,o)):s&&(_e(),T(s,1,1,()=>{s=null}),ve()),f[0]==="rank"?u?(u.p(f,c),c&1&&P(u,1)):(u=Si(f),u.c(),P(u,1),u.m(r.parentNode,r)):u&&(_e(),T(u,1,1,()=>{u=null}),ve())},i(f){i||(P(l),P(a),P(s),P(u),i=!0)},o(f){T(l),T(a),T(s),T(u),i=!1},d(f){l&&l.d(f),f&&N(t),a&&a.d(f),f&&N(n),s&&s.d(f),f&&N(o),u&&u.d(f),f&&N(r)}}}function nd(e,t,n){let{feedback:o}=t,{is_retrieval:r}=t;return e.$$set=i=>{"feedback"in i&&n(0,o=i.feedback),"is_retrieval"in i&&n(1,r=i.is_retrieval)},[o,r]}class od extends de{constructor(t){super(),pe(this,t,nd,td,ce,{feedback:0,is_retrieval:1})}}function Ci(e,t,n){const o=e.slice();return o[2]=t[n],o}function ki(e){let t,n=e[2]+"",o,r;return{c(){t=S("option"),o=z(n),t.__value=r=e[2],t.value=t.__value},m(i,l){O(i,t,l),v(t,o)},p(i,l){l&1&&n!==(n=i[2]+"")&&ie(o,n),l&1&&r!==(r=i[2])&&(t.__value=r,t.value=t.__value)},d(i){i&&N(t)}}}function rd(e){let t,n=e[0],o=[];for(let r=0;r<n.length;r+=1)o[r]=ki(Ci(e,n,r));return{c(){t=S("select");for(let r=0;r<o.length;r+=1)o[r].c()},m(r,i){O(r,t,i);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(t,null)},p(r,[i]){if(i&1){n=r[0];let l;for(l=0;l<n.length;l+=1){const a=Ci(r,n,l);o[l]?o[l].p(a,i):(o[l]=ki(a),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},i:U,o:U,d(r){r&&N(t),ke(o,r)}}}function id(e,t,n){let{data_endpoint:o}=t,r=[];return dt(async()=>{const i=await fetch(`/data/${o}`);n(0,r=await i.json())}),e.$$set=i=>{"data_endpoint"in i&&n(1,o=i.data_endpoint)},[r,o]}class ld extends de{constructor(t){super(),pe(this,t,id,rd,ce,{data_endpoint:1})}}function qt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sd(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hs(e){let t,n,o;e.length!==2?(t=qt,n=(a,s)=>qt(e(a),s),o=(a,s)=>e(a)-s):(t=e===qt||e===sd?e:ad,n=e,o=e);function r(a,s,u=0,f=a.length){if(u<f){if(t(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<0?u=c+1:f=c}while(u<f)}return u}function i(a,s,u=0,f=a.length){if(u<f){if(t(s,s)!==0)return f;do{const c=u+f>>>1;n(a[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function l(a,s,u=0,f=a.length){const c=r(a,s,u,f-1);return c>u&&o(a[c-1],s)>-o(a[c],s)?c-1:c}return{left:r,center:l,right:i}}function ad(){return 0}function ud(e){return e===null?NaN:+e}function*fd(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let o of e)(o=t(o,++n,e))!=null&&(o=+o)>=o&&(yield o)}}const cd=Hs(qt),dd=cd.right;Hs(ud).center;const qs=dd;function gd(e,t){let n=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&++n;else{let o=-1;for(let r of e)(r=t(r,++o,e))!=null&&(r=+r)>=r&&++n}return n}function fn(e,t){let n,o;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=o=r):(n>r&&(n=r),o<r&&(o=r)));else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n===void 0?i>=i&&(n=o=i):(n>i&&(n=i),o<i&&(o=i)))}return[n,o]}class $i extends Map{constructor(t,n=md){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[o,r]of t)this.set(o,r)}get(t){return super.get(Ai(this,t))}has(t){return super.has(Ai(this,t))}set(t,n){return super.set(hd(this,t),n)}delete(t){return super.delete(pd(this,t))}}function Ai({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):n}function hd({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function pd({_intern:e,_key:t},n){const o=t(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function md(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _d(e){return e}function vd(e=qt){if(e===qt)return Gs;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const o=e(t,n);return o||o===0?o:(e(n,n)===0)-(e(t,t)===0)}}function Gs(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var bd=Array.prototype,wd=bd.slice;function Fo(e){return()=>e}const yd=Math.sqrt(50),Sd=Math.sqrt(10),Cd=Math.sqrt(2);function to(e,t,n){const o=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(o)),i=o/Math.pow(10,r),l=i>=yd?10:i>=Sd?5:i>=Cd?2:1;let a,s,u;return r<0?(u=Math.pow(10,-r)/l,a=Math.round(e*u),s=Math.round(t*u),a/u<e&&++a,s/u>t&&--s,u=-u):(u=Math.pow(10,r)*l,a=Math.round(e/u),s=Math.round(t/u),a*u<e&&++a,s*u>t&&--s),s<a&&.5<=n&&n<2?to(e,t,n*2):[a,s,u]}function Bs(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const o=t<e,[r,i,l]=o?to(t,e,n):to(e,t,n);if(!(i>=r))return[];const a=i-r+1,s=new Array(a);if(o)if(l<0)for(let u=0;u<a;++u)s[u]=(i-u)/-l;else for(let u=0;u<a;++u)s[u]=(i-u)*l;else if(l<0)for(let u=0;u<a;++u)s[u]=(r+u)/-l;else for(let u=0;u<a;++u)s[u]=(r+u)*l;return s}function Ut(e,t,n){return t=+t,e=+e,n=+n,to(e,t,n)[2]}function kd(e,t,n){t=+t,e=+e,n=+n;const o=t<e,r=o?Ut(t,e,n):Ut(e,t,n);return(o?-1:1)*(r<0?1/-r:r)}function $d(e,t,n){let o;for(;;){const r=Ut(e,t,n);if(r===o||r===0||!isFinite(r))return[e,t];r>0?(e=Math.floor(e/r)*r,t=Math.ceil(t/r)*r):r<0&&(e=Math.ceil(e*r)/r,t=Math.floor(t*r)/r),o=r}}function Ad(e){return Math.max(1,Math.ceil(Math.log(gd(e))/Math.LN2)+1)}function js(){var e=_d,t=fn,n=Ad;function o(r){Array.isArray(r)||(r=Array.from(r));var i,l=r.length,a,s,u=new Array(l);for(i=0;i<l;++i)u[i]=e(r[i],i,r);var f=t(u),c=f[0],g=f[1],d=n(u,c,g);if(!Array.isArray(d)){const k=g,A=+d;if(t===fn&&([c,g]=$d(c,g,A)),d=Bs(c,g,A),d[0]<=c&&(s=Ut(c,g,A)),d[d.length-1]>=g)if(k>=g&&t===fn){const R=Ut(c,g,A);isFinite(R)&&(R>0?g=(Math.floor(g/R)+1)*R:R<0&&(g=(Math.ceil(g*-R)+1)/-R))}else d.pop()}for(var p=d.length,m=0,_=p;d[m]<=c;)++m;for(;d[_-1]>g;)--_;(m||_<p)&&(d=d.slice(m,_),p=_-m);var w=new Array(p+1),b;for(i=0;i<=p;++i)b=w[i]=[],b.x0=i>0?d[i-1]:c,b.x1=i<p?d[i]:g;if(isFinite(s)){if(s>0)for(i=0;i<l;++i)(a=u[i])!=null&&c<=a&&a<=g&&w[Math.min(p,Math.floor((a-c)/s))].push(r[i]);else if(s<0){for(i=0;i<l;++i)if((a=u[i])!=null&&c<=a&&a<=g){const k=Math.floor((c-a)*s);w[Math.min(p,k+(d[k]<=a))].push(r[i])}}}else for(i=0;i<l;++i)(a=u[i])!=null&&c<=a&&a<=g&&w[qs(d,a,0,p)].push(r[i]);return w}return o.value=function(r){return arguments.length?(e=typeof r=="function"?r:Fo(r),o):e},o.domain=function(r){return arguments.length?(t=typeof r=="function"?r:Fo([r[0],r[1]]),o):t},o.thresholds=function(r){return arguments.length?(n=typeof r=="function"?r:Fo(Array.isArray(r)?wd.call(r):r),o):n},o}function Mt(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let r of e)(r=t(r,++o,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Ri(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n>o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let r of e)(r=t(r,++o,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function Us(e,t,n=0,o=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),o=Math.floor(Math.min(e.length-1,o)),!(n<=t&&t<=o))return e;for(r=r===void 0?Gs:vd(r);o>n;){if(o-n>600){const s=o-n+1,u=t-n+1,f=Math.log(s),c=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*c*(s-c)/s)*(u-s/2<0?-1:1),d=Math.max(n,Math.floor(t-u*c/s+g)),p=Math.min(o,Math.floor(t+(s-u)*c/s+g));Us(e,t,d,p,r)}const i=e[t];let l=n,a=o;for(en(e,n,t),r(e[o],i)>0&&en(e,n,o);l<a;){for(en(e,l,a),++l,--a;r(e[l],i)<0;)++l;for(;r(e[a],i)>0;)--a}r(e[n],i)===0?en(e,n,a):(++a,en(e,a,o)),a<=t&&(n=a+1),t<=a&&(o=a-1)}return e}function en(e,t,n){const o=e[t];e[t]=e[n],e[n]=o}function Rd(e,t,n){if(e=Float64Array.from(fd(e,n)),!(!(o=e.length)||isNaN(t=+t))){if(t<=0||o<2)return Ri(e);if(t>=1)return Mt(e);var o,r=(o-1)*t,i=Math.floor(r),l=Mt(Us(e,i).subarray(0,i+1)),a=Ri(e.subarray(i+1));return l+(a-l)*(r-i)}}function Md(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var o=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(r);++o<r;)i[o]=e+o*n;return i}function Ed(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function no(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,o=e.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+e.slice(n+1)]}function Wt(e){return e=no(Math.abs(e)),e?e[1]:NaN}function Fd(e,t){return function(n,o){for(var r=n.length,i=[],l=0,a=e[0],s=0;r>0&&a>0&&(s+a+1>o&&(a=Math.max(1,o-s)),i.push(n.substring(r-=a,r+a)),!((s+=a+1)>o));)a=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Dd(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Id=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oo(e){if(!(t=Id.exec(e)))throw new Error("invalid format: "+e);var t;return new $r({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}oo.prototype=$r.prototype;function $r(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nd(e){e:for(var t=e.length,n=1,o=-1,r;n<t;++n)switch(e[n]){case".":o=r=n;break;case"0":o===0&&(o=n),r=n;break;default:if(!+e[n])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(r+1):e}var Ws;function Pd(e,t){var n=no(e,t);if(!n)return e+"";var o=n[0],r=n[1],i=r-(Ws=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=o.length;return i===l?o:i>l?o+new Array(i-l+1).join("0"):i>0?o.slice(0,i)+"."+o.slice(i):"0."+new Array(1-i).join("0")+no(e,Math.max(0,t+i-1))[0]}function Mi(e,t){var n=no(e,t);if(!n)return e+"";var o=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+o:o.length>r+1?o.slice(0,r+1)+"."+o.slice(r+1):o+new Array(r-o.length+2).join("0")}const Ei={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ed,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Mi(e*100,t),r:Mi,s:Pd,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Fi(e){return e}var Di=Array.prototype.map,Ii=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Od(e){var t=e.grouping===void 0||e.thousands===void 0?Fi:Fd(Di.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Fi:Dd(Di.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(c){c=oo(c);var g=c.fill,d=c.align,p=c.sign,m=c.symbol,_=c.zero,w=c.width,b=c.comma,k=c.precision,A=c.trim,R=c.type;R==="n"?(b=!0,R="g"):Ei[R]||(k===void 0&&(k=12),A=!0,R="g"),(_||g==="0"&&d==="=")&&(_=!0,g="0",d="=");var E=m==="$"?n:m==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",C=m==="$"?o:/[%p]/.test(R)?l:"",$=Ei[R],y=/[defgprs%]/.test(R);k=k===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function M(I){var F=E,x=C,q,le,oe;if(R==="c")x=$(I)+x,I="";else{I=+I;var se=I<0||1/I<0;if(I=isNaN(I)?s:$(Math.abs(I),k),A&&(I=Nd(I)),se&&+I==0&&p!=="+"&&(se=!1),F=(se?p==="("?p:a:p==="-"||p==="("?"":p)+F,x=(R==="s"?Ii[8+Ws/3]:"")+x+(se&&p==="("?")":""),y){for(q=-1,le=I.length;++q<le;)if(oe=I.charCodeAt(q),48>oe||oe>57){x=(oe===46?r+I.slice(q+1):I.slice(q))+x,I=I.slice(0,q);break}}}b&&!_&&(I=t(I,1/0));var ge=F.length+I.length+x.length,L=ge<w?new Array(w-ge+1).join(g):"";switch(b&&_&&(I=t(L+I,L.length?w-x.length:1/0),L=""),d){case"<":I=F+I+x+L;break;case"=":I=F+L+I+x;break;case"^":I=L.slice(0,ge=L.length>>1)+F+I+x+L.slice(ge);break;default:I=L+F+I+x;break}return i(I)}return M.toString=function(){return c+""},M}function f(c,g){var d=u((c=oo(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Wt(g)/3)))*3,m=Math.pow(10,-p),_=Ii[8+p/3];return function(w){return d(m*w)+_}}return{format:u,formatPrefix:f}}var In,Dt,Xs;Td({thousands:",",grouping:[3],currency:["$",""]});function Td(e){return In=Od(e),Dt=In.format,Xs=In.formatPrefix,In}function xd(e){return Math.max(0,-Wt(Math.abs(e)))}function Vd(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wt(t)/3)))*3-Wt(Math.abs(e)))}function zd(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wt(t)-Wt(e))+1}function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Ni=Symbol("implicit");function yo(){var e=new $i,t=[],n=[],o=Ni;function r(i){let l=e.get(i);if(l===void 0){if(o!==Ni)return o;e.set(i,l=t.push(i)-1)}return n[l%n.length]}return r.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new $i;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return r},r.range=function(i){return arguments.length?(n=Array.from(i),r):n.slice()},r.unknown=function(i){return arguments.length?(o=i,r):o},r.copy=function(){return yo(t,n).unknown(o)},Ar.apply(r,arguments),r}function Rr(){var e=yo().unknown(void 0),t=e.domain,n=e.range,o=0,r=1,i,l,a=!1,s=0,u=0,f=.5;delete e.unknown;function c(){var g=t().length,d=r<o,p=d?r:o,m=d?o:r;i=(m-p)/Math.max(1,g-s+u*2),a&&(i=Math.floor(i)),p+=(m-p-i*(g-s))*f,l=i*(1-s),a&&(p=Math.round(p),l=Math.round(l));var _=Md(g).map(function(w){return p+i*w});return n(d?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),c()):t()},e.range=function(g){return arguments.length?([o,r]=g,o=+o,r=+r,c()):[o,r]},e.rangeRound=function(g){return[o,r]=g,o=+o,r=+r,a=!0,c()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(a=!!g,c()):a},e.padding=function(g){return arguments.length?(s=Math.min(1,u=+g),c()):s},e.paddingInner=function(g){return arguments.length?(s=Math.min(1,g),c()):s},e.paddingOuter=function(g){return arguments.length?(u=+g,c()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),c()):f},e.copy=function(){return Rr(t(),[o,r]).round(a).paddingInner(s).paddingOuter(u).align(f)},Ar.apply(c(),arguments)}function Mr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ys(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function An(){}var Sn=.7,ro=1/Sn,Gt="\\s*([+-]?\\d+)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ld=/^#([0-9a-f]{3,8})$/,Hd=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),qd=new RegExp(`^rgb\\(${ot},${ot},${ot}\\)$`),Gd=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${Cn}\\)$`),Bd=new RegExp(`^rgba\\(${ot},${ot},${ot},${Cn}\\)$`),jd=new RegExp(`^hsl\\(${Cn},${ot},${ot}\\)$`),Ud=new RegExp(`^hsla\\(${Cn},${ot},${ot},${Cn}\\)$`),Pi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mr(An,kn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Oi,formatHex:Oi,formatHex8:Wd,formatHsl:Xd,formatRgb:Ti,toString:Ti});function Oi(){return this.rgb().formatHex()}function Wd(){return this.rgb().formatHex8()}function Xd(){return Qs(this).formatHsl()}function Ti(){return this.rgb().formatRgb()}function kn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ld.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xi(t):n===3?new Le(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hd.exec(e))?new Le(t[1],t[2],t[3],1):(t=qd.exec(e))?new Le(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Gd.exec(e))?Nn(t[1],t[2],t[3],t[4]):(t=Bd.exec(e))?Nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jd.exec(e))?Li(t[1],t[2]/100,t[3]/100,1):(t=Ud.exec(e))?Li(t[1],t[2]/100,t[3]/100,t[4]):Pi.hasOwnProperty(e)?xi(Pi[e]):e==="transparent"?new Le(NaN,NaN,NaN,0):null}function xi(e){return new Le(e>>16&255,e>>8&255,e&255,1)}function Nn(e,t,n,o){return o<=0&&(e=t=n=NaN),new Le(e,t,n,o)}function Yd(e){return e instanceof An||(e=kn(e)),e?(e=e.rgb(),new Le(e.r,e.g,e.b,e.opacity)):new Le}function or(e,t,n,o){return arguments.length===1?Yd(e):new Le(e,t,n,o??1)}function Le(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Mr(Le,or,Ys(An,{brighter(e){return e=e==null?ro:Math.pow(ro,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sn:Math.pow(Sn,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Le(Rt(this.r),Rt(this.g),Rt(this.b),io(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vi,formatHex:Vi,formatHex8:Qd,formatRgb:zi,toString:zi}));function Vi(){return`#${$t(this.r)}${$t(this.g)}${$t(this.b)}`}function Qd(){return`#${$t(this.r)}${$t(this.g)}${$t(this.b)}${$t((isNaN(this.opacity)?1:this.opacity)*255)}`}function zi(){const e=io(this.opacity);return`${e===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${e===1?")":`, ${e})`}`}function io(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $t(e){return e=Rt(e),(e<16?"0":"")+e.toString(16)}function Li(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qe(e,t,n,o)}function Qs(e){if(e instanceof Qe)return new Qe(e.h,e.s,e.l,e.opacity);if(e instanceof An||(e=kn(e)),!e)return new Qe;if(e instanceof Qe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),l=NaN,a=i-r,s=(i+r)/2;return a?(t===i?l=(n-o)/a+(n<o)*6:n===i?l=(o-t)/a+2:l=(t-n)/a+4,a/=s<.5?i+r:2-i-r,l*=60):a=s>0&&s<1?0:l,new Qe(l,a,s,e.opacity)}function Kd(e,t,n,o){return arguments.length===1?Qs(e):new Qe(e,t,n,o??1)}function Qe(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Mr(Qe,Kd,Ys(An,{brighter(e){return e=e==null?ro:Math.pow(ro,e),new Qe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sn:Math.pow(Sn,e),new Qe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Le(Do(e>=240?e-240:e+120,r,o),Do(e,r,o),Do(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Qe(Hi(this.h),Pn(this.s),Pn(this.l),io(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=io(this.opacity);return`${e===1?"hsl(":"hsla("}${Hi(this.h)}, ${Pn(this.s)*100}%, ${Pn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Hi(e){return e=(e||0)%360,e<0?e+360:e}function Pn(e){return Math.max(0,Math.min(1,e||0))}function Do(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Er=e=>()=>e;function Jd(e,t){return function(n){return e+n*t}}function Zd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function eg(e){return(e=+e)==1?Ks:function(t,n){return n-t?Zd(t,n,e):Er(isNaN(t)?n:t)}}function Ks(e,t){var n=t-e;return n?Jd(e,n):Er(isNaN(e)?t:e)}const qi=function e(t){var n=eg(t);function o(r,i){var l=n((r=or(r)).r,(i=or(i)).r),a=n(r.g,i.g),s=n(r.b,i.b),u=Ks(r.opacity,i.opacity);return function(f){return r.r=l(f),r.g=a(f),r.b=s(f),r.opacity=u(f),r+""}}return o.gamma=e,o}(1);function tg(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),r;return function(i){for(r=0;r<n;++r)o[r]=e[r]*(1-i)+t[r]*i;return o}}function ng(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function og(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,r=new Array(o),i=new Array(n),l;for(l=0;l<o;++l)r[l]=So(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(a){for(l=0;l<o;++l)i[l]=r[l](a);return i}}function rg(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function lo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ig(e,t){var n={},o={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=So(e[r],t[r]):o[r]=t[r];return function(i){for(r in n)o[r]=n[r](i);return o}}var rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Io=new RegExp(rr.source,"g");function lg(e){return function(){return e}}function sg(e){return function(t){return e(t)+""}}function ag(e,t){var n=rr.lastIndex=Io.lastIndex=0,o,r,i,l=-1,a=[],s=[];for(e=e+"",t=t+"";(o=rr.exec(e))&&(r=Io.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),a[l]?a[l]+=i:a[++l]=i),(o=o[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,s.push({i:l,x:lo(o,r)})),n=Io.lastIndex;return n<t.length&&(i=t.slice(n),a[l]?a[l]+=i:a[++l]=i),a.length<2?s[0]?sg(s[0].x):lg(t):(t=s.length,function(u){for(var f=0,c;f<t;++f)a[(c=s[f]).i]=c.x(u);return a.join("")})}function So(e,t){var n=typeof t,o;return t==null||n==="boolean"?Er(t):(n==="number"?lo:n==="string"?(o=kn(t))?(t=o,qi):ag:t instanceof kn?qi:t instanceof Date?rg:ng(t)?tg:Array.isArray(t)?og:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ig:lo)(e,t)}function ug(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function fg(e){return function(){return e}}function cg(e){return+e}var Gi=[0,1];function Vt(e){return e}function ir(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:fg(isNaN(t)?NaN:.5)}function dg(e,t){var n;return e>t&&(n=e,e=t,t=n),function(o){return Math.max(e,Math.min(t,o))}}function gg(e,t,n){var o=e[0],r=e[1],i=t[0],l=t[1];return r<o?(o=ir(r,o),i=n(l,i)):(o=ir(o,r),i=n(i,l)),function(a){return i(o(a))}}function hg(e,t,n){var o=Math.min(e.length,t.length)-1,r=new Array(o),i=new Array(o),l=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<o;)r[l]=ir(e[l],e[l+1]),i[l]=n(t[l],t[l+1]);return function(a){var s=qs(e,a,1,o)-1;return i[s](r[s](a))}}function pg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mg(){var e=Gi,t=Gi,n=So,o,r,i,l=Vt,a,s,u;function f(){var g=Math.min(e.length,t.length);return l!==Vt&&(l=dg(e[0],e[g-1])),a=g>2?hg:gg,s=u=null,c}function c(g){return g==null||isNaN(g=+g)?i:(s||(s=a(e.map(o),t,n)))(o(l(g)))}return c.invert=function(g){return l(r((u||(u=a(t,e.map(o),lo)))(g)))},c.domain=function(g){return arguments.length?(e=Array.from(g,cg),f()):e.slice()},c.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},c.rangeRound=function(g){return t=Array.from(g),n=ug,f()},c.clamp=function(g){return arguments.length?(l=g?!0:Vt,f()):l!==Vt},c.interpolate=function(g){return arguments.length?(n=g,f()):n},c.unknown=function(g){return arguments.length?(i=g,c):i},function(g,d){return o=g,r=d,f()}}function _g(){return mg()(Vt,Vt)}function vg(e,t,n,o){var r=kd(e,t,n),i;switch(o=oo(o??",f"),o.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(i=Vd(r,l))&&(o.precision=i),Xs(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(i=zd(r,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=i-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(i=xd(r))&&(o.precision=i-(o.type==="%")*2);break}}return Dt(o)}function bg(e){var t=e.domain;return e.ticks=function(n){var o=t();return Bs(o[0],o[o.length-1],n??10)},e.tickFormat=function(n,o){var r=t();return vg(r[0],r[r.length-1],n??10,o)},e.nice=function(n){n==null&&(n=10);var o=t(),r=0,i=o.length-1,l=o[r],a=o[i],s,u,f=10;for(a<l&&(u=l,l=a,a=u,u=r,r=i,i=u);f-- >0;){if(u=Ut(l,a,n),u===s)return o[r]=l,o[i]=a,t(o);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;s=u}return e},e}function Ke(){var e=_g();return e.copy=function(){return pg(e,Ke())},Ar.apply(e,arguments),bg(e)}function On(e){return function(){return e}}function wg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lr(e,t){if((l=e.length)>1)for(var n=1,o,r,i=e[t[0]],l,a=i.length;n<l;++n)for(r=i,i=e[t[n]],o=0;o<a;++o)i[o][1]+=i[o][0]=isNaN(r[o][1])?r[o][0]:r[o][1]}function sr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function yg(e,t){return e[t]}function Sg(e){const t=[];return t.key=e,t}function Cg(){var e=On([]),t=sr,n=lr,o=yg;function r(i){var l=Array.from(e.apply(this,arguments),Sg),a,s=l.length,u=-1,f;for(const c of i)for(a=0,++u;a<s;++a)(l[a][u]=[0,+o(c,l[a].key,u,i)]).data=c;for(a=0,f=wg(t(l));a<s;++a)l[f[a]].index=a;return n(l,f),l}return r.keys=function(i){return arguments.length?(e=typeof i=="function"?i:On(Array.from(i)),r):e},r.value=function(i){return arguments.length?(o=typeof i=="function"?i:On(+i),r):o},r.order=function(i){return arguments.length?(t=i==null?sr:typeof i=="function"?i:On(Array.from(i)),r):t},r.offset=function(i){return arguments.length?(n=i??lr,r):n},r}function Bi(e,t,n){const o=e.slice();return o[21]=t[n],o[23]=n,o}function ji(e,t,n){const o=e.slice();o[24]=t[n];const r=o[4][o[21].key];return o[25]=r,o}function Ui(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p,m=e[21].key+"",_,w,b=e[11](e[25]/e[2])+"",k,A,R,E,C,$;return{c(){t=K("rect"),u=K("line"),p=K("text"),_=z(m),w=K("tspan"),k=z(b),R=D(),h(t,"class",n="horizontal-bar-rect "+(e[5]===e[23]?"selected":"unselected")+" svelte-tg5p7i"),h(t,"y",o=e[8](e[24].data.xVal)),h(t,"x",r=e[7](e[24][0])),h(t,"stroke","var(--black)"),h(t,"width",i=e[7](e[24][1])-e[7](e[24][0])),h(t,"fill",l=e[10](e[21].key)),h(t,"opacity",a=e[5]==="all"||e[5]===e[23]?"1":"0.25"),h(t,"height",s=e[8].bandwidth()),h(u,"class","line svelte-tg5p7i"),h(u,"x1",f=e[7](e[24][0])),h(u,"x2",c=e[7](e[24][0])),h(u,"y1",g=e[8](e[24].data.xVal)-mt),h(u,"y2",d=e[8].bandwidth()+e[8](e[24].data.xVal)+mt),h(u,"stroke","black"),h(w,"x",A=(e[7](e[24][0])+e[7](e[24][1]))/2),h(w,"dy","16"),h(w,"text-anchor","middle"),h(p,"class","horizontal-bar-text svelte-tg5p7i"),h(p,"y",E=e[8].bandwidth()/2),h(p,"x",C=(e[7](e[24][0])+e[7](e[24][1]))/2),h(p,"opacity",$=e[5]==="all"||e[5]===e[23]?"1":"0.25"),h(p,"text-anchor","middle")},m(y,M){O(y,t,M),O(y,u,M),O(y,p,M),v(p,_),v(p,w),v(w,k),v(p,R)},p(y,M){M&32&&n!==(n="horizontal-bar-rect "+(y[5]===y[23]?"selected":"unselected")+" svelte-tg5p7i")&&h(t,"class",n),M&320&&o!==(o=y[8](y[24].data.xVal))&&h(t,"y",o),M&192&&r!==(r=y[7](y[24][0]))&&h(t,"x",r),M&192&&i!==(i=y[7](y[24][1])-y[7](y[24][0]))&&h(t,"width",i),M&64&&l!==(l=y[10](y[21].key))&&h(t,"fill",l),M&32&&a!==(a=y[5]==="all"||y[5]===y[23]?"1":"0.25")&&h(t,"opacity",a),M&256&&s!==(s=y[8].bandwidth())&&h(t,"height",s),M&192&&f!==(f=y[7](y[24][0]))&&h(u,"x1",f),M&192&&c!==(c=y[7](y[24][0]))&&h(u,"x2",c),M&320&&g!==(g=y[8](y[24].data.xVal)-mt)&&h(u,"y1",g),M&320&&d!==(d=y[8].bandwidth()+y[8](y[24].data.xVal)+mt)&&h(u,"y2",d),M&64&&m!==(m=y[21].key+"")&&ie(_,m),M&84&&b!==(b=y[11](y[25]/y[2])+"")&&ie(k,b),M&192&&A!==(A=(y[7](y[24][0])+y[7](y[24][1]))/2)&&h(w,"x",A),M&256&&E!==(E=y[8].bandwidth()/2)&&h(p,"y",E),M&192&&C!==(C=(y[7](y[24][0])+y[7](y[24][1]))/2)&&h(p,"x",C),M&32&&$!==($=y[5]==="all"||y[5]===y[23]?"1":"0.25")&&h(p,"opacity",$)},d(y){y&&N(t),y&&N(u),y&&N(p)}}}function Wi(e){let t,n,o,r,i,l,a,s,u=e[21],f=[];for(let d=0;d<u.length;d+=1)f[d]=Ui(ji(e,u,d));function c(){return e[17](e[23],e[21])}function g(){return e[18](e[23],e[21])}return{c(){t=K("g");for(let d=0;d<f.length;d+=1)f[d].c();n=K("line"),h(n,"class","line svelte-tg5p7i"),h(n,"x1",o=e[3]-e[9].right),h(n,"x2",r=e[3]-e[9].right),h(n,"y1",i=e[8]("A")-mt),h(n,"y2",l=e[8].bandwidth()+e[8]("A")+mt),h(n,"stroke","black"),h(t,"class","series svelte-tg5p7i"),h(t,"role","button"),h(t,"tabindex","0")},m(d,p){O(d,t,p);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(t,null);v(t,n),a||(s=[j(t,"click",c),j(t,"keypress",g)],a=!0)},p(d,p){if(e=d,p&3572){u=e[21];let m;for(m=0;m<u.length;m+=1){const _=ji(e,u,m);f[m]?f[m].p(_,p):(f[m]=Ui(_),f[m].c(),f[m].m(t,n))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}p&8&&o!==(o=e[3]-e[9].right)&&h(n,"x1",o),p&8&&r!==(r=e[3]-e[9].right)&&h(n,"x2",r),p&256&&i!==(i=e[8]("A")-mt)&&h(n,"y1",i),p&256&&l!==(l=e[8].bandwidth()+e[8]("A")+mt)&&h(n,"y2",l)},d(d){d&&N(t),ke(f,d),a=!1,be(s)}}}function kg(e){let t,n,o,r,i,l=e[6],a=[];for(let s=0;s<l.length;s+=1)a[s]=Wi(Bi(e,l,s));return{c(){t=S("div"),t.innerHTML="<p>Feedback Distribution</p>",n=D(),o=S("div"),r=K("svg");for(let s=0;s<a.length;s+=1)a[s].c();h(r,"width",e[1]),h(r,"height",e[0]),h(o,"id","stackedrect-holder"),h(o,"class","svelte-tg5p7i"),Re(()=>e[19].call(o))},m(s,u){O(s,t,u),O(s,n,u),O(s,o,u),v(o,r);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(r,null);i=Ft(o,e[19].bind(o))},p(s,[u]){if(u&8188){l=s[6];let f;for(f=0;f<l.length;f+=1){const c=Bi(s,l,f);a[f]?a[f].p(c,u):(a[f]=Wi(c),a[f].c(),a[f].m(r,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}u&2&&h(r,"width",s[1]),u&1&&h(r,"height",s[0])},i:U,o:U,d(s){s&&N(t),s&&N(n),s&&N(o),ke(a,s),i()}}}const mt=5;function $g(e,t,n){let o,r,i,l,a,s,u,f,c,g,d;ae(e,it,$=>n(15,c=$)),ae(e,jr,$=>n(4,g=$)),ae(e,ze,$=>n(16,d=$));let p=300,m=300;const _={up:2,down:1,"n/a":0,all:"all"},w={top:10,bottom:10,left:25,right:5},b=yo().range(["var(--yellow)","var(--red)","var(--green)"]),k=Dt(".0%");function A($,y){o===$?n(5,o="all"):n(5,o=$),Oe(it,c=o==="all"?"all":y,c)}const R=($,y)=>A($,y.key),E=($,y)=>A($,y.key);function C(){m=this.offsetWidth,p=this.offsetHeight,n(1,m),n(0,p)}return e.$$.update=()=>{e.$$.dirty&32768&&n(5,o=_[c]),e.$$.dirty&2&&n(3,r=m-w.left-w.right),e.$$.dirty&1&&n(14,i=p-w.top-w.bottom),e.$$.dirty&65552&&d.forEach($=>{Oe(jr,g[$.vote_status]++,g)}),e.$$.dirty&16&&n(2,l=g.up+g.down+g["n/a"]),e.$$.dirty&16384&&n(8,a=Rr().rangeRound([w.top,i-w.bottom]).padding(0).domain(["a"])),e.$$.dirty&12&&n(7,s=Ke().rangeRound([w.left,r-w.right]).domain([0,l])),e.$$.dirty&8208&&n(6,f=u([g]))},n(13,u=Cg().keys(["n/a","down","up"]).order(sr).offset(lr)),[p,m,l,r,g,o,f,s,a,w,b,k,A,u,i,c,d,R,E,C]}class Js extends de{constructor(t){super(),pe(this,t,$g,kg,ce,{})}}function Ag(e){let t,n,o,r,i,l,a,s,u,f,c,g=e[3][e[2]]+"",d,p;return{c(){t=S("div"),n=S("div"),o=z("Q: "),r=z(e[0]),i=D(),l=S("div"),a=z("A: "),s=z(e[1]),u=D(),f=S("div"),c=z("Rating: "),d=z(g),h(n,"class","question svelte-szi0e"),h(l,"class","answer svelte-szi0e"),h(f,"class",p="feedback "+e[2]+" svelte-szi0e"),h(t,"class","qa-card svelte-szi0e")},m(m,_){O(m,t,_),v(t,n),v(n,o),v(n,r),v(t,i),v(t,l),v(l,a),v(l,s),v(t,u),v(t,f),v(f,c),v(f,d)},p(m,[_]){_&1&&ie(r,m[0]),_&2&&ie(s,m[1]),_&4&&g!==(g=m[3][m[2]]+"")&&ie(d,g),_&4&&p!==(p="feedback "+m[2]+" svelte-szi0e")&&h(f,"class",p)},i:U,o:U,d(m){m&&N(t)}}}function Rg(e,t,n){let{question:o="What is gradient descent?"}=t,{answer:r="Gradient descent is an algorithm used to minimize a loss function by taking small steps in the direction of steepest descent."}=t,{feedback:i="Good: 👍"}=t;const l={up:"Good 👍",down:"Bad 👎","n/a":"No Rating",all:"All"};return e.$$set=a=>{"question"in a&&n(0,o=a.question),"answer"in a&&n(1,r=a.answer),"feedback"in a&&n(2,i=a.feedback)},[o,r,i,l]}class Mg extends de{constructor(t){super(),pe(this,t,Rg,Ag,ce,{question:0,answer:1,feedback:2})}}function Xi(e,t,n){const o=e.slice();return o[5]=t[n].question,o[6]=t[n].answer,o[7]=t[n].vote_status,o}function Yi(e){let t,n,o,r,i;return n=new Mg({props:{question:e[5],answer:e[6],feedback:e[7]}}),{c(){t=S("div"),ne(n.$$.fragment),o=D()},m(l,a){O(l,t,a),Z(n,t,null),v(t,o),i=!0},p(l,a){const s={};a&1&&(s.question=l[5]),a&1&&(s.answer=l[6]),a&1&&(s.feedback=l[7]),n.$set(s)},i(l){i||(P(n.$$.fragment,l),l&&Re(()=>{i&&(r||(r=tt(t,e[1],{duration:300},!0)),r.run(1))}),i=!0)},o(l){T(n.$$.fragment,l),l&&(r||(r=tt(t,e[1],{duration:300},!1)),r.run(0)),i=!1},d(l){l&&N(t),ee(n),l&&r&&r.end()}}}function Eg(e){let t,n,o=e[0],r=[];for(let l=0;l<o.length;l+=1)r[l]=Yi(Xi(e,o,l));const i=l=>T(r[l],1,1,()=>{r[l]=null});return{c(){t=S("div");for(let l=0;l<r.length;l+=1)r[l].c();h(t,"class","qa-container svelte-1xv9cfi")},m(l,a){O(l,t,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(t,null);n=!0},p(l,[a]){if(a&1){o=l[0];let s;for(s=0;s<o.length;s+=1){const u=Xi(l,o,s);r[s]?(r[s].p(u,a),P(r[s],1)):(r[s]=Yi(u),r[s].c(),P(r[s],1),r[s].m(t,null))}for(_e(),s=o.length;s<r.length;s+=1)i(s);ve()}},i(l){if(!n){for(let a=0;a<o.length;a+=1)P(r[a]);n=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)T(r[a]);n=!1},d(l){l&&N(t),ke(r,l)}}}function Fg(e,t,n){let o,r,i,l;ae(e,Zo,s=>n(4,r=s)),ae(e,it,s=>n(2,i=s)),ae(e,wn,s=>n(3,l=s));const a=(s,{delay:u=0,duration:f=1e3,easing:c=wr})=>yn(s,{delay:u,duration:f,easing:c});return e.$$.update=()=>{e.$$.dirty&12&&n(0,o=i==="all"?l:l.filter(s=>s.vote_status===i)),e.$$.dirty&1&&Oe(Zo,r=Cc(o),r)},[o,a,i,l]}class Zs extends de{constructor(t){super(),pe(this,t,Fg,Eg,ce,{})}}function Qi(e,t,n){const o=e.slice();return o[13]=t[n],o}function Ki(e,t,n){const o=e.slice();return o[16]=t[n],o}function Ji(e,t,n){const o=e.slice();return o[16]=t[n],o}function Zi(e){let t,n,o,r,i=e[16]+"",l,a;return{c(){t=K("g"),n=K("line"),r=K("text"),l=z(i),h(n,"class","axis-tick svelte-1oikip4"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",o=-e[2]+e[10].bottom+e[10].top),h(n,"stroke","var(--squidink)"),h(n,"stroke-dasharray","4"),h(r,"class","axis-text svelte-1oikip4"),h(r,"y","15"),h(r,"text-anchor","middle"),h(t,"transform",a=`translate(${e[6](e[16])+e[6].bandwidth()/2} ${e[2]-e[10].bottom})`)},m(s,u){O(s,t,u),v(t,n),v(t,r),v(r,l)},p(s,u){u&4&&o!==(o=-s[2]+s[10].bottom+s[10].top)&&h(n,"y2",o),u&16&&i!==(i=s[16]+"")&&ie(l,i),u&84&&a!==(a=`translate(${s[6](s[16])+s[6].bandwidth()/2} ${s[2]-s[10].bottom})`)&&h(t,"transform",a)},d(s){s&&N(t)}}}function el(e){let t,n,o,r;return{c(){t=K("g"),n=K("line"),h(n,"class","axis-tick svelte-1oikip4"),h(n,"x1",0),h(n,"x2",o=e[3]-e[10].right-e[10].left),h(n,"y1","0"),h(n,"y2","0"),h(n,"stroke","black"),h(t,"transform",r=`translate(${e[10].left} ${e[5](e[16])+0})`)},m(i,l){O(i,t,l),v(t,n)},p(i,l){l&8&&o!==(o=i[3]-i[10].right-i[10].left)&&h(n,"x2",o),l&32&&r!==(r=`translate(${i[10].left} ${i[5](i[16])+0})`)&&h(t,"transform",r)},d(i){i&&N(t)}}}function tl(e){let t,n,o,r,i,l,a,s,u=Math.round(e[11](e[13].count))+"",f,c,g;return{c(){t=K("g"),n=K("rect"),s=K("text"),f=z(u),h(n,"x",o=e[6](e[13].question)),h(n,"y",r=e[5](e[13].count)),h(n,"height",i=e[2]-e[5](e[13].count)-e[10].bottom),h(n,"fill",l=e[9][e[7]]),h(n,"fill-opacity","0.95"),h(n,"width",a=e[6].bandwidth()),h(n,"class","svelte-1oikip4"),h(s,"class","axis-text svelte-1oikip4"),h(s,"x",c=e[6](e[13].question)+e[6].bandwidth()/2),h(s,"y",g=e[5](e[13].count)-5),h(s,"text-anchor","middle"),h(t,"class","series")},m(d,p){O(d,t,p),v(t,n),v(t,s),v(s,f)},p(d,p){p&80&&o!==(o=d[6](d[13].question))&&h(n,"x",o),p&48&&r!==(r=d[5](d[13].count))&&h(n,"y",r),p&52&&i!==(i=d[2]-d[5](d[13].count)-d[10].bottom)&&h(n,"height",i),p&128&&l!==(l=d[9][d[7]])&&h(n,"fill",l),p&64&&a!==(a=d[6].bandwidth())&&h(n,"width",a),p&16&&u!==(u=Math.round(d[11](d[13].count))+"")&&ie(f,u),p&80&&c!==(c=d[6](d[13].question)+d[6].bandwidth()/2)&&h(s,"x",c),p&48&&g!==(g=d[5](d[13].count)-5)&&h(s,"y",g)},d(d){d&&N(t)}}}function Dg(e){let t,n,o,r,i,l,a=e[8][e[7]]+"",s,u,f,c,g,d,p,m,_,w=e[4].map(nl),b=[];for(let C=0;C<w.length;C+=1)b[C]=Zi(Ji(e,w,C));let k=e[5].ticks(),A=[];for(let C=0;C<k.length;C+=1)A[C]=el(Ki(e,k,C));let R=e[4],E=[];for(let C=0;C<R.length;C+=1)E[C]=tl(Qi(e,R,C));return{c(){t=S("div"),n=K("svg");for(let C=0;C<b.length;C+=1)b[C].c();o=Ee();for(let C=0;C<A.length;C+=1)A[C].c();r=Ee();for(let C=0;C<E.length;C+=1)E[C].c();i=K("text"),l=z("Question Type: "),s=z(a),f=K("line"),p=K("line"),h(i,"class","chart-title svelte-1oikip4"),h(i,"y",e[10].top/2+1),h(i,"x",u=(e[3]+e[10].left)/2),h(i,"text-anchor","middle"),h(f,"class","axis-line svelte-1oikip4"),h(f,"x1",e[10].left),h(f,"x2",c=e[3]-e[10].right),h(f,"y1",g=e[2]-e[10].bottom),h(f,"y2",d=e[2]-e[10].bottom),h(p,"class","axis-line svelte-1oikip4"),h(p,"x1",e[10].left),h(p,"x2",e[10].left),h(p,"y1",e[10].top),h(p,"y2",m=e[2]-e[10].bottom),h(p,"opacity","0"),h(n,"width",e[1]),h(n,"height",e[0]),h(t,"id","stackedrect-holder"),h(t,"class","svelte-1oikip4"),Re(()=>e[12].call(t))},m(C,$){O(C,t,$),v(t,n);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(n,null);v(n,o);for(let y=0;y<A.length;y+=1)A[y]&&A[y].m(n,null);v(n,r);for(let y=0;y<E.length;y+=1)E[y]&&E[y].m(n,null);v(n,i),v(i,l),v(i,s),v(n,f),v(n,p),_=Ft(t,e[12].bind(t))},p(C,[$]){if($&1108){w=C[4].map(nl);let y;for(y=0;y<w.length;y+=1){const M=Ji(C,w,y);b[y]?b[y].p(M,$):(b[y]=Zi(M),b[y].c(),b[y].m(n,o))}for(;y<b.length;y+=1)b[y].d(1);b.length=w.length}if($&1064){k=C[5].ticks();let y;for(y=0;y<k.length;y+=1){const M=Ki(C,k,y);A[y]?A[y].p(M,$):(A[y]=el(M),A[y].c(),A[y].m(n,r))}for(;y<A.length;y+=1)A[y].d(1);A.length=k.length}if($&3828){R=C[4];let y;for(y=0;y<R.length;y+=1){const M=Qi(C,R,y);E[y]?E[y].p(M,$):(E[y]=tl(M),E[y].c(),E[y].m(n,i))}for(;y<E.length;y+=1)E[y].d(1);E.length=R.length}$&128&&a!==(a=C[8][C[7]]+"")&&ie(s,a),$&8&&u!==(u=(C[3]+C[10].left)/2)&&h(i,"x",u),$&8&&c!==(c=C[3]-C[10].right)&&h(f,"x2",c),$&4&&g!==(g=C[2]-C[10].bottom)&&h(f,"y1",g),$&4&&d!==(d=C[2]-C[10].bottom)&&h(f,"y2",d),$&4&&m!==(m=C[2]-C[10].bottom)&&h(p,"y2",m),$&2&&h(n,"width",C[1]),$&1&&h(n,"height",C[0])},i:U,o:U,d(C){C&&N(t),ke(b,C),ke(A,C),ke(E,C),_()}}}const nl=e=>e.question;function Ig(e,t,n){let o,r,i,l,a,s;ae(e,Zo,_=>n(4,a=_)),ae(e,it,_=>n(7,s=_));const u={up:"Good 👍",down:"Bad 👎","n/a":"No Rating",all:"All"},f={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let c=300,g=300,d={top:35,bottom:10,left:25,right:5};const p=Dt(".1f");function m(){g=this.offsetWidth,c=this.offsetHeight,n(1,g),n(0,c)}return e.$$.update=()=>{e.$$.dirty&2&&n(3,o=g-d.left-d.right),e.$$.dirty&1&&n(2,r=c-d.top-d.bottom),e.$$.dirty&24&&n(6,i=Rr().rangeRound([d.left,o-d.right]).padding(.05).domain(a.map(_=>_.question))),e.$$.dirty&20&&n(5,l=Ke().rangeRound([r-d.bottom,d.top]).domain([0,Mt(a,_=>_.count)])),e.$$.dirty&16&&console.log(a)},[c,g,r,o,a,l,i,s,u,f,d,p,m]}class ea extends de{constructor(t){super(),pe(this,t,Ig,Dg,ce,{})}}function ol(e,t,n){const o=e.slice();o[19]=t[n];const r=o[7](o[19].x1)-o[7](o[19].x0);return o[20]=r,o}function rl(e,t,n){const o=e.slice();return o[23]=t[n],o}function il(e){let t,n,o,r,i=e[23]+"",l,a;return{c(){t=K("g"),n=K("line"),r=K("text"),l=z(i),h(n,"class","axis-tick svelte-kz2qh6"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",o=-e[2]+e[9].bottom+e[9].top),h(n,"stroke","var(--squidink)"),h(n,"stroke-dasharray","4"),h(r,"class","axis-text svelte-kz2qh6"),h(r,"y","15"),h(r,"text-anchor","middle"),h(t,"transform",a=`translate(${e[7](e[23])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),h(t,"class","svelte-kz2qh6")},m(s,u){O(s,t,u),v(t,n),v(t,r),v(r,l)},p(s,u){u&4&&o!==(o=-s[2]+s[9].bottom+s[9].top)&&h(n,"y2",o),u&128&&i!==(i=s[23]+"")&&ie(l,i),u&132&&a!==(a=`translate(${s[7](s[23])+(s[7](1)-s[7](0))/2} ${s[2]-s[9].bottom})`)&&h(t,"transform",a)},d(s){s&&N(t)}}}function ll(e){let t,n,o,r,i,l,a;return{c(){t=K("g"),n=K("rect"),h(n,"x",o=e[7](e[19].x0)+1),h(n,"width",r=e[20]),h(n,"y",i=e[6](e[19].length)),h(n,"height",l=e[6](0)-e[6](e[19].length)),h(n,"fill",a=e[8][e[5]]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-bin svelte-kz2qh6")},m(s,u){O(s,t,u),v(t,n)},p(s,u){u&136&&o!==(o=s[7](s[19].x0)+1)&&h(n,"x",o),u&136&&r!==(r=s[20])&&h(n,"width",r),u&72&&i!==(i=s[6](s[19].length))&&h(n,"y",i),u&72&&l!==(l=s[6](0)-s[6](s[19].length))&&h(n,"height",l),u&32&&a!==(a=s[8][s[5]])&&h(n,"fill",a)},d(s){s&&N(t)}}}function Ng(e){let t,n,o,r,i,l,a,s,u,f,c,g=e[7].ticks(),d=[];for(let _=0;_<g.length;_+=1)d[_]=il(rl(e,g,_));let p=e[3],m=[];for(let _=0;_<p.length;_+=1)m[_]=ll(ol(e,p,_));return{c(){t=S("div"),n=K("svg");for(let _=0;_<d.length;_+=1)d[_].c();o=Ee();for(let _=0;_<m.length;_+=1)m[_].c();r=K("text"),i=z("Answer Length"),a=K("line"),h(r,"class","chart-title svelte-kz2qh6"),h(r,"y",e[9].top/2+5),h(r,"x",l=(e[4]+e[9].left)/2),h(r,"text-anchor","middle"),h(a,"class","axis-line svelte-kz2qh6"),h(a,"x1",e[9].left),h(a,"x2",s=e[4]-e[9].right),h(a,"y1",u=e[2]-e[9].bottom),h(a,"y2",f=e[2]-e[9].bottom),h(n,"width",e[1]),h(n,"height",e[0]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-container svelte-kz2qh6"),Re(()=>e[14].call(t))},m(_,w){O(_,t,w),v(t,n);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(n,null);v(n,o);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(n,null);v(n,r),v(r,i),v(n,a),c=Ft(t,e[14].bind(t))},p(_,[w]){if(w&644){g=_[7].ticks();let b;for(b=0;b<g.length;b+=1){const k=rl(_,g,b);d[b]?d[b].p(k,w):(d[b]=il(k),d[b].c(),d[b].m(n,o))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}if(w&488){p=_[3];let b;for(b=0;b<p.length;b+=1){const k=ol(_,p,b);m[b]?m[b].p(k,w):(m[b]=ll(k),m[b].c(),m[b].m(n,r))}for(;b<m.length;b+=1)m[b].d(1);m.length=p.length}w&16&&l!==(l=(_[4]+_[9].left)/2)&&h(r,"x",l),w&16&&s!==(s=_[4]-_[9].right)&&h(a,"x2",s),w&4&&u!==(u=_[2]-_[9].bottom)&&h(a,"y1",u),w&4&&f!==(f=_[2]-_[9].bottom)&&h(a,"y2",f),w&2&&h(n,"width",_[1]),w&1&&h(n,"height",_[0])},i:U,o:U,d(_){_&&N(t),ke(d,_),ke(m,_),c()}}}let sl=100;function Pg(e,t,n){let o,r,i,l,a,s,u,f,c,g;ae(e,it,k=>n(5,c=k)),ae(e,ze,k=>n(13,g=k));const d={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let p=300,m=300,_={top:15,bottom:10,left:25,right:5};Dt(".1f");let w=Array.from({length:sl},(k,A)=>A);function b(){m=this.offsetWidth,p=this.offsetHeight,n(1,m),n(0,p)}return e.$$.update=()=>{e.$$.dirty&8224&&n(12,o=c==="all"?g:g.filter(k=>k.vote_status===c)),e.$$.dirty&4096&&n(11,r=Ls(o)),e.$$.dirty&2&&n(4,i=m-_.left-_.right),e.$$.dirty&1&&n(2,l=p-_.top-_.bottom),e.$$.dirty&2048&&n(3,a=js().thresholds(w).value(k=>k.answer)(r)),e.$$.dirty&16&&n(7,s=Ke().domain([3,sl]).range([_.left,i-_.right])),e.$$.dirty&12&&n(6,u=Ke().domain([0,Mt(a,k=>k.length)]).range([l-_.bottom,_.top])),e.$$.dirty&2048&&n(10,f=Mt(r,k=>k.length)),e.$$.dirty&1056&&Ke().domain([0,f]).range(["white",d[c]]).interpolate(So)},[p,m,l,a,i,c,u,s,d,_,f,r,o,g,b]}class ta extends de{constructor(t){super(),pe(this,t,Pg,Ng,ce,{})}}function al(e,t,n){const o=e.slice();o[18]=t[n];const r=o[7](o[18].x1)-o[7](o[18].x0);return o[19]=r,o}function ul(e,t,n){const o=e.slice();return o[22]=t[n],o}function fl(e){let t,n,o,r,i=e[22]+"",l,a;return{c(){t=K("g"),n=K("line"),r=K("text"),l=z(i),h(n,"class","axis-tick svelte-kz2qh6"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",o=-e[2]+e[9].bottom+e[9].top),h(n,"stroke","var(--squidink)"),h(n,"stroke-dasharray","4"),h(r,"class","axis-text svelte-kz2qh6"),h(r,"y","15"),h(r,"text-anchor","middle"),h(t,"transform",a=`translate(${e[7](e[22])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),h(t,"class","svelte-kz2qh6")},m(s,u){O(s,t,u),v(t,n),v(t,r),v(r,l)},p(s,u){u&4&&o!==(o=-s[2]+s[9].bottom+s[9].top)&&h(n,"y2",o),u&128&&i!==(i=s[22]+"")&&ie(l,i),u&132&&a!==(a=`translate(${s[7](s[22])+(s[7](1)-s[7](0))/2} ${s[2]-s[9].bottom})`)&&h(t,"transform",a)},d(s){s&&N(t)}}}function cl(e){let t,n,o,r,i,l,a;return{c(){t=K("g"),n=K("rect"),h(n,"x",o=e[7](e[18].x0)+1),h(n,"width",r=e[19]),h(n,"y",i=e[6](e[18].length)),h(n,"height",l=e[6](0)-e[6](e[18].length)),h(n,"fill",a=e[8][e[5]]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-bin svelte-kz2qh6")},m(s,u){O(s,t,u),v(t,n)},p(s,u){u&136&&o!==(o=s[7](s[18].x0)+1)&&h(n,"x",o),u&136&&r!==(r=s[19])&&h(n,"width",r),u&72&&i!==(i=s[6](s[18].length))&&h(n,"y",i),u&72&&l!==(l=s[6](0)-s[6](s[18].length))&&h(n,"height",l),u&32&&a!==(a=s[8][s[5]])&&h(n,"fill",a)},d(s){s&&N(t)}}}function Og(e){let t,n,o,r,i,l,a,s,u,f,c,g=e[7].ticks(),d=[];for(let _=0;_<g.length;_+=1)d[_]=fl(ul(e,g,_));let p=e[3],m=[];for(let _=0;_<p.length;_+=1)m[_]=cl(al(e,p,_));return{c(){t=S("div"),n=K("svg");for(let _=0;_<d.length;_+=1)d[_].c();o=Ee();for(let _=0;_<m.length;_+=1)m[_].c();r=K("text"),i=z("Question Length"),a=K("line"),h(r,"class","chart-title svelte-kz2qh6"),h(r,"y",e[9].top/2+5),h(r,"x",l=(e[4]+e[9].left)/2),h(r,"text-anchor","middle"),h(a,"class","axis-line svelte-kz2qh6"),h(a,"x1",e[9].left),h(a,"x2",s=e[4]-e[9].right),h(a,"y1",u=e[2]-e[9].bottom),h(a,"y2",f=e[2]-e[9].bottom),h(n,"width",e[1]),h(n,"height",e[0]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-container svelte-kz2qh6"),Re(()=>e[13].call(t))},m(_,w){O(_,t,w),v(t,n);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(n,null);v(n,o);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(n,null);v(n,r),v(r,i),v(n,a),c=Ft(t,e[13].bind(t))},p(_,[w]){if(w&644){g=_[7].ticks();let b;for(b=0;b<g.length;b+=1){const k=ul(_,g,b);d[b]?d[b].p(k,w):(d[b]=fl(k),d[b].c(),d[b].m(n,o))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}if(w&488){p=_[3];let b;for(b=0;b<p.length;b+=1){const k=al(_,p,b);m[b]?m[b].p(k,w):(m[b]=cl(k),m[b].c(),m[b].m(n,r))}for(;b<m.length;b+=1)m[b].d(1);m.length=p.length}w&16&&l!==(l=(_[4]+_[9].left)/2)&&h(r,"x",l),w&16&&s!==(s=_[4]-_[9].right)&&h(a,"x2",s),w&4&&u!==(u=_[2]-_[9].bottom)&&h(a,"y1",u),w&4&&f!==(f=_[2]-_[9].bottom)&&h(a,"y2",f),w&2&&h(n,"width",_[1]),w&1&&h(n,"height",_[0])},i:U,o:U,d(_){_&&N(t),ke(d,_),ke(m,_),c()}}}let dl=100;function Tg(e,t,n){let o,r,i,l,a,s,u,f,c;ae(e,it,b=>n(5,f=b)),ae(e,ze,b=>n(12,c=b));const g={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let d=300,p=300,m={top:15,bottom:10,left:25,right:5},_=Array.from({length:dl},(b,k)=>k);yo().range(["var(--yellow)","var(--red)","var(--green)"]);function w(){p=this.offsetWidth,d=this.offsetHeight,n(1,p),n(0,d)}return e.$$.update=()=>{e.$$.dirty&4128&&n(11,o=f==="all"?c:c.filter(b=>b.vote_status===f)),e.$$.dirty&2048&&n(10,r=Ls(o)),e.$$.dirty&2&&n(4,i=p-m.left-m.right),e.$$.dirty&1&&n(2,l=d-m.top-m.bottom),e.$$.dirty&1024&&n(3,a=js().thresholds(_).value(b=>b.question)(r)),e.$$.dirty&16&&n(7,s=Ke().domain([3,dl]).range([m.left,i-m.right])),e.$$.dirty&12&&n(6,u=Ke().domain([0,Mt(a,b=>b.length)]).range([l-m.bottom,m.top])),e.$$.dirty&1024&&Mt(r,b=>b.length)},[d,p,l,a,i,f,u,s,g,m,r,o,c,w]}class na extends de{constructor(t){super(),pe(this,t,Tg,Og,ce,{})}}function xg(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p=Math.round(e[5](e[3]))+"",m,_,w,b,k,A,R,E;return{c(){t=S("div"),n=S("div"),o=S("p"),o.textContent="Questions",r=D(),i=S("select"),l=S("option"),l.textContent="All",a=S("option"),a.textContent="Good",s=S("option"),s.textContent="Bad",u=S("option"),u.textContent="N/A",f=D(),c=S("div"),g=K("svg"),d=K("text"),m=z(p),k=D(),A=S("p"),A.textContent="number of responses",h(o,"class","card-text svelte-1pknxov"),l.__value="all",l.value=l.__value,h(l,"class","svelte-1pknxov"),a.__value="up",a.value=a.__value,h(a,"class","svelte-1pknxov"),s.__value="down",s.value=s.__value,h(s,"class","svelte-1pknxov"),u.__value="n/a",u.value=u.__value,h(u,"class","svelte-1pknxov"),h(i,"id","feedback-dropdown"),h(i,"name","feedback-dropdown"),Ie(i,"background",e[6][e[0]]),h(i,"class","svelte-1pknxov"),e[0]===void 0&&Re(()=>e[9].call(i)),h(n,"class","svelte-1pknxov"),h(d,"dominant-baseline","middle"),h(d,"x",_=e[2]/2),h(d,"y",w=e[1]/2),h(d,"text-anchor","middle"),h(d,"class","svelte-1pknxov"),h(g,"width",e[2]),h(g,"height",e[1]),h(g,"class","svelte-1pknxov"),h(c,"class","svelte-1pknxov"),Re(()=>e[10].call(c)),h(A,"class","small svelte-1pknxov"),h(t,"class","card-container svelte-1pknxov"),Ie(t,"background",e[6][e[0]])},m(C,$){O(C,t,$),v(t,n),v(n,o),v(n,r),v(n,i),v(i,l),v(i,a),v(i,s),v(i,u),Qn(i,e[0],!0),v(t,f),v(t,c),v(c,g),v(g,d),v(d,m),b=Ft(c,e[10].bind(c)),v(t,k),v(t,A),R||(E=j(i,"change",e[9]),R=!0)},p(C,[$]){$&1&&Ie(i,"background",C[6][C[0]]),$&1&&Qn(i,C[0]),$&8&&p!==(p=Math.round(C[5](C[3]))+"")&&ie(m,p),$&4&&_!==(_=C[2]/2)&&h(d,"x",_),$&2&&w!==(w=C[1]/2)&&h(d,"y",w),$&4&&h(g,"width",C[2]),$&2&&h(g,"height",C[1]),$&1&&Ie(t,"background",C[6][C[0]])},i:U,o:U,d(C){C&&N(t),b(),R=!1,E()}}}function Vg(e,t){return t==="all"?e.length:e.filter(o=>o.vote_status===t).length}function zg(e,t,n){let o,r,i,l;ae(e,it,p=>n(0,r=p)),ae(e,ze,p=>n(8,i=p));let a,s,u=yr(0);ae(e,u,p=>n(3,l=p));const f=Dt(".1f"),c={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){r=ys(this),it.set(r)}function d(){s=this.clientWidth,a=this.clientHeight,n(2,s),n(1,a)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,o=Vg(i,r)),e.$$.dirty&128&&console.log("fbc",o),e.$$.dirty&128&&u.set(o)},[r,a,s,l,u,f,c,o,i,g,d]}class oa extends de{constructor(t){super(),pe(this,t,zg,xg,ce,{})}}function Lg(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p=e[5](e[3])+"",m,_,w,b,k,A,R,E;return{c(){t=S("div"),n=S("div"),o=S("p"),o.textContent="Questions",r=D(),i=S("select"),l=S("option"),l.textContent="All",a=S("option"),a.textContent="Good",s=S("option"),s.textContent="Bad",u=S("option"),u.textContent="N/A",f=D(),c=S("div"),g=K("svg"),d=K("text"),m=z(p),k=D(),A=S("p"),A.textContent="percentage of responses",h(o,"class","card-text svelte-mchgj2"),l.__value="all",l.value=l.__value,a.__value="up",a.value=a.__value,s.__value="down",s.value=s.__value,u.__value="n/a",u.value=u.__value,h(i,"id","feedback-dropdown"),h(i,"name","feedback-dropdown"),Ie(i,"background",e[6][e[0]]),h(i,"class","svelte-mchgj2"),e[0]===void 0&&Re(()=>e[9].call(i)),h(d,"dominant-baseline","middle"),h(d,"x",_=e[2]/2),h(d,"y",w=e[1]/2),h(d,"text-anchor","middle"),h(d,"class","svelte-mchgj2"),h(g,"width",e[2]),h(g,"height",e[1]),h(g,"class","svelte-mchgj2"),Re(()=>e[10].call(c)),h(A,"class","small svelte-mchgj2"),h(t,"class","card-container svelte-mchgj2"),Ie(t,"background",e[6][e[0]])},m(C,$){O(C,t,$),v(t,n),v(n,o),v(n,r),v(n,i),v(i,l),v(i,a),v(i,s),v(i,u),Qn(i,e[0],!0),v(t,f),v(t,c),v(c,g),v(g,d),v(d,m),b=Ft(c,e[10].bind(c)),v(t,k),v(t,A),R||(E=j(i,"change",e[9]),R=!0)},p(C,[$]){$&1&&Ie(i,"background",C[6][C[0]]),$&1&&Qn(i,C[0]),$&8&&p!==(p=C[5](C[3])+"")&&ie(m,p),$&4&&_!==(_=C[2]/2)&&h(d,"x",_),$&2&&w!==(w=C[1]/2)&&h(d,"y",w),$&4&&h(g,"width",C[2]),$&2&&h(g,"height",C[1]),$&1&&Ie(t,"background",C[6][C[0]])},i:U,o:U,d(C){C&&N(t),b(),R=!1,E()}}}function Hg(e,t){const n=e.length;return t==="all"?1:e.filter(r=>r.vote_status===t).length/n}function qg(e,t,n){let o,r,i,l;ae(e,it,p=>n(0,r=p)),ae(e,ze,p=>n(8,i=p));let a,s,u=yr(0);ae(e,u,p=>n(3,l=p));const f=Dt(".1%"),c={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){r=ys(this),it.set(r)}function d(){s=this.clientWidth,a=this.clientHeight,n(2,s),n(1,a)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,o=Hg(i,r)),e.$$.dirty&128&&u.set(o)},[r,a,s,l,u,f,c,o,i,g,d]}class ra extends de{constructor(t){super(),pe(this,t,qg,Lg,ce,{})}}function Gg(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p,m,_,w,b,k,A,R,E,C,$,y,M,I;return i=new oa({}),s=new ra({}),c=new Js({}),p=new ea({props:{feedback:"Bad"}}),w=new na({}),A=new ta({}),M=new Zs({}),{c(){t=S("div"),n=S("div"),o=S("div"),r=S("div"),ne(i.$$.fragment),l=D(),a=S("div"),ne(s.$$.fragment),u=D(),f=S("div"),ne(c.$$.fragment),g=D(),d=S("div"),ne(p.$$.fragment),m=D(),_=S("div"),ne(w.$$.fragment),b=D(),k=S("div"),ne(A.$$.fragment),R=D(),E=S("div"),C=S("div"),C.innerHTML=`<div class="right-chart-1 svelte-14znspc"></div> 
      <div class="right-chart-2 svelte-14znspc"></div>`,$=D(),y=S("div"),ne(M.$$.fragment),h(r,"class","card-1 svelte-14znspc"),h(a,"class","card-2"),h(o,"class","left-text svelte-14znspc"),h(f,"class","left-confidence svelte-14znspc"),h(d,"class","left-question svelte-14znspc"),h(_,"class","left-filter svelte-14znspc"),h(k,"class","left-filter2"),h(n,"class","feedback-left svelte-14znspc"),h(C,"class","right-chart svelte-14znspc"),h(y,"class","right-table svelte-14znspc"),h(E,"class","feedback-right svelte-14znspc"),h(t,"class","feedback-container svelte-14znspc")},m(F,x){O(F,t,x),v(t,n),v(n,o),v(o,r),Z(i,r,null),v(o,l),v(o,a),Z(s,a,null),v(n,u),v(n,f),Z(c,f,null),v(n,g),v(n,d),Z(p,d,null),v(n,m),v(n,_),Z(w,_,null),v(n,b),v(n,k),Z(A,k,null),v(t,R),v(t,E),v(E,C),v(E,$),v(E,y),Z(M,y,null),I=!0},p:U,i(F){I||(P(i.$$.fragment,F),P(s.$$.fragment,F),P(c.$$.fragment,F),P(p.$$.fragment,F),P(w.$$.fragment,F),P(A.$$.fragment,F),P(M.$$.fragment,F),I=!0)},o(F){T(i.$$.fragment,F),T(s.$$.fragment,F),T(c.$$.fragment,F),T(p.$$.fragment,F),T(w.$$.fragment,F),T(A.$$.fragment,F),T(M.$$.fragment,F),I=!1},d(F){F&&N(t),ee(i),ee(s),ee(c),ee(p),ee(w),ee(A),ee(M)}}}function Bg(e,t,n){let o;ae(e,wn,i=>n(0,o=i)),dt(()=>{r()});async function r(){const s=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map(u=>({id:u[0],question:u[1],answer:u[2],vote_status:u[3]}));Oe(wn,o=[...s],o)}return[]}class ia extends de{constructor(t){super(),pe(this,t,Bg,Gg,ce,{})}}/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gl(Object(n),!0).forEach(function(o){jg(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Bn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bn=function(t){return typeof t}:Bn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(e)}function jg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(){return ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ct.apply(this,arguments)}function Ug(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,i;for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Wg(e,t){if(e==null)return{};var n=Ug(e,t),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var Xg="1.15.0";function ut(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var gt=ut(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Rn=ut(/Edge/i),hl=ut(/firefox/i),cn=ut(/safari/i)&&!ut(/chrome/i)&&!ut(/android/i),la=ut(/iP(ad|od|hone)/i),sa=ut(/chrome/i)&&ut(/android/i),aa={capture:!1,passive:!1};function he(e,t,n){e.addEventListener(t,n,!gt&&aa)}function fe(e,t,n){e.removeEventListener(t,n,!gt&&aa)}function so(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Yg(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function et(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&so(e,t):so(e,t))||o&&e===n)return e;if(e===n)break}while(e=Yg(e))}return null}var pl=/\s+/g;function Ge(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(pl," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(pl," ")}}function X(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function Bt(e,t){var n="";if(typeof e=="string")n=e;else do{var o=X(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function ua(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function rt(){var e=document.scrollingElement;return e||document.documentElement}function Ae(e,t,n,o,r){if(!(!e.getBoundingClientRect&&e!==window)){var i,l,a,s,u,f,c;if(e!==window&&e.parentNode&&e!==rt()?(i=e.getBoundingClientRect(),l=i.top,a=i.left,s=i.bottom,u=i.right,f=i.height,c=i.width):(l=0,a=0,s=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!gt))do if(r&&r.getBoundingClientRect&&(X(r,"transform")!=="none"||n&&X(r,"position")!=="static")){var g=r.getBoundingClientRect();l-=g.top+parseInt(X(r,"border-top-width")),a-=g.left+parseInt(X(r,"border-left-width")),s=l+i.height,u=a+i.width;break}while(r=r.parentNode);if(o&&e!==window){var d=Bt(r||e),p=d&&d.a,m=d&&d.d;d&&(l/=m,a/=p,c/=p,f/=m,s=l+f,u=a+c)}return{top:l,left:a,bottom:s,right:u,width:c,height:f}}}function ml(e,t,n){for(var o=_t(e,!0),r=Ae(e)[t];o;){var i=Ae(o)[n],l=void 0;if(n==="top"||n==="left"?l=r>=i:l=r<=i,!l)return o;if(o===rt())break;o=_t(o,!1)}return!1}function Xt(e,t,n,o){for(var r=0,i=0,l=e.children;i<l.length;){if(l[i].style.display!=="none"&&l[i]!==W.ghost&&(o||l[i]!==W.dragged)&&et(l[i],n.draggable,e,!1)){if(r===t)return l[i];r++}i++}return null}function Fr(e,t){for(var n=e.lastElementChild;n&&(n===W.ghost||X(n,"display")==="none"||t&&!so(n,t));)n=n.previousElementSibling;return n||null}function Ue(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==W.clone&&(!t||so(e,t))&&n++;return n}function _l(e){var t=0,n=0,o=rt();if(e)do{var r=Bt(e),i=r.a,l=r.d;t+=e.scrollLeft*i,n+=e.scrollTop*l}while(e!==o&&(e=e.parentNode));return[t,n]}function Qg(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function _t(e,t){if(!e||!e.getBoundingClientRect)return rt();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=X(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return rt();if(o||t)return n;o=!0}}while(n=n.parentNode);return rt()}function Kg(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function No(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var dn;function fa(e,t){return function(){if(!dn){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),dn=setTimeout(function(){dn=void 0},t)}}}function Jg(){clearTimeout(dn),dn=void 0}function ca(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function da(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var je="Sortable"+new Date().getTime();function Zg(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(X(r,"display")==="none"||r===W.ghost)){e.push({target:r,rect:Ae(r)});var i=lt({},e[e.length-1].rect);if(r.thisAnimationDuration){var l=Bt(r,!0);l&&(i.top-=l.f,i.left-=l.e)}r.fromRect=i}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(Qg(e,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var i=!1,l=0;e.forEach(function(a){var s=0,u=a.target,f=u.fromRect,c=Ae(u),g=u.prevFromRect,d=u.prevToRect,p=a.rect,m=Bt(u,!0);m&&(c.top-=m.f,c.left-=m.e),u.toRect=c,u.thisAnimationDuration&&No(g,c)&&!No(f,c)&&(p.top-c.top)/(p.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(s=th(p,g,d,r.options)),No(c,f)||(u.prevFromRect=f,u.prevToRect=c,s||(s=r.options.animation),r.animate(u,p,c,s)),s&&(i=!0,l=Math.max(l,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(t),i?t=setTimeout(function(){typeof o=="function"&&o()},l):typeof o=="function"&&o(),e=[]},animate:function(o,r,i,l){if(l){X(o,"transition",""),X(o,"transform","");var a=Bt(this.el),s=a&&a.a,u=a&&a.d,f=(r.left-i.left)/(s||1),c=(r.top-i.top)/(u||1);o.animatingX=!!f,o.animatingY=!!c,X(o,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=eh(o),X(o,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),X(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){X(o,"transition",""),X(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},l)}}}}function eh(e){return e.offsetWidth}function th(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Pt=[],Po={initializeByDefault:!0},Mn={mount:function(t){for(var n in Po)Po.hasOwnProperty(n)&&!(n in t)&&(t[n]=Po[n]);Pt.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Pt.push(t)},pluginEvent:function(t,n,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var i=t+"Global";Pt.forEach(function(l){n[l.pluginName]&&(n[l.pluginName][i]&&n[l.pluginName][i](lt({sortable:n},o)),n.options[l.pluginName]&&n[l.pluginName][t]&&n[l.pluginName][t](lt({sortable:n},o)))})},initializePlugins:function(t,n,o,r){Pt.forEach(function(a){var s=a.pluginName;if(!(!t.options[s]&&!a.initializeByDefault)){var u=new a(t,n,t.options);u.sortable=t,u.options=t.options,t[s]=u,ct(o,u.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var l=this.modifyOption(t,i,t.options[i]);typeof l<"u"&&(t.options[i]=l)}},getEventProperties:function(t,n){var o={};return Pt.forEach(function(r){typeof r.eventProperties=="function"&&ct(o,r.eventProperties.call(n[r.pluginName],t))}),o},modifyOption:function(t,n,o){var r;return Pt.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(r=i.optionListeners[n].call(t[i.pluginName],o))}),r}};function nh(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,i=e.cloneEl,l=e.toEl,a=e.fromEl,s=e.oldIndex,u=e.newIndex,f=e.oldDraggableIndex,c=e.newDraggableIndex,g=e.originalEvent,d=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[je],!!t){var m,_=t.options,w="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!gt&&!Rn?m=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(o,!0,!0)),m.to=l||n,m.from=a||n,m.item=r||n,m.clone=i,m.oldIndex=s,m.newIndex=u,m.oldDraggableIndex=f,m.newDraggableIndex=c,m.originalEvent=g,m.pullMode=d?d.lastPutMode:void 0;var b=lt(lt({},p),Mn.getEventProperties(o,t));for(var k in b)m[k]=b[k];n&&n.dispatchEvent(m),_[w]&&_[w].call(t,m)}}var oh=["evt"],xe=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,i=Wg(o,oh);Mn.pluginEvent.bind(W)(t,n,lt({dragEl:V,parentEl:Ce,ghostEl:te,rootEl:we,nextEl:kt,lastDownEl:jn,cloneEl:ye,cloneHidden:pt,dragStarted:rn,putSortable:Me,activeSortable:W.active,originalEvent:r,oldIndex:zt,oldDraggableIndex:gn,newIndex:Be,newDraggableIndex:ht,hideGhostForTarget:ma,unhideGhostForTarget:_a,cloneNowHidden:function(){pt=!0},cloneNowShown:function(){pt=!1},dispatchSortableEvent:function(a){Ne({sortable:n,name:a,originalEvent:r})}},i))};function Ne(e){nh(lt({putSortable:Me,cloneEl:ye,targetEl:V,rootEl:we,oldIndex:zt,oldDraggableIndex:gn,newIndex:Be,newDraggableIndex:ht},e))}var V,Ce,te,we,kt,jn,ye,pt,zt,Be,gn,ht,Tn,Me,xt=!1,ao=!1,uo=[],St,Ye,Oo,To,vl,bl,rn,Ot,hn,pn=!1,xn=!1,Un,De,xo=[],ar=!1,fo=[],Co=typeof document<"u",Vn=la,wl=Rn||gt?"cssFloat":"float",rh=Co&&!sa&&!la&&"draggable"in document.createElement("div"),ga=function(){if(Co){if(gt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),ha=function(t,n){var o=X(t),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=Xt(t,0,n),l=Xt(t,1,n),a=i&&X(i),s=l&&X(l),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ae(i).width,f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ae(l).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var c=a.float==="left"?"left":"right";return l&&(s.clear==="both"||s.clear===c)?"vertical":"horizontal"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=r&&o[wl]==="none"||l&&o[wl]==="none"&&u+f>r)?"vertical":"horizontal"},ih=function(t,n,o){var r=o?t.left:t.top,i=o?t.right:t.bottom,l=o?t.width:t.height,a=o?n.left:n.top,s=o?n.right:n.bottom,u=o?n.width:n.height;return r===a||i===s||r+l/2===a+u/2},lh=function(t,n){var o;return uo.some(function(r){var i=r[je].options.emptyInsertThreshold;if(!(!i||Fr(r))){var l=Ae(r),a=t>=l.left-i&&t<=l.right+i,s=n>=l.top-i&&n<=l.bottom+i;if(a&&s)return o=r}}),o},pa=function(t){function n(i,l){return function(a,s,u,f){var c=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(i==null&&(l||c))return!0;if(i==null||i===!1)return!1;if(l&&i==="clone")return i;if(typeof i=="function")return n(i(a,s,u,f),l)(a,s,u,f);var g=(l?a:s).options.group.name;return i===!0||typeof i=="string"&&i===g||i.join&&i.indexOf(g)>-1}}var o={},r=t.group;(!r||Bn(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=n(r.pull,!0),o.checkPut=n(r.put),o.revertClone=r.revertClone,t.group=o},ma=function(){!ga&&te&&X(te,"display","none")},_a=function(){!ga&&te&&X(te,"display","")};Co&&!sa&&document.addEventListener("click",function(e){if(ao)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ao=!1,!1},!0);var Ct=function(t){if(V){t=t.touches?t.touches[0]:t;var n=lh(t.clientX,t.clientY);if(n){var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[je]._onDragOver(o)}}},sh=function(t){V&&V.parentNode[je]._isOutsideThisEl(t.target)};function W(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ct({},t),e[je]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ha(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,a){l.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:W.supportPointer!==!1&&"PointerEvent"in window&&!cn,emptyInsertThreshold:5};Mn.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);pa(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:rh,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?he(e,"pointerdown",this._onTapStart):(he(e,"mousedown",this._onTapStart),he(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(he(e,"dragover",this),he(e,"dragenter",this)),uo.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ct(this,Zg())}W.prototype={constructor:W,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ot=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,V):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,o=this.el,r=this.options,i=r.preventOnFilter,l=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,f=r.filter;if(ph(o),!V&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&cn&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=et(s,r.draggable,o,!1),!(s&&s.animated)&&jn!==s)){if(zt=Ue(s),gn=Ue(s,r.draggable),typeof f=="function"){if(f.call(this,t,s,this)){Ne({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:o,fromEl:o}),xe("filter",n,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=et(u,c.trim(),o,!1),c)return Ne({sortable:n,rootEl:c,name:"filter",targetEl:s,fromEl:o,toEl:o}),xe("filter",n,{evt:t}),!0}),f)){i&&t.cancelable&&t.preventDefault();return}r.handle&&!et(u,r.handle,o,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,n,o){var r=this,i=r.el,l=r.options,a=i.ownerDocument,s;if(o&&!V&&o.parentNode===i){var u=Ae(o);if(we=i,V=o,Ce=V.parentNode,kt=V.nextSibling,jn=o,Tn=l.group,W.dragged=V,St={target:V,clientX:(n||t).clientX,clientY:(n||t).clientY},vl=St.clientX-u.left,bl=St.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,V.style["will-change"]="all",s=function(){if(xe("delayEnded",r,{evt:t}),W.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!hl&&r.nativeDraggable&&(V.draggable=!0),r._triggerDragStart(t,n),Ne({sortable:r,name:"choose",originalEvent:t}),Ge(V,l.chosenClass,!0)},l.ignore.split(",").forEach(function(f){ua(V,f.trim(),Vo)}),he(a,"dragover",Ct),he(a,"mousemove",Ct),he(a,"touchmove",Ct),he(a,"mouseup",r._onDrop),he(a,"touchend",r._onDrop),he(a,"touchcancel",r._onDrop),hl&&this.nativeDraggable&&(this.options.touchStartThreshold=4,V.draggable=!0),xe("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Rn||gt))){if(W.eventCanceled){this._onDrop();return}he(a,"mouseup",r._disableDelayedDrag),he(a,"touchend",r._disableDelayedDrag),he(a,"touchcancel",r._disableDelayedDrag),he(a,"mousemove",r._delayedDragTouchMoveHandler),he(a,"touchmove",r._delayedDragTouchMoveHandler),l.supportPointer&&he(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(s,l.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){V&&Vo(V),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;fe(t,"mouseup",this._disableDelayedDrag),fe(t,"touchend",this._disableDelayedDrag),fe(t,"touchcancel",this._disableDelayedDrag),fe(t,"mousemove",this._delayedDragTouchMoveHandler),fe(t,"touchmove",this._delayedDragTouchMoveHandler),fe(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?he(document,"pointermove",this._onTouchMove):n?he(document,"touchmove",this._onTouchMove):he(document,"mousemove",this._onTouchMove):(he(V,"dragend",this),he(we,"dragstart",this._onDragStart));try{document.selection?Wn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(xt=!1,we&&V){xe("dragStarted",this,{evt:n}),this.nativeDraggable&&he(document,"dragover",sh);var o=this.options;!t&&Ge(V,o.dragClass,!1),Ge(V,o.ghostClass,!0),W.active=this,t&&this._appendGhost(),Ne({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ye){this._lastX=Ye.clientX,this._lastY=Ye.clientY,ma();for(var t=document.elementFromPoint(Ye.clientX,Ye.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ye.clientX,Ye.clientY),t!==n);)n=t;if(V.parentNode[je]._isOutsideThisEl(t),n)do{if(n[je]){var o=void 0;if(o=n[je]._onDragOver({clientX:Ye.clientX,clientY:Ye.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);_a()}},_onTouchMove:function(t){if(St){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,i=t.touches?t.touches[0]:t,l=te&&Bt(te,!0),a=te&&l&&l.a,s=te&&l&&l.d,u=Vn&&De&&_l(De),f=(i.clientX-St.clientX+r.x)/(a||1)+(u?u[0]-xo[0]:0)/(a||1),c=(i.clientY-St.clientY+r.y)/(s||1)+(u?u[1]-xo[1]:0)/(s||1);if(!W.active&&!xt){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(te){l?(l.e+=f-(Oo||0),l.f+=c-(To||0)):l={a:1,b:0,c:0,d:1,e:f,f:c};var g="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");X(te,"webkitTransform",g),X(te,"mozTransform",g),X(te,"msTransform",g),X(te,"transform",g),Oo=f,To=c,Ye=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!te){var t=this.options.fallbackOnBody?document.body:we,n=Ae(V,!0,Vn,!0,t),o=this.options;if(Vn){for(De=t;X(De,"position")==="static"&&X(De,"transform")==="none"&&De!==document;)De=De.parentNode;De!==document.body&&De!==document.documentElement?(De===document&&(De=rt()),n.top+=De.scrollTop,n.left+=De.scrollLeft):De=rt(),xo=_l(De)}te=V.cloneNode(!0),Ge(te,o.ghostClass,!1),Ge(te,o.fallbackClass,!0),Ge(te,o.dragClass,!0),X(te,"transition",""),X(te,"transform",""),X(te,"box-sizing","border-box"),X(te,"margin",0),X(te,"top",n.top),X(te,"left",n.left),X(te,"width",n.width),X(te,"height",n.height),X(te,"opacity","0.8"),X(te,"position",Vn?"absolute":"fixed"),X(te,"zIndex","100000"),X(te,"pointerEvents","none"),W.ghost=te,t.appendChild(te),X(te,"transform-origin",vl/parseInt(te.style.width)*100+"% "+bl/parseInt(te.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,r=t.dataTransfer,i=o.options;if(xe("dragStart",this,{evt:t}),W.eventCanceled){this._onDrop();return}xe("setupClone",this),W.eventCanceled||(ye=da(V),ye.removeAttribute("id"),ye.draggable=!1,ye.style["will-change"]="",this._hideClone(),Ge(ye,this.options.chosenClass,!1),W.clone=ye),o.cloneId=Wn(function(){xe("clone",o),!W.eventCanceled&&(o.options.removeCloneOnHide||we.insertBefore(ye,V),o._hideClone(),Ne({sortable:o,name:"clone"}))}),!n&&Ge(V,i.dragClass,!0),n?(ao=!0,o._loopId=setInterval(o._emulateDragOver,50)):(fe(document,"mouseup",o._onDrop),fe(document,"touchend",o._onDrop),fe(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(o,r,V)),he(document,"drop",o),X(V,"transform","translateZ(0)")),xt=!0,o._dragStartId=Wn(o._dragStarted.bind(o,n,t)),he(document,"selectstart",o),rn=!0,cn&&X(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,r,i,l,a=this.options,s=a.group,u=W.active,f=Tn===s,c=a.sort,g=Me||u,d,p=this,m=!1;if(ar)return;function _(ge,L){xe(ge,p,lt({evt:t,isOwner:f,axis:d?"vertical":"horizontal",revert:l,dragRect:r,targetRect:i,canSort:c,fromSortable:g,target:o,completed:b,onMove:function(H,G){return zn(we,n,V,r,H,Ae(H),t,G)},changed:k},L))}function w(){_("dragOverAnimationCapture"),p.captureAnimationState(),p!==g&&g.captureAnimationState()}function b(ge){return _("dragOverCompleted",{insertion:ge}),ge&&(f?u._hideClone():u._showClone(p),p!==g&&(Ge(V,Me?Me.options.ghostClass:u.options.ghostClass,!1),Ge(V,a.ghostClass,!0)),Me!==p&&p!==W.active?Me=p:p===W.active&&Me&&(Me=null),g===p&&(p._ignoreWhileAnimating=o),p.animateAll(function(){_("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(o===V&&!V.animated||o===n&&!o.animated)&&(Ot=null),!a.dragoverBubble&&!t.rootEl&&o!==document&&(V.parentNode[je]._isOutsideThisEl(t.target),!ge&&Ct(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function k(){Be=Ue(V),ht=Ue(V,a.draggable),Ne({sortable:p,name:"change",toEl:n,newIndex:Be,newDraggableIndex:ht,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=et(o,a.draggable,n,!0),_("dragOver"),W.eventCanceled)return m;if(V.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||p._ignoreWhileAnimating===o)return b(!1);if(ao=!1,u&&!a.disabled&&(f?c||(l=Ce!==we):Me===this||(this.lastPutMode=Tn.checkPull(this,u,V,t))&&s.checkPut(this,u,V,t))){if(d=this._getDirection(t,o)==="vertical",r=Ae(V),_("dragOverValid"),W.eventCanceled)return m;if(l)return Ce=we,w(),this._hideClone(),_("revert"),W.eventCanceled||(kt?we.insertBefore(V,kt):we.appendChild(V)),b(!0);var A=Fr(n,a.draggable);if(!A||ch(t,d,this)&&!A.animated){if(A===V)return b(!1);if(A&&n===t.target&&(o=A),o&&(i=Ae(o)),zn(we,n,V,r,o,i,t,!!o)!==!1)return w(),A&&A.nextSibling?n.insertBefore(V,A.nextSibling):n.appendChild(V),Ce=n,k(),b(!0)}else if(A&&fh(t,d,this)){var R=Xt(n,0,a,!0);if(R===V)return b(!1);if(o=R,i=Ae(o),zn(we,n,V,r,o,i,t,!1)!==!1)return w(),n.insertBefore(V,R),Ce=n,k(),b(!0)}else if(o.parentNode===n){i=Ae(o);var E=0,C,$=V.parentNode!==n,y=!ih(V.animated&&V.toRect||r,o.animated&&o.toRect||i,d),M=d?"top":"left",I=ml(o,"top","top")||ml(V,"top","top"),F=I?I.scrollTop:void 0;Ot!==o&&(C=i[M],pn=!1,xn=!y&&a.invertSwap||$),E=dh(t,o,i,d,y?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,xn,Ot===o);var x;if(E!==0){var q=Ue(V);do q-=E,x=Ce.children[q];while(x&&(X(x,"display")==="none"||x===te))}if(E===0||x===o)return b(!1);Ot=o,hn=E;var le=o.nextElementSibling,oe=!1;oe=E===1;var se=zn(we,n,V,r,o,i,t,oe);if(se!==!1)return(se===1||se===-1)&&(oe=se===1),ar=!0,setTimeout(uh,30),w(),oe&&!le?n.appendChild(V):o.parentNode.insertBefore(V,oe?le:o),I&&ca(I,0,F-I.scrollTop),Ce=V.parentNode,C!==void 0&&!xn&&(Un=Math.abs(C-Ae(o)[M])),k(),b(!0)}if(n.contains(V))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){fe(document,"mousemove",this._onTouchMove),fe(document,"touchmove",this._onTouchMove),fe(document,"pointermove",this._onTouchMove),fe(document,"dragover",Ct),fe(document,"mousemove",Ct),fe(document,"touchmove",Ct)},_offUpEvents:function(){var t=this.el.ownerDocument;fe(t,"mouseup",this._onDrop),fe(t,"touchend",this._onDrop),fe(t,"pointerup",this._onDrop),fe(t,"touchcancel",this._onDrop),fe(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(Be=Ue(V),ht=Ue(V,o.draggable),xe("drop",this,{evt:t}),Ce=V&&V.parentNode,Be=Ue(V),ht=Ue(V,o.draggable),W.eventCanceled){this._nulling();return}xt=!1,xn=!1,pn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ur(this.cloneId),ur(this._dragStartId),this.nativeDraggable&&(fe(document,"drop",this),fe(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),cn&&X(document.body,"user-select",""),X(V,"transform",""),t&&(rn&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),te&&te.parentNode&&te.parentNode.removeChild(te),(we===Ce||Me&&Me.lastPutMode!=="clone")&&ye&&ye.parentNode&&ye.parentNode.removeChild(ye),V&&(this.nativeDraggable&&fe(V,"dragend",this),Vo(V),V.style["will-change"]="",rn&&!xt&&Ge(V,Me?Me.options.ghostClass:this.options.ghostClass,!1),Ge(V,this.options.chosenClass,!1),Ne({sortable:this,name:"unchoose",toEl:Ce,newIndex:null,newDraggableIndex:null,originalEvent:t}),we!==Ce?(Be>=0&&(Ne({rootEl:Ce,name:"add",toEl:Ce,fromEl:we,originalEvent:t}),Ne({sortable:this,name:"remove",toEl:Ce,originalEvent:t}),Ne({rootEl:Ce,name:"sort",toEl:Ce,fromEl:we,originalEvent:t}),Ne({sortable:this,name:"sort",toEl:Ce,originalEvent:t})),Me&&Me.save()):Be!==zt&&Be>=0&&(Ne({sortable:this,name:"update",toEl:Ce,originalEvent:t}),Ne({sortable:this,name:"sort",toEl:Ce,originalEvent:t})),W.active&&((Be==null||Be===-1)&&(Be=zt,ht=gn),Ne({sortable:this,name:"end",toEl:Ce,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){xe("nulling",this),we=V=Ce=te=kt=ye=jn=pt=St=Ye=rn=Be=ht=zt=gn=Ot=hn=Me=Tn=W.dragged=W.ghost=W.clone=W.active=null,fo.forEach(function(t){t.checked=!0}),fo.length=Oo=To=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":V&&(this._onDragOver(t),ah(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,r=0,i=o.length,l=this.options;r<i;r++)n=o[r],et(n,l.draggable,this.el,!1)&&t.push(n.getAttribute(l.dataIdAttr)||hh(n));return t},sort:function(t,n){var o={},r=this.el;this.toArray().forEach(function(i,l){var a=r.children[l];et(a,this.options.draggable,r,!1)&&(o[i]=a)},this),n&&this.captureAnimationState(),t.forEach(function(i){o[i]&&(r.removeChild(o[i]),r.appendChild(o[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return et(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var r=Mn.modifyOption(this,t,n);typeof r<"u"?o[t]=r:o[t]=n,t==="group"&&pa(o)},destroy:function(){xe("destroy",this);var t=this.el;t[je]=null,fe(t,"mousedown",this._onTapStart),fe(t,"touchstart",this._onTapStart),fe(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(fe(t,"dragover",this),fe(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),uo.splice(uo.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!pt){if(xe("hideClone",this),W.eventCanceled)return;X(ye,"display","none"),this.options.removeCloneOnHide&&ye.parentNode&&ye.parentNode.removeChild(ye),pt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(pt){if(xe("showClone",this),W.eventCanceled)return;V.parentNode==we&&!this.options.group.revertClone?we.insertBefore(ye,V):kt?we.insertBefore(ye,kt):we.appendChild(ye),this.options.group.revertClone&&this.animate(V,ye),X(ye,"display",""),pt=!1}}};function ah(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function zn(e,t,n,o,r,i,l,a){var s,u=e[je],f=u.options.onMove,c;return window.CustomEvent&&!gt&&!Rn?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=i||Ae(t),s.willInsertAfter=a,s.originalEvent=l,e.dispatchEvent(s),f&&(c=f.call(u,s,l)),c}function Vo(e){e.draggable=!1}function uh(){ar=!1}function fh(e,t,n){var o=Ae(Xt(n.el,0,n.options,!0)),r=10;return t?e.clientX<o.left-r||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-r||e.clientY<o.bottom&&e.clientX<o.left}function ch(e,t,n){var o=Ae(Fr(n.el,n.options.draggable)),r=10;return t?e.clientX>o.right+r||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+r}function dh(e,t,n,o,r,i,l,a){var s=o?e.clientY:e.clientX,u=o?n.height:n.width,f=o?n.top:n.left,c=o?n.bottom:n.right,g=!1;if(!l){if(a&&Un<u*r){if(!pn&&(hn===1?s>f+u*i/2:s<c-u*i/2)&&(pn=!0),pn)g=!0;else if(hn===1?s<f+Un:s>c-Un)return-hn}else if(s>f+u*(1-r)/2&&s<c-u*(1-r)/2)return gh(t)}return g=g||l,g&&(s<f+u*i/2||s>c-u*i/2)?s>f+u/2?1:-1:0}function gh(e){return Ue(V)<Ue(e)?1:-1}function hh(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function ph(e){fo.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&fo.push(o)}}function Wn(e){return setTimeout(e,0)}function ur(e){return clearTimeout(e)}Co&&he(document,"touchmove",function(e){(W.active||xt)&&e.cancelable&&e.preventDefault()});W.utils={on:he,off:fe,css:X,find:ua,is:function(t,n){return!!et(t,n,t,!1)},extend:Kg,throttle:fa,closest:et,toggleClass:Ge,clone:da,index:Ue,nextTick:Wn,cancelNextTick:ur,detectDirection:ha,getChild:Xt};W.get=function(e){return e[je]};W.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(W.utils=lt(lt({},W.utils),o.utils)),Mn.mount(o)})};W.create=function(e,t){return new W(e,t)};W.version=Xg;var $e=[],ln,fr,cr=!1,zo,Lo,co,sn;function mh(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?he(document,"dragover",this._handleAutoScroll):this.options.supportPointer?he(document,"pointermove",this._handleFallbackAutoScroll):o.touches?he(document,"touchmove",this._handleFallbackAutoScroll):he(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?fe(document,"dragover",this._handleAutoScroll):(fe(document,"pointermove",this._handleFallbackAutoScroll),fe(document,"touchmove",this._handleFallbackAutoScroll),fe(document,"mousemove",this._handleFallbackAutoScroll)),yl(),Xn(),Jg()},nulling:function(){co=fr=ln=cr=sn=zo=Lo=null,$e.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var r=this,i=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(i,l);if(co=n,o||this.options.forceAutoScrollFallback||Rn||gt||cn){Ho(n,this.options,a,o);var s=_t(a,!0);cr&&(!sn||i!==zo||l!==Lo)&&(sn&&yl(),sn=setInterval(function(){var u=_t(document.elementFromPoint(i,l),!0);u!==s&&(s=u,Xn()),Ho(n,r.options,u,o)},10),zo=i,Lo=l)}else{if(!this.options.bubbleScroll||_t(a,!0)===rt()){Xn();return}Ho(n,this.options,_t(a,!1),!1)}}},ct(e,{pluginName:"scroll",initializeByDefault:!0})}function Xn(){$e.forEach(function(e){clearInterval(e.pid)}),$e=[]}function yl(){clearInterval(sn)}var Ho=fa(function(e,t,n,o){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,a=t.scrollSpeed,s=rt(),u=!1,f;fr!==n&&(fr=n,Xn(),ln=t.scroll,f=t.scrollFn,ln===!0&&(ln=_t(n,!0)));var c=0,g=ln;do{var d=g,p=Ae(d),m=p.top,_=p.bottom,w=p.left,b=p.right,k=p.width,A=p.height,R=void 0,E=void 0,C=d.scrollWidth,$=d.scrollHeight,y=X(d),M=d.scrollLeft,I=d.scrollTop;d===s?(R=k<C&&(y.overflowX==="auto"||y.overflowX==="scroll"||y.overflowX==="visible"),E=A<$&&(y.overflowY==="auto"||y.overflowY==="scroll"||y.overflowY==="visible")):(R=k<C&&(y.overflowX==="auto"||y.overflowX==="scroll"),E=A<$&&(y.overflowY==="auto"||y.overflowY==="scroll"));var F=R&&(Math.abs(b-r)<=l&&M+k<C)-(Math.abs(w-r)<=l&&!!M),x=E&&(Math.abs(_-i)<=l&&I+A<$)-(Math.abs(m-i)<=l&&!!I);if(!$e[c])for(var q=0;q<=c;q++)$e[q]||($e[q]={});($e[c].vx!=F||$e[c].vy!=x||$e[c].el!==d)&&($e[c].el=d,$e[c].vx=F,$e[c].vy=x,clearInterval($e[c].pid),(F!=0||x!=0)&&(u=!0,$e[c].pid=setInterval((function(){o&&this.layer===0&&W.active._onTouchMove(co);var le=$e[this.layer].vy?$e[this.layer].vy*a:0,oe=$e[this.layer].vx?$e[this.layer].vx*a:0;typeof f=="function"&&f.call(W.dragged.parentNode[je],oe,le,e,co,$e[this.layer].el)!=="continue"||ca($e[this.layer].el,oe,le)}).bind({layer:c}),24))),c++}while(t.bubbleScroll&&g!==s&&(g=_t(g,!1)));cr=u}},30),va=function(t){var n=t.originalEvent,o=t.putSortable,r=t.dragEl,i=t.activeSortable,l=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(n){var u=o||i;a();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);s(),u&&!u.el.contains(c)&&(l("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function Dr(){}Dr.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=Xt(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:va};ct(Dr,{pluginName:"revertOnSpill"});function Ir(){}Ir.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,r=o||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:va};ct(Ir,{pluginName:"removeOnSpill"});W.mount(new mh);W.mount(Ir,Dr);function Sl(e,t,n){const o=e.slice();return o[23]=t[n],o[25]=n,o}function Cl(e,t,n){const o=e.slice();return o[26]=t[n],o[28]=n,o}function kl(e,t,n){const o=e.slice();return o[29]=t[n],o[28]=n,o}function $l(e){let t,n=e[28]+1+"",o;return{c(){t=S("option"),o=z(n),t.__value=e[28]+1,t.value=t.__value,h(t,"class","svelte-1nj8mt0")},m(r,i){O(r,t,i),v(t,o)},p:U,d(r){r&&N(t)}}}function Al(e,t){let n,o,r=t[1][t[28]]+"",i,l,a,s,u=t[23][t[1][t[28]]]+"",f,c,g,d,p,m,_,w,b,k=Array(t[0]).fill(),A=[];for(let C=0;C<k.length;C+=1)A[C]=$l(kl(t,k,C));function R(...C){return t[16](t[23],t[28],...C)}function E(...C){return t[17](t[23],...C)}return{key:e,first:null,c(){n=S("div"),o=S("h5"),i=z(r),l=z(":"),a=D(),s=S("p"),f=z(u),c=D(),g=S("div"),d=z(`Rank:
                        `),p=S("select");for(let C=0;C<A.length;C+=1)A[C].c();m=D(),h(o,"class","bold underline svelte-1nj8mt0"),h(s,"class","svelte-1nj8mt0"),h(p,"class","answer-rank"),h(n,"class","answer svelte-1nj8mt0"),h(n,"id",_=`answer-${t[28]}-${t[23].qid}`),this.first=n},m(C,$){O(C,n,$),v(n,o),v(o,i),v(o,l),v(n,a),v(n,s),v(s,f),v(n,c),v(n,g),v(g,d),v(g,p);for(let y=0;y<A.length;y+=1)A[y]&&A[y].m(p,null);v(n,m),w||(b=[j(p,"change",R),j(n,"dragend",E)],w=!0)},p(C,$){if(t=C,$&3&&r!==(r=t[1][t[28]]+"")&&ie(i,r),$&259&&u!==(u=t[23][t[1][t[28]]]+"")&&ie(f,u),$&1){k=Array(t[0]).fill();let y;for(y=0;y<k.length;y+=1){const M=kl(t,k,y);A[y]?A[y].p(M,$):(A[y]=$l(M),A[y].c(),A[y].m(p,null))}for(;y<A.length;y+=1)A[y].d(1);A.length=k.length}$&257&&_!==(_=`answer-${t[28]}-${t[23].qid}`)&&h(n,"id",_)},d(C){C&&N(n),ke(A,C),w=!1,be(b)}}}function Rl(e,t){let n,o,r,i,l,a,s=t[23].qid+"",u,f,c,g=t[23].question+"",d,p,m,_=[],w=new Map,b,k,A,R,E=Array(t[0]).fill();const C=$=>$[28];for(let $=0;$<E.length;$+=1){let y=Cl(t,E,$),M=C(y);w.set(M,_[$]=Al(M,y))}return{key:e,first:null,c(){n=S("div"),o=S("div"),r=S("div"),i=S("div"),l=S("h5"),a=z("Question: "),u=z(s),f=D(),c=S("p"),d=z(g),p=D(),m=S("div");for(let $=0;$<_.length;$+=1)_[$].c();b=D(),h(l,"class","bold svelte-1nj8mt0"),h(c,"class","svelte-1nj8mt0"),h(i,"class","question svelte-1nj8mt0"),h(m,"class","answers"),Ie(m,"display","grid"),Ie(m,"grid-template-columns",t[7]),Ie(m,"gap",".25%"),Ie(m,"width","100%"),Ie(m,"margin","auto"),h(r,"class","message-content svelte-1nj8mt0"),h(o,"class","chat-message-center svelte-1nj8mt0"),h(n,"class","chat-message svelte-1nj8mt0"),this.first=n},m($,y){O($,n,y),v(n,o),v(o,r),v(r,i),v(i,l),v(l,a),v(l,u),v(i,f),v(i,c),v(c,d),v(r,p),v(r,m);for(let M=0;M<_.length;M+=1)_[M]&&_[M].m(m,null);t[18](m),v(n,b),A||(R=_n(k=vh.call(null,n,t[25]===t[8].length-1)),A=!0)},p($,y){t=$,y&256&&s!==(s=t[23].qid+"")&&ie(u,s),y&256&&g!==(g=t[23].question+"")&&ie(d,g),y&3331&&(E=Array(t[0]).fill(),_=Qt(_,y,C,1,t,E,w,m,wo,Al,null,Cl)),y&128&&Ie(m,"grid-template-columns",t[7]),k&&He(k.update)&&y&256&&k.update.call(null,t[25]===t[8].length-1)},d($){$&&N(n);for(let y=0;y<_.length;y+=1)_[y].d();t[18](null),A=!1,R()}}}function _h(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p,m,_,w,b,k=[],A=new Map,R,E,C,$,y,M,I=(e[4]?e[6]:"Send")+"",F,x,q,le,oe;function se(H){e[15](H)}let ge={table:"comparator/db"};e[5]!==void 0&&(ge.showModal=e[5]),t=new Cr({props:ge}),Ze.push(()=>bn(t,"showModal",se));let L=e[8];const B=H=>H[25];for(let H=0;H<L.length;H+=1){let G=Sl(e,L,H),Y=B(G);A.set(Y,k[H]=Rl(Y,G))}return{c(){ne(t.$$.fragment),o=D(),r=S("div"),i=S("div"),l=S("h5"),l.textContent="Q & A Comparison Instructions",a=D(),s=S("br"),u=D(),f=S("p"),f.textContent=`Ask a question and rank the answers across the models. Drag each answer to
      rank it, in ascending order, from left-to-right. Optionally, select the
      rank for each via the corresponding dropdown.`,c=D(),g=S("br"),d=D(),p=S("button"),p.textContent="Download Data",m=D(),_=S("div"),w=S("section"),b=S("div");for(let H=0;H<k.length;H+=1)k[H].c();R=D(),E=S("div"),C=S("form"),$=S("input"),y=D(),M=S("button"),F=z(I),h(l,"class","underline bold svelte-1nj8mt0"),h(f,"class","svelte-1nj8mt0"),h(p,"class","svelte-1nj8mt0"),h(i,"class","instructions svelte-1nj8mt0"),h(b,"class","chat-log svelte-1nj8mt0"),h(w,"class","chatbox svelte-1nj8mt0"),h($,"class","chat-input-textarea svelte-1nj8mt0"),h($,"placeholder","Type Message Here"),h(M,"class",x="btnyousend "+(e[3]===""?"":"active")+" svelte-1nj8mt0"),h(M,"type","submit"),h(C,"class","chat-input-form svelte-1nj8mt0"),h(E,"class","chat-input-holder svelte-1nj8mt0"),h(_,"class","ranked-chat svelte-1nj8mt0"),h(r,"class","ranked-feedback-container svelte-1nj8mt0")},m(H,G){Z(t,H,G),O(H,o,G),O(H,r,G),v(r,i),v(i,l),v(i,a),v(i,s),v(i,u),v(i,f),v(i,c),v(i,g),v(i,d),v(i,p),v(r,m),v(r,_),v(_,w),v(w,b);for(let Y=0;Y<k.length;Y+=1)k[Y]&&k[Y].m(b,null);v(_,R),v(_,E),v(E,C),v(C,$),We($,e[3]),v(C,y),v(C,M),v(M,F),q=!0,le||(oe=[j(p,"click",e[12]),j($,"input",e[19]),j(C,"submit",e[9])],le=!0)},p(H,[G]){const Y={};!n&&G&32&&(n=!0,Y.showModal=H[5],vn(()=>n=!1)),t.$set(Y),G&3463&&(L=H[8],k=Qt(k,G,B,1,H,L,A,b,wo,Rl,null,Sl)),G&8&&$.value!==H[3]&&We($,H[3]),(!q||G&80)&&I!==(I=(H[4]?H[6]:"Send")+"")&&ie(F,I),(!q||G&8&&x!==(x="btnyousend "+(H[3]===""?"":"active")+" svelte-1nj8mt0"))&&h(M,"class",x)},i(H){q||(P(t.$$.fragment,H),q=!0)},o(H){T(t.$$.fragment,H),q=!1},d(H){ee(t,H),H&&N(o),H&&N(r);for(let G=0;G<k.length;G+=1)k[G].d();le=!1,be(oe)}}}function vh(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function Ml(e){console.log("run update",e);const n=await fetch("/chat/comparator/db/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e})});if(n.ok)console.log("ok",n);else{const o=await n.text();alert(o)}}function bh(e,t,n){let o,r,i;ae(e,Zt,y=>n(8,i=y));let{numModels:l=1}=t,{models:a=[0]}=t,s="",u="",f=!1,c=!1;dt(async()=>{if(await new Promise(y=>setTimeout(y,200)),m){const y=new W(m,{animation:150,onUpdate(M){y.toArray()}});y.toArray()}g()});async function g(){const M=await(await fetch("/chat/comparator/db/retrieve")).json();console.log(M);const I=M.data;let F={},x=new Set;for(const q of I)x.add(q.model),F[q.qid]||(F[q.qid]={},F[q.qid].qid=q.qid,F[q.qid].question=q.question),F[q.qid][q.model]=q.answer,console.log(F);n(1,a=Array.from(x)),n(0,l=a.length),console.log(Object.values(F)),Oe(Zt,i=[...Object.values(F)],i)}const d=async y=>{y.preventDefault(),s=u,n(3,u=""),n(4,f=!0);let M={question:s};for(let F of a)M[F]="Loading...";Oe(Zt,i=[...i,M],i),console.log("compare chat log",Zt);const I=await fetch(`/chat/comparator/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})});if(I.ok){const F=await I.json();n(1,a=Object.keys(F.answer)),n(0,l=a.length);for(let x of a)M[x]=F.answer[x];M.qid=F.qid,Zt.update(x=>(x[x.length-1]=M,x))}else{const F=await I.text();alert(F)}n(4,f=!1)};let p=0;setInterval(()=>{n(13,p=(p+1)%4)},200);let m,_;function w(y,M){const I=M,x=ft(y.currentTarget.parentNode).selectAll("div.answer").nodes().map(se=>se.id);x.forEach((se,ge)=>{ft(`#${se}`).select(".answer-rank").property("value",ge+1)});let q=[];for(let[se,ge]of x.entries()){const L=parseInt(ge.split("-")[1]),B=a[L],H={rank:se,model:B};q.push(H)}let le=i.filter(se=>se.qid===I),oe=[];for(let se of q){const ge={model:se.model,qid:parseInt(I),rank:parseInt(se.rank)+1,answer:le[0][se.model]};oe.push(ge)}Ml(oe)}function b(y,M,I){const F=M,x=parseInt(y.target.value),q=a[I],le={qid:F,rank:parseInt(x),model:q};let oe=[],ge=i.filter(B=>B.qid===le.qid)[0][le.model];const L={model:le.model,qid:parseInt(le.qid),rank:parseInt(le.rank),answer:ge};oe.push(L),Ml(oe)}function k(){n(5,c=!0)}function A(y){c=y,n(5,c)}const R=(y,M,I)=>b(I,y.qid,M),E=(y,M)=>w(M,y.qid);function C(y){Ze[y?"unshift":"push"](()=>{m=y,n(2,m)})}function $(){u=this.value,n(3,u)}return e.$$set=y=>{"numModels"in y&&n(0,l=y.numModels),"models"in y&&n(1,a=y.models)},e.$$.update=()=>{e.$$.dirty&1&&n(7,o="1fr ".repeat(l).trim()),e.$$.dirty&8192&&n(6,r=".".repeat(p).padEnd(3)),e.$$.dirty&16388&&m&&(n(14,_=new W(m,{animation:150,dataIdAttr:"id",onUpdate(y){_.toArray()}})),_.toArray())},[l,a,m,u,f,c,r,o,i,d,w,b,k,p,_,A,R,E,C,$]}class wh extends de{constructor(t){super(),pe(this,t,bh,_h,ce,{numModels:0,models:1})}}function yh(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return ba(this.cover(t,n),t,n,e)}function ba(e,t,n,o){if(isNaN(t)||isNaN(n))return e;var r,i=e._root,l={data:o},a=e._x0,s=e._y0,u=e._x1,f=e._y1,c,g,d,p,m,_,w,b;if(!i)return e._root=l,e;for(;i.length;)if((m=t>=(c=(a+u)/2))?a=c:u=c,(_=n>=(g=(s+f)/2))?s=g:f=g,r=i,!(i=i[w=_<<1|m]))return r[w]=l,e;if(d=+e._x.call(null,i.data),p=+e._y.call(null,i.data),t===d&&n===p)return l.next=i,r?r[w]=l:e._root=l,e;do r=r?r[w]=new Array(4):e._root=new Array(4),(m=t>=(c=(a+u)/2))?a=c:u=c,(_=n>=(g=(s+f)/2))?s=g:f=g;while((w=_<<1|m)===(b=(p>=g)<<1|d>=c));return r[b]=i,r[w]=l,e}function Sh(e){var t,n,o=e.length,r,i,l=new Array(o),a=new Array(o),s=1/0,u=1/0,f=-1/0,c=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(l[n]=r,a[n]=i,r<s&&(s=r),r>f&&(f=r),i<u&&(u=i),i>c&&(c=i));if(s>f||u>c)return this;for(this.cover(s,u).cover(f,c),n=0;n<o;++n)ba(this,l[n],a[n],e[n]);return this}function Ch(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,o=this._y0,r=this._x1,i=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,i=(o=Math.floor(t))+1;else{for(var l=r-n||1,a=this._root,s,u;n>e||e>=r||o>t||t>=i;)switch(u=(t<o)<<1|e<n,s=new Array(4),s[u]=a,a=s,l*=2,u){case 0:r=n+l,i=o+l;break;case 1:n=r-l,i=o+l;break;case 2:r=n+l,o=i-l;break;case 3:n=r-l,o=i-l;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=o,this._x1=r,this._y1=i,this}function kh(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function $h(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Pe(e,t,n,o,r){this.node=e,this.x0=t,this.y0=n,this.x1=o,this.y1=r}function Ah(e,t,n){var o,r=this._x0,i=this._y0,l,a,s,u,f=this._x1,c=this._y1,g=[],d=this._root,p,m;for(d&&g.push(new Pe(d,r,i,f,c)),n==null?n=1/0:(r=e-n,i=t-n,f=e+n,c=t+n,n*=n);p=g.pop();)if(!(!(d=p.node)||(l=p.x0)>f||(a=p.y0)>c||(s=p.x1)<r||(u=p.y1)<i))if(d.length){var _=(l+s)/2,w=(a+u)/2;g.push(new Pe(d[3],_,w,s,u),new Pe(d[2],l,w,_,u),new Pe(d[1],_,a,s,w),new Pe(d[0],l,a,_,w)),(m=(t>=w)<<1|e>=_)&&(p=g[g.length-1],g[g.length-1]=g[g.length-1-m],g[g.length-1-m]=p)}else{var b=e-+this._x.call(null,d.data),k=t-+this._y.call(null,d.data),A=b*b+k*k;if(A<n){var R=Math.sqrt(n=A);r=e-R,i=t-R,f=e+R,c=t+R,o=d.data}}return o}function Rh(e){if(isNaN(f=+this._x.call(null,e))||isNaN(c=+this._y.call(null,e)))return this;var t,n=this._root,o,r,i,l=this._x0,a=this._y0,s=this._x1,u=this._y1,f,c,g,d,p,m,_,w;if(!n)return this;if(n.length)for(;;){if((p=f>=(g=(l+s)/2))?l=g:s=g,(m=c>=(d=(a+u)/2))?a=d:u=d,t=n,!(n=n[_=m<<1|p]))return this;if(!n.length)break;(t[_+1&3]||t[_+2&3]||t[_+3&3])&&(o=t,w=_)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,r?(i?r.next=i:delete r.next,this):t?(i?t[_]=i:delete t[_],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(o?o[w]=n:this._root=n),this):(this._root=i,this)}function Mh(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Eh(){return this._root}function Fh(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Dh(e){var t=[],n,o=this._root,r,i,l,a,s;for(o&&t.push(new Pe(o,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(o=n.node,i=n.x0,l=n.y0,a=n.x1,s=n.y1)&&o.length){var u=(i+a)/2,f=(l+s)/2;(r=o[3])&&t.push(new Pe(r,u,f,a,s)),(r=o[2])&&t.push(new Pe(r,i,f,u,s)),(r=o[1])&&t.push(new Pe(r,u,l,a,f)),(r=o[0])&&t.push(new Pe(r,i,l,u,f))}return this}function Ih(e){var t=[],n=[],o;for(this._root&&t.push(new Pe(this._root,this._x0,this._y0,this._x1,this._y1));o=t.pop();){var r=o.node;if(r.length){var i,l=o.x0,a=o.y0,s=o.x1,u=o.y1,f=(l+s)/2,c=(a+u)/2;(i=r[0])&&t.push(new Pe(i,l,a,f,c)),(i=r[1])&&t.push(new Pe(i,f,a,s,c)),(i=r[2])&&t.push(new Pe(i,l,c,f,u)),(i=r[3])&&t.push(new Pe(i,f,c,s,u))}n.push(o)}for(;o=n.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this}function Nh(e){return e[0]}function Ph(e){return arguments.length?(this._x=e,this):this._x}function Oh(e){return e[1]}function Th(e){return arguments.length?(this._y=e,this):this._y}function wa(e,t,n){var o=new Nr(t??Nh,n??Oh,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function Nr(e,t,n,o,r,i){this._x=e,this._y=t,this._x0=n,this._y0=o,this._x1=r,this._y1=i,this._root=void 0}function El(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Te=wa.prototype=Nr.prototype;Te.copy=function(){var e=new Nr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,o;if(!t)return e;if(!t.length)return e._root=El(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var r=0;r<4;++r)(o=t.source[r])&&(o.length?n.push({source:o,target:t.target[r]=new Array(4)}):t.target[r]=El(o));return e};Te.add=yh;Te.addAll=Sh;Te.cover=Ch;Te.data=kh;Te.extent=$h;Te.find=Ah;Te.remove=Rh;Te.removeAll=Mh;Te.root=Eh;Te.size=Fh;Te.visit=Dh;Te.visitAfter=Ih;Te.x=Ph;Te.y=Th;function nt(e){return function(){return e}}function Fl(e){return(e()-.5)*1e-6}function xh(e){return e.x+e.vx}function Vh(e){return e.y+e.vy}function zh(e){var t,n,o,r=1,i=1;typeof e!="function"&&(e=nt(e==null?1:+e));function l(){for(var u,f=t.length,c,g,d,p,m,_,w=0;w<i;++w)for(c=wa(t,xh,Vh).visitAfter(a),u=0;u<f;++u)g=t[u],m=n[g.index],_=m*m,d=g.x+g.vx,p=g.y+g.vy,c.visit(b);function b(k,A,R,E,C){var $=k.data,y=k.r,M=m+y;if($){if($.index>g.index){var I=d-$.x-$.vx,F=p-$.y-$.vy,x=I*I+F*F;x<M*M&&(I===0&&(I=Fl(o),x+=I*I),F===0&&(F=Fl(o),x+=F*F),x=(M-(x=Math.sqrt(x)))/x*r,g.vx+=(I*=x)*(M=(y*=y)/(_+y)),g.vy+=(F*=x)*M,$.vx-=I*(M=1-M),$.vy-=F*M)}return}return A>d+M||E<d-M||R>p+M||C<p-M}}function a(u){if(u.data)return u.r=n[u.data.index];for(var f=u.r=0;f<4;++f)u[f]&&u[f].r>u.r&&(u.r=u[f].r)}function s(){if(t){var u,f=t.length,c;for(n=new Array(f),u=0;u<f;++u)c=t[u],n[c.index]=+e(c,u,t)}}return l.initialize=function(u,f){t=u,o=f,s()},l.iterations=function(u){return arguments.length?(i=+u,l):i},l.strength=function(u){return arguments.length?(r=+u,l):r},l.radius=function(u){return arguments.length?(e=typeof u=="function"?u:nt(+u),s(),l):e},l}var Lh={value:()=>{}};function ya(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Yn(n)}function Yn(e){this._=e}function Hh(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Yn.prototype=ya.prototype={constructor:Yn,on:function(e,t){var n=this._,o=Hh(e+"",n),r,i=-1,l=o.length;if(arguments.length<2){for(;++i<l;)if((r=(e=o[i]).type)&&(r=qh(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(r=(e=o[i]).type)n[r]=Dl(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Dl(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yn(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function qh(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function Dl(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Lh,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Yt=0,an=0,tn=0,Sa=1e3,go,un,ho=0,Et=0,ko=0,$n=typeof performance=="object"&&performance.now?performance:Date,Ca=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ka(){return Et||(Ca(Gh),Et=$n.now()+ko)}function Gh(){Et=0}function dr(){this._call=this._time=this._next=null}dr.prototype=$a.prototype={constructor:dr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ka():+n)+(t==null?0:+t),!this._next&&un!==this&&(un?un._next=this:go=this,un=this),this._call=e,this._time=n,gr()},stop:function(){this._call&&(this._call=null,this._time=1/0,gr())}};function $a(e,t,n){var o=new dr;return o.restart(e,t,n),o}function Bh(){ka(),++Yt;for(var e=go,t;e;)(t=Et-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Yt}function Il(){Et=(ho=$n.now())+ko,Yt=an=0;try{Bh()}finally{Yt=0,Uh(),Et=0}}function jh(){var e=$n.now(),t=e-ho;t>Sa&&(ko-=t,ho=e)}function Uh(){for(var e,t=go,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:go=n);un=e,gr(o)}function gr(e){if(!Yt){an&&(an=clearTimeout(an));var t=e-Et;t>24?(e<1/0&&(an=setTimeout(Il,e-$n.now()-ko)),tn&&(tn=clearInterval(tn))):(tn||(ho=$n.now(),tn=setInterval(jh,Sa)),Yt=1,Ca(Il))}}const Wh=1664525,Xh=1013904223,Nl=4294967296;function Yh(){let e=1;return()=>(e=(Wh*e+Xh)%Nl)/Nl}var Qh=10,Kh=Math.PI*(3-Math.sqrt(5));function Jh(e){var t,n=1,o=.001,r=1-Math.pow(o,1/300),i=0,l=.6,a=new Map,s=$a(c),u=ya("tick","end"),f=Yh();e==null&&(e=[]);function c(){g(),u.call("tick",t),n<o&&(s.stop(),u.call("end",t))}function g(m){var _,w=e.length,b;m===void 0&&(m=1);for(var k=0;k<m;++k)for(n+=(i-n)*r,a.forEach(function(A){A(n)}),_=0;_<w;++_)b=e[_],b.fx==null?b.x+=b.vx*=l:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=l:(b.y=b.fy,b.vy=0);return t}function d(){for(var m=0,_=e.length,w;m<_;++m){if(w=e[m],w.index=m,w.fx!=null&&(w.x=w.fx),w.fy!=null&&(w.y=w.fy),isNaN(w.x)||isNaN(w.y)){var b=Qh*Math.sqrt(.5+m),k=m*Kh;w.x=b*Math.cos(k),w.y=b*Math.sin(k)}(isNaN(w.vx)||isNaN(w.vy))&&(w.vx=w.vy=0)}}function p(m){return m.initialize&&m.initialize(e,f),m}return d(),t={tick:g,restart:function(){return s.restart(c),t},stop:function(){return s.stop(),t},nodes:function(m){return arguments.length?(e=m,d(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(o=+m,t):o},alphaDecay:function(m){return arguments.length?(r=+m,t):+r},alphaTarget:function(m){return arguments.length?(i=+m,t):i},velocityDecay:function(m){return arguments.length?(l=1-m,t):1-l},randomSource:function(m){return arguments.length?(f=m,a.forEach(p),t):f},force:function(m,_){return arguments.length>1?(_==null?a.delete(m):a.set(m,p(_)),t):a.get(m)},find:function(m,_,w){var b=0,k=e.length,A,R,E,C,$;for(w==null?w=1/0:w*=w,b=0;b<k;++b)C=e[b],A=m-C.x,R=_-C.y,E=A*A+R*R,E<w&&($=C,w=E);return $},on:function(m,_){return arguments.length>1?(u.on(m,_),t):u.on(m)}}}function Zh(e){var t=nt(.1),n,o,r;typeof e!="function"&&(e=nt(e==null?0:+e));function i(a){for(var s=0,u=n.length,f;s<u;++s)f=n[s],f.vx+=(r[s]-f.x)*o[s]*a}function l(){if(n){var a,s=n.length;for(o=new Array(s),r=new Array(s),a=0;a<s;++a)o[a]=isNaN(r[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return i.initialize=function(a){n=a,l()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:nt(+a),l(),i):t},i.x=function(a){return arguments.length?(e=typeof a=="function"?a:nt(+a),l(),i):e},i}function ep(e){var t=nt(.1),n,o,r;typeof e!="function"&&(e=nt(e==null?0:+e));function i(a){for(var s=0,u=n.length,f;s<u;++s)f=n[s],f.vy+=(r[s]-f.y)*o[s]*a}function l(){if(n){var a,s=n.length;for(o=new Array(s),r=new Array(s),a=0;a<s;++a)o[a]=isNaN(r[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return i.initialize=function(a){n=a,l()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:nt(+a),l(),i):t},i.y=function(a){return arguments.length?(e=typeof a=="function"?a:nt(+a),l(),i):e},i}const po=Fe([]),Pl=Fe({labelNames:["txt2.txt","pdf2.txt"],labels:[0,3],projection:[[.1443715864989249,.00463214192040876,.11292804485781914],[-.05626482326843836,-.013694651798983428,.01709368313171561]]});function Ol(e,t,n){const o=e.slice();return o[20]=t[n],o[22]=n,o}function Tl(e){let t,n,o,r,i,l=e[20].file+"",a,s,u=nr(e[20].size)+"",f,c,g,d,p,m,_,w;return{c(){t=K("g"),n=K("circle"),i=K("text"),a=z(l),s=K("tspan"),f=z(u),h(n,"r",o=e[3](e[20].size)),h(n,"fill","var(--primary"),h(n,"stroke","var(--white)"),h(n,"stroke-width","1"),h(n,"fill-opacity",.95),h(n,"class","svelte-h2ab3o"),h(s,"x","0"),h(s,"y","15"),h(i,"class","bubble-file-text svelte-h2ab3o"),h(i,"text-anchor","middle"),h(i,"opacity",c=e[20].size>e[4]?1:0),h(t,"class",d="file-circle-g "+(e[20].size>e[4]?"large":"")+" svelte-h2ab3o"),h(t,"style",p=e[5](e[20].x,e[20].y)),h(t,"role","img")},m(b,k){O(b,t,k),v(t,n),v(t,i),v(i,a),v(i,s),v(s,f),m=!0,_||(w=[j(t,"mouseover",e[6]),j(t,"mouseout",e[7]),j(t,"focus",e[6]),j(t,"blur",e[7])],_=!0)},p(b,k){(!m||k&12&&o!==(o=b[3](b[20].size)))&&h(n,"r",o),(!m||k&4)&&l!==(l=b[20].file+"")&&ie(a,l),(!m||k&4)&&u!==(u=nr(b[20].size)+"")&&ie(f,u),(!m||k&20&&c!==(c=b[20].size>b[4]?1:0))&&h(i,"opacity",c),(!m||k&20&&d!==(d="file-circle-g "+(b[20].size>b[4]?"large":"")+" svelte-h2ab3o"))&&h(t,"class",d),(!m||k&4&&p!==(p=b[5](b[20].x,b[20].y)))&&h(t,"style",p)},i(b){m||(b&&Re(()=>{m&&(r||(r=tt(n,Dn,{duration:1e3},!0)),r.run(1))}),b&&Re(()=>{m&&(g||(g=tt(i,Dn,{duration:1e3},!0)),g.run(1))}),m=!0)},o(b){b&&(r||(r=tt(n,Dn,{duration:1e3},!1)),r.run(0)),b&&(g||(g=tt(i,Dn,{duration:1e3},!1)),g.run(0)),m=!1},d(b){b&&N(t),b&&r&&r.end(),b&&g&&g.end(),_=!1,be(w)}}}function tp(e){let t,n,o,r,i=e[2],l=[];for(let s=0;s<i.length;s+=1)l[s]=Tl(Ol(e,i,s));const a=s=>T(l[s],1,1,()=>{l[s]=null});return{c(){t=S("div"),n=K("svg");for(let s=0;s<l.length;s+=1)l[s].c();h(n,"width",e[0]),h(n,"height",e[1]),h(n,"class","svelte-h2ab3o"),h(t,"id","network-chart"),Re(()=>e[15].call(t))},m(s,u){O(s,t,u),v(t,n);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(n,null);o=Ft(t,e[15].bind(t)),r=!0},p(s,[u]){if(u&252){i=s[2];let f;for(f=0;f<i.length;f+=1){const c=Ol(s,i,f);l[f]?(l[f].p(c,u),P(l[f],1)):(l[f]=Tl(c),l[f].c(),P(l[f],1),l[f].m(n,null))}for(_e(),f=i.length;f<l.length;f+=1)a(f);ve()}(!r||u&1)&&h(n,"width",s[0]),(!r||u&2)&&h(n,"height",s[1])},i(s){if(!r){for(let u=0;u<i.length;u+=1)P(l[u]);r=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);r=!1},d(s){s&&N(t),ke(l,s),o()}}}function np(e,t,n){let o,r,i,l,a,s,u,f;ae(e,po,R=>n(14,f=R));let c=600,g=350,d=!0,p=!1;const m=(R,E)=>`transform: translate(${R}px, ${E}px)`,_=[-4,4],w=[-1,1];function b(){n(8,d=!0),n(9,p=!0);const R=ft(this);Eo(".file-circle-g").select("text").style("opacity",0),R.raise(),R.select("circle").attr("fill","var(--red)"),R.select("text").style("opacity",1)}const k=()=>{const R=Eo(".file-circle-g");R.select("circle").attr("fill","var(--yellow)"),R.select("text").style("opacity",0),n(9,p=!1),setTimeout(()=>{n(8,d=!1)},1e3)};function A(){c=this.offsetWidth,g=this.offsetHeight,n(0,c),n(1,g)}return e.$$.update=()=>{e.$$.dirty&16387&&n(2,o=f.map(R=>({...R,x:c/2,y:g/2,tickCount:0}))),e.$$.dirty&16384&&console.log(f.map(R=>R.size).sort((R,E)=>R-E)),e.$$.dirty&1&&n(13,r=Zh().x(c/2)),e.$$.dirty&2&&n(12,i=ep().y(g/2)),e.$$.dirty&16384&&n(3,s=Ke().domain(fn(f,R=>R.size)).range([12,60])),e.$$.dirty&8&&n(10,l=zh().radius(R=>s(R.size)+1).iterations(3)),e.$$.dirty&16384&&n(4,a=Rd(f.map(R=>R.size).sort((R,E)=>R-E),.85)),e.$$.dirty&1&&Ke().domain(_).range([5,c]),e.$$.dirty&2&&Ke().domain(w).range([g,5]),e.$$.dirty&4&&n(11,u=Jh().nodes(o).on("tick",()=>{n(2,o=[...o])})),e.$$.dirty&15360&&(u.force("x",r),u.force("y",i),u.force("collide",l),u.alpha(.02),u.restart()),e.$$.dirty&19468&&(s.domain(fn(f,R=>R.size)),o.forEach(R=>R.radius=s(R.size)),u.nodes(o),l.radius(R=>R.radius+.5)),e.$$.dirty&768&&d===!1&&(p||Eo(".large").select("text").style("opacity",1))},[c,g,o,s,a,m,b,k,d,p,l,u,i,r,f,A]}class op extends de{constructor(t){super(),pe(this,t,np,tp,ce,{})}}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vt(e,t){return typeof e=="function"?e(t):e}function Xe(e,t){return n=>{t.setState(o=>({...o,[e]:vt(n,o[e])}))}}function mo(e){return e instanceof Function}function rp(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function ip(e,t){const n=[],o=r=>{r.forEach(i=>{n.push(i);const l=t(i);l!=null&&l.length&&o(l)})};return o(e),n}function Q(e,t,n){let o=[],r;return()=>{let i;n.key&&n.debug&&(i=Date.now());const l=e();if(!(l.length!==o.length||l.some((u,f)=>o[f]!==u)))return r;o=l;let s;if(n.key&&n.debug&&(s=Date.now()),r=t(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-i)*100)/100,f=Math.round((Date.now()-s)*100)/100,c=f/16,g=(d,p)=>{for(d=String(d);d.length<p;)d=" "+d;return d};console.info(`%c⏱ ${g(f,5)} /${g(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*c,120))}deg 100% 31%);`,n==null?void 0:n.key)}return r}}function lp(e,t,n,o){var r,i;const a={...e._getDefaultColumnDef(),...t},s=a.accessorKey;let u=(r=(i=a.id)!=null?i:s?s.replace(".","_"):void 0)!=null?r:typeof a.header=="string"?a.header:void 0,f;if(a.accessorFn?f=a.accessorFn:s&&(s.includes(".")?f=g=>{let d=g;for(const m of s.split(".")){var p;d=(p=d)==null?void 0:p[m]}return d}:f=g=>g[a.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:f,parent:o,depth:n,columnDef:a,columns:[],getFlatColumns:Q(()=>[!0],()=>{var g;return[c,...(g=c.columns)==null?void 0:g.flatMap(d=>d.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}}),getLeafColumns:Q(()=>[e._getOrderColumnsFn()],g=>{var d;if((d=c.columns)!=null&&d.length){let p=c.columns.flatMap(m=>m.getLeafColumns());return g(p)}return[c]},{key:"column.getLeafColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}})};return c=e._features.reduce((g,d)=>Object.assign(g,d.createColumn==null?void 0:d.createColumn(c,e)),c),c}function xl(e,t,n){var o;let i={id:(o=n.id)!=null?o:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],a=s=>{s.subHeaders&&s.subHeaders.length&&s.subHeaders.map(a),l.push(s)};return a(i),l},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(l=>{Object.assign(i,l.createHeader==null?void 0:l.createHeader(i,e))}),i}const sp={createTable:e=>({getHeaderGroups:Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,o,r)=>{var i,l;const a=(i=o==null?void 0:o.map(c=>n.find(g=>g.id===c)).filter(Boolean))!=null?i:[],s=(l=r==null?void 0:r.map(c=>n.find(g=>g.id===c)).filter(Boolean))!=null?l:[],u=n.filter(c=>!(o!=null&&o.includes(c.id))&&!(r!=null&&r.includes(c.id)));return Ln(t,[...a,...u,...s],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterHeaderGroups:Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,o,r)=>(n=n.filter(i=>!(o!=null&&o.includes(i.id))&&!(r!=null&&r.includes(i.id))),Ln(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftHeaderGroups:Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,o)=>{var r;const i=(r=o==null?void 0:o.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?r:[];return Ln(t,i,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightHeaderGroups:Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,o)=>{var r;const i=(r=o==null?void 0:o.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?r:[];return Ln(t,i,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFooterGroups:Q(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFooterGroups:Q(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFooterGroups:Q(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFooterGroups:Q(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFlatHeaders:Q(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFlatHeaders:Q(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFlatHeaders:Q(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFlatHeaders:Q(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterLeafHeaders:Q(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var o;return!((o=n.subHeaders)!=null&&o.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftLeafHeaders:Q(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var o;return!((o=n.subHeaders)!=null&&o.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightLeafHeaders:Q(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var o;return!((o=n.subHeaders)!=null&&o.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeafHeaders:Q(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,o)=>{var r,i,l,a,s,u;return[...(r=(i=t[0])==null?void 0:i.headers)!=null?r:[],...(l=(a=n[0])==null?void 0:a.headers)!=null?l:[],...(s=(u=o[0])==null?void 0:u.headers)!=null?s:[]].map(f=>f.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})})};function Ln(e,t,n,o){var r,i;let l=0;const a=function(g,d){d===void 0&&(d=1),l=Math.max(l,d),g.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&a(p.columns,d+1)},0)};a(e);let s=[];const u=(g,d)=>{const p={depth:d,id:[o,`${d}`].filter(Boolean).join("_"),headers:[]},m=[];g.forEach(_=>{const w=[...m].reverse()[0],b=_.column.depth===p.depth;let k,A=!1;if(b&&_.column.parent?k=_.column.parent:(k=_.column,A=!0),w&&(w==null?void 0:w.column)===k)w.subHeaders.push(_);else{const R=xl(n,k,{id:[o,d,k.id,_==null?void 0:_.id].filter(Boolean).join("_"),isPlaceholder:A,placeholderId:A?`${m.filter(E=>E.column===k).length}`:void 0,depth:d,index:m.length});R.subHeaders.push(_),m.push(R)}p.headers.push(_),_.headerGroup=p}),s.push(p),d>0&&u(m,d-1)},f=t.map((g,d)=>xl(n,g,{depth:l,index:d}));u(f,l-1),s.reverse();const c=g=>g.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,_=0,w=[0];p.subHeaders&&p.subHeaders.length?(w=[],c(p.subHeaders).forEach(k=>{let{colSpan:A,rowSpan:R}=k;m+=A,w.push(R)})):m=1;const b=Math.min(...w);return _=_+b,p.colSpan=m,p.rowSpan=_,{colSpan:m,rowSpan:_}});return c((r=(i=s[0])==null?void 0:i.headers)!=null?r:[]),s}const Hn={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},qo=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ap={getDefaultColumnDef:()=>Hn,getInitialState:e=>({columnSizing:{},columnSizingInfo:qo(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:Xe("columnSizing",e),onColumnSizingInfoChange:Xe("columnSizingInfo",e)}),createColumn:(e,t)=>({getSize:()=>{var n,o,r;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Hn.minSize,(o=i??e.columnDef.size)!=null?o:Hn.size),(r=e.columnDef.maxSize)!=null?r:Hn.maxSize)},getStart:n=>{const o=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),r=o.findIndex(i=>i.id===e.id);if(r>0){const i=o[r-1];return i.getStart(n)+i.getSize()}return 0},resetSize:()=>{t.setColumnSizing(n=>{let{[e.id]:o,...r}=n;return r})},getCanResize:()=>{var n,o;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((o=t.options.enableColumnResizing)!=null?o:!0)},getIsResizing:()=>t.getState().columnSizingInfo.isResizingColumn===e.id}),createHeader:(e,t)=>({getSize:()=>{let n=0;const o=r=>{if(r.subHeaders.length)r.subHeaders.forEach(o);else{var i;n+=(i=r.column.getSize())!=null?i:0}};return o(e),n},getStart:()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},getResizeHandler:()=>{const n=t.getColumn(e.column.id),o=n==null?void 0:n.getCanResize();return r=>{if(!n||!o||(r.persist==null||r.persist(),Go(r)&&r.touches&&r.touches.length>1))return;const i=e.getSize(),l=e?e.getLeafHeaders().map(m=>[m.column.id,m.column.getSize()]):[[n.id,n.getSize()]],a=Go(r)?Math.round(r.touches[0].clientX):r.clientX,s={},u=(m,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(w=>{var b,k;const A=_-((b=w==null?void 0:w.startOffset)!=null?b:0),R=Math.max(A/((k=w==null?void 0:w.startSize)!=null?k:0),-.999999);return w.columnSizingStart.forEach(E=>{let[C,$]=E;s[C]=Math.round(Math.max($+$*R,0)*100)/100}),{...w,deltaOffset:A,deltaPercentage:R}}),(t.options.columnResizeMode==="onChange"||m==="end")&&t.setColumnSizing(w=>({...w,...s})))},f=m=>u("move",m),c=m=>{u("end",m),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g={moveHandler:m=>f(m.clientX),upHandler:m=>{document.removeEventListener("mousemove",g.moveHandler),document.removeEventListener("mouseup",g.upHandler),c(m.clientX)}},d={moveHandler:m=>(m.cancelable&&(m.preventDefault(),m.stopPropagation()),f(m.touches[0].clientX),!1),upHandler:m=>{var _;document.removeEventListener("touchmove",d.moveHandler),document.removeEventListener("touchend",d.upHandler),m.cancelable&&(m.preventDefault(),m.stopPropagation()),c((_=m.touches[0])==null?void 0:_.clientX)}},p=up()?{passive:!1}:!1;Go(r)?(document.addEventListener("touchmove",d.moveHandler,p),document.addEventListener("touchend",d.upHandler,p)):(document.addEventListener("mousemove",g.moveHandler,p),document.addEventListener("mouseup",g.upHandler,p)),t.setColumnSizingInfo(m=>({...m,startOffset:a,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:n.id}))}}}),createTable:e=>({setColumnSizing:t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),setColumnSizingInfo:t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),resetColumnSizing:t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},resetHeaderSizeInfo:t=>{var n;e.setColumnSizingInfo(t?qo():(n=e.initialState.columnSizingInfo)!=null?n:qo())},getTotalSize:()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((o,r)=>o+r.getSize(),0))!=null?t:0},getLeftTotalSize:()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((o,r)=>o+r.getSize(),0))!=null?t:0},getCenterTotalSize:()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((o,r)=>o+r.getSize(),0))!=null?t:0},getRightTotalSize:()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((o,r)=>o+r.getSize(),0))!=null?t:0}})};let qn=null;function up(){if(typeof qn=="boolean")return qn;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return qn=e,qn}function Go(e){return e.type==="touchstart"}const fp={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Xe("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;return{_autoResetExpanded:()=>{var o,r;if(!t){e._queue(()=>{t=!0});return}if((o=(r=e.options.autoResetAll)!=null?r:e.options.autoResetExpanded)!=null?o:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},setExpanded:o=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(o),toggleAllRowsExpanded:o=>{o??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},resetExpanded:o=>{var r,i;e.setExpanded(o?{}:(r=(i=e.initialState)==null?void 0:i.expanded)!=null?r:{})},getCanSomeRowsExpand:()=>e.getPrePaginationRowModel().flatRows.some(o=>o.getCanExpand()),getToggleAllRowsExpandedHandler:()=>o=>{o.persist==null||o.persist(),e.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const o=e.getState().expanded;return o===!0||Object.values(o).some(Boolean)},getIsAllRowsExpanded:()=>{const o=e.getState().expanded;return typeof o=="boolean"?o===!0:!(!Object.keys(o).length||e.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},getExpandedDepth:()=>{let o=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const l=i.split(".");o=Math.max(o,l.length)}),o},getPreExpandedRowModel:()=>e.getSortedRowModel(),getExpandedRowModel:()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())}},createRow:(e,t)=>({toggleExpanded:n=>{t.setExpanded(o=>{var r;const i=o===!0?!0:!!(o!=null&&o[e.id]);let l={};if(o===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{l[a]=!0}):l=o,n=(r=n)!=null?r:!i,!i&&n)return{...l,[e.id]:!0};if(i&&!n){const{[e.id]:a,...s}=l;return s}return o})},getIsExpanded:()=>{var n;const o=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:o===!0||o!=null&&o[e.id])},getCanExpand:()=>{var n,o,r;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((o=t.options.enableExpanding)!=null?o:!0)&&!!((r=e.subRows)!=null&&r.length)},getToggleExpandedHandler:()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}})},Aa=(e,t,n)=>{var o,r,i;const l=n.toLowerCase();return!!(!((o=e.getValue(t))==null||(r=o.toString())==null||(i=r.toLowerCase())==null)&&i.includes(l))};Aa.autoRemove=e=>Je(e);const Ra=(e,t,n)=>{var o,r;return!!(!((o=e.getValue(t))==null||(r=o.toString())==null)&&r.includes(n))};Ra.autoRemove=e=>Je(e);const Ma=(e,t,n)=>{var o,r;return((o=e.getValue(t))==null||(r=o.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Ma.autoRemove=e=>Je(e);const Ea=(e,t,n)=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(n)};Ea.autoRemove=e=>Je(e)||!(e!=null&&e.length);const Fa=(e,t,n)=>!n.some(o=>{var r;return!((r=e.getValue(t))!=null&&r.includes(o))});Fa.autoRemove=e=>Je(e)||!(e!=null&&e.length);const Da=(e,t,n)=>n.some(o=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(o)});Da.autoRemove=e=>Je(e)||!(e!=null&&e.length);const Ia=(e,t,n)=>e.getValue(t)===n;Ia.autoRemove=e=>Je(e);const Na=(e,t,n)=>e.getValue(t)==n;Na.autoRemove=e=>Je(e);const Pr=(e,t,n)=>{let[o,r]=n;const i=e.getValue(t);return i>=o&&i<=r};Pr.resolveFilterValue=e=>{let[t,n]=e,o=typeof t!="number"?parseFloat(t):t,r=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(o)?-1/0:o,l=n===null||Number.isNaN(r)?1/0:r;if(i>l){const a=i;i=l,l=a}return[i,l]};Pr.autoRemove=e=>Je(e)||Je(e[0])&&Je(e[1]);const st={includesString:Aa,includesStringSensitive:Ra,equalsString:Ma,arrIncludes:Ea,arrIncludesAll:Fa,arrIncludesSome:Da,equals:Ia,weakEquals:Na,inNumberRange:Pr};function Je(e){return e==null||e===""}const cp={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Xe("columnFilters",e),onGlobalFilterChange:Xe("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n,o;const r=(n=e.getCoreRowModel().flatRows[0])==null||(o=n._getAllCellsByColumnId()[t.id])==null?void 0:o.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>({getAutoFilterFn:()=>{const n=t.getCoreRowModel().flatRows[0],o=n==null?void 0:n.getValue(e.id);return typeof o=="string"?st.includesString:typeof o=="number"?st.inNumberRange:typeof o=="boolean"||o!==null&&typeof o=="object"?st.equals:Array.isArray(o)?st.arrIncludes:st.weakEquals},getFilterFn:()=>{var n,o;return mo(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(o=t.options.filterFns)==null?void 0:o[e.columnDef.filterFn])!=null?n:st[e.columnDef.filterFn]},getCanFilter:()=>{var n,o,r;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((o=t.options.enableColumnFilters)!=null?o:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&!!e.accessorFn},getCanGlobalFilter:()=>{var n,o,r,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((o=t.options.enableGlobalFilter)!=null?o:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},getIsFiltered:()=>e.getFilterIndex()>-1,getFilterValue:()=>{var n,o;return(n=t.getState().columnFilters)==null||(o=n.find(r=>r.id===e.id))==null?void 0:o.value},getFilterIndex:()=>{var n,o;return(n=(o=t.getState().columnFilters)==null?void 0:o.findIndex(r=>r.id===e.id))!=null?n:-1},setFilterValue:n=>{t.setColumnFilters(o=>{const r=e.getFilterFn(),i=o==null?void 0:o.find(f=>f.id===e.id),l=vt(n,i?i.value:void 0);if(Vl(r,l,e)){var a;return(a=o==null?void 0:o.filter(f=>f.id!==e.id))!=null?a:[]}const s={id:e.id,value:l};if(i){var u;return(u=o==null?void 0:o.map(f=>f.id===e.id?s:f))!=null?u:[]}return o!=null&&o.length?[...o,s]:[s]})},_getFacetedRowModel:t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),getFacetedRowModel:()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),_getFacetedUniqueValues:t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),getFacetedUniqueValues:()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),getFacetedMinMaxValues:()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}),createRow:(e,t)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:e=>({getGlobalAutoFilterFn:()=>st.includesString,getGlobalFilterFn:()=>{var t,n;const{globalFilterFn:o}=e.options;return mo(o)?o:o==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[o])!=null?t:st[o]},setColumnFilters:t=>{const n=e.getAllLeafColumns(),o=r=>{var i;return(i=vt(t,r))==null?void 0:i.filter(l=>{const a=n.find(s=>s.id===l.id);if(a){const s=a.getFilterFn();if(Vl(s,l.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(o)},setGlobalFilter:t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},resetGlobalFilter:t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},resetColumnFilters:t=>{var n,o;e.setColumnFilters(t?[]:(n=(o=e.initialState)==null?void 0:o.columnFilters)!=null?n:[])},getPreFilteredRowModel:()=>e.getCoreRowModel(),getFilteredRowModel:()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),_getGlobalFacetedRowModel:e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),getGlobalFacetedRowModel:()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),getGlobalFacetedUniqueValues:()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}})};function Vl(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const dp=(e,t,n)=>n.reduce((o,r)=>{const i=r.getValue(e);return o+(typeof i=="number"?i:0)},0),gp=(e,t,n)=>{let o;return n.forEach(r=>{const i=r.getValue(e);i!=null&&(o>i||o===void 0&&i>=i)&&(o=i)}),o},hp=(e,t,n)=>{let o;return n.forEach(r=>{const i=r.getValue(e);i!=null&&(o<i||o===void 0&&i>=i)&&(o=i)}),o},pp=(e,t,n)=>{let o,r;return n.forEach(i=>{const l=i.getValue(e);l!=null&&(o===void 0?l>=l&&(o=r=l):(o>l&&(o=l),r<l&&(r=l)))}),[o,r]},mp=(e,t)=>{let n=0,o=0;if(t.forEach(r=>{let i=r.getValue(e);i!=null&&(i=+i)>=i&&(++n,o+=i)}),n)return o/n},_p=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!rp(n))return;if(n.length===1)return n[0];const o=Math.floor(n.length/2),r=n.sort((i,l)=>i-l);return n.length%2!==0?r[o]:(r[o-1]+r[o])/2},vp=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),bp=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,wp=(e,t)=>t.length,Bo={sum:dp,min:gp,max:hp,extent:pp,mean:mp,median:_p,unique:vp,uniqueCount:bp,count:wp},yp={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Xe("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>({toggleGrouping:()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(o=>o!==e.id):[...n??[],e.id])},getCanGroup:()=>{var n,o,r,i;return(n=(o=(r=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?r:t.options.enableGrouping)!=null?o:!0)!=null?n:!!e.accessorFn},getIsGrouped:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},getGroupedIndex:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},getToggleGroupingHandler:()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},getAutoAggregationFn:()=>{const n=t.getCoreRowModel().flatRows[0],o=n==null?void 0:n.getValue(e.id);if(typeof o=="number")return Bo.sum;if(Object.prototype.toString.call(o)==="[object Date]")return Bo.extent},getAggregationFn:()=>{var n,o;if(!e)throw new Error;return mo(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(o=t.options.aggregationFns)==null?void 0:o[e.columnDef.aggregationFn])!=null?n:Bo[e.columnDef.aggregationFn]}}),createTable:e=>({setGrouping:t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),resetGrouping:t=>{var n,o;e.setGrouping(t?[]:(n=(o=e.initialState)==null?void 0:o.grouping)!=null?n:[])},getPreGroupedRowModel:()=>e.getFilteredRowModel(),getGroupedRowModel:()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())}),createRow:(e,t)=>({getIsGrouped:()=>!!e.groupingColumnId,getGroupingValue:n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const o=t.getColumn(n);return o!=null&&o.columnDef.getGroupingValue?(e._groupingValuesCache[n]=o.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},_groupingValuesCache:{}}),createCell:(e,t,n,o)=>({getIsGrouped:()=>t.getIsGrouped()&&t.id===n.groupingColumnId,getIsPlaceholder:()=>!e.getIsGrouped()&&t.getIsGrouped(),getIsAggregated:()=>{var r;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}})};function Sp(e,t,n){if(!(t!=null&&t.length)||!n)return e;const o=e.filter(i=>!t.includes(i.id));return n==="remove"?o:[...t.map(i=>e.find(l=>l.id===i)).filter(Boolean),...o]}const Cp={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Xe("columnOrder",e)}),createTable:e=>({setColumnOrder:t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),resetColumnOrder:t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},_getOrderColumnsFn:Q(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,o)=>r=>{let i=[];if(!(t!=null&&t.length))i=r;else{const l=[...t],a=[...r];for(;a.length&&l.length;){const s=l.shift(),u=a.findIndex(f=>f.id===s);u>-1&&i.push(a.splice(u,1)[0])}i=[...i,...a]}return Sp(i,n,o)},{key:!1})})},hr=0,pr=10,jo=()=>({pageIndex:hr,pageSize:pr}),kp={getInitialState:e=>({...e,pagination:{...jo(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Xe("pagination",e)}),createTable:e=>{let t=!1,n=!1;return{_autoResetPageIndex:()=>{var o,r;if(!t){e._queue(()=>{t=!0});return}if((o=(r=e.options.autoResetAll)!=null?r:e.options.autoResetPageIndex)!=null?o:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},setPagination:o=>{const r=i=>vt(o,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(r)},resetPagination:o=>{var r;e.setPagination(o?jo():(r=e.initialState.pagination)!=null?r:jo())},setPageIndex:o=>{e.setPagination(r=>{let i=vt(o,r.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,l)),{...r,pageIndex:i}})},resetPageIndex:o=>{var r,i,l;e.setPageIndex(o?hr:(r=(i=e.initialState)==null||(l=i.pagination)==null?void 0:l.pageIndex)!=null?r:hr)},resetPageSize:o=>{var r,i,l;e.setPageSize(o?pr:(r=(i=e.initialState)==null||(l=i.pagination)==null?void 0:l.pageSize)!=null?r:pr)},setPageSize:o=>{e.setPagination(r=>{const i=Math.max(1,vt(o,r.pageSize)),l=r.pageSize*r.pageIndex,a=Math.floor(l/i);return{...r,pageIndex:a,pageSize:i}})},setPageCount:o=>e.setPagination(r=>{var i;let l=vt(o,(i=e.options.pageCount)!=null?i:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...r,pageCount:l}}),getPageOptions:Q(()=>[e.getPageCount()],o=>{let r=[];return o&&o>0&&(r=[...new Array(o)].fill(null).map((i,l)=>l)),r},{key:!1,debug:()=>{var o;return(o=e.options.debugAll)!=null?o:e.options.debugTable}}),getCanPreviousPage:()=>e.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:o}=e.getState().pagination,r=e.getPageCount();return r===-1?!0:r===0?!1:o<r-1},previousPage:()=>e.setPageIndex(o=>o-1),nextPage:()=>e.setPageIndex(o=>o+1),getPrePaginationRowModel:()=>e.getExpandedRowModel(),getPaginationRowModel:()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),getPageCount:()=>{var o;return(o=e.options.pageCount)!=null?o:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}}},Uo=()=>({left:[],right:[]}),$p={getInitialState:e=>({columnPinning:Uo(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Xe("columnPinning",e)}),createColumn:(e,t)=>({pin:n=>{const o=e.getLeafColumns().map(r=>r.id).filter(Boolean);t.setColumnPinning(r=>{var i,l;if(n==="right"){var a,s;return{left:((a=r==null?void 0:r.left)!=null?a:[]).filter(c=>!(o!=null&&o.includes(c))),right:[...((s=r==null?void 0:r.right)!=null?s:[]).filter(c=>!(o!=null&&o.includes(c))),...o]}}if(n==="left"){var u,f;return{left:[...((u=r==null?void 0:r.left)!=null?u:[]).filter(c=>!(o!=null&&o.includes(c))),...o],right:((f=r==null?void 0:r.right)!=null?f:[]).filter(c=>!(o!=null&&o.includes(c)))}}return{left:((i=r==null?void 0:r.left)!=null?i:[]).filter(c=>!(o!=null&&o.includes(c))),right:((l=r==null?void 0:r.right)!=null?l:[]).filter(c=>!(o!=null&&o.includes(c)))}})},getCanPin:()=>e.getLeafColumns().some(o=>{var r,i;return((r=o.columnDef.enablePinning)!=null?r:!0)&&((i=t.options.enablePinning)!=null?i:!0)}),getIsPinned:()=>{const n=e.getLeafColumns().map(a=>a.id),{left:o,right:r}=t.getState().columnPinning,i=n.some(a=>o==null?void 0:o.includes(a)),l=n.some(a=>r==null?void 0:r.includes(a));return i?"left":l?"right":!1},getPinnedIndex:()=>{var n,o,r;const i=e.getIsPinned();return i?(n=(o=t.getState().columnPinning)==null||(r=o[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}}),createRow:(e,t)=>({getCenterVisibleCells:Q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,o,r)=>{const i=[...o??[],...r??[]];return n.filter(l=>!i.includes(l.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getLeftVisibleCells:Q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,o)=>(o??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getRightVisibleCells:Q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,o)=>(o??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>({setColumnPinning:t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),resetColumnPinning:t=>{var n,o;return e.setColumnPinning(t?Uo():(n=(o=e.initialState)==null?void 0:o.columnPinning)!=null?n:Uo())},getIsSomeColumnsPinned:t=>{var n;const o=e.getState().columnPinning;if(!t){var r,i;return!!((r=o.left)!=null&&r.length||(i=o.right)!=null&&i.length)}return!!((n=o[t])!=null&&n.length)},getLeftLeafColumns:Q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(o=>t.find(r=>r.id===o)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getRightLeafColumns:Q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(o=>t.find(r=>r.id===o)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getCenterLeafColumns:Q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,o)=>{const r=[...n??[],...o??[]];return t.filter(i=>!r.includes(i.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}})})},Ap={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Xe("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>({setRowSelection:t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),resetRowSelection:t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},toggleAllRowsSelected:t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const o={...n},r=e.getPreGroupedRowModel().flatRows;return t?r.forEach(i=>{i.getCanSelect()&&(o[i.id]=!0)}):r.forEach(i=>{delete o[i.id]}),o})},toggleAllPageRowsSelected:t=>e.setRowSelection(n=>{const o=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),r={...n};return e.getRowModel().rows.forEach(i=>{mr(r,i.id,o,e)}),r}),getPreSelectedRowModel:()=>e.getCoreRowModel(),getSelectedRowModel:Q(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Wo(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getFilteredSelectedRowModel:Q(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Wo(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getGroupedSelectedRowModel:Q(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Wo(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getIsAllRowsSelected:()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let o=!!(t.length&&Object.keys(n).length);return o&&t.some(r=>r.getCanSelect()&&!n[r.id])&&(o=!1),o},getIsAllPageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=e.getState();let o=!!t.length;return o&&t.some(r=>!n[r.id])&&(o=!1),o},getIsSomeRowsSelected:()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>t=>{e.toggleAllRowsSelected(t.target.checked)},getToggleAllPageRowsSelectedHandler:()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}}),createRow:(e,t)=>({toggleSelected:n=>{const o=e.getIsSelected();t.setRowSelection(r=>{if(n=typeof n<"u"?n:!o,o===n)return r;const i={...r};return mr(i,e.id,n,t),i})},getIsSelected:()=>{const{rowSelection:n}=t.getState();return Or(e,n)},getIsSomeSelected:()=>{const{rowSelection:n}=t.getState();return zl(e,n)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:n}=t.getState();return zl(e,n)==="all"},getCanSelect:()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},getCanSelectSubRows:()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},getCanMultiSelect:()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},getToggleSelectedHandler:()=>{const n=e.getCanSelect();return o=>{var r;n&&e.toggleSelected((r=o.target)==null?void 0:r.checked)}}})},mr=(e,t,n,o)=>{var r;const i=o.getRow(t);n?(i.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),i.getCanSelect()&&(e[t]=!0)):delete e[t],(r=i.subRows)!=null&&r.length&&i.getCanSelectSubRows()&&i.subRows.forEach(l=>mr(e,l.id,n,o))};function Wo(e,t){const n=e.getState().rowSelection,o=[],r={},i=function(l,a){return l.map(s=>{var u;const f=Or(s,n);if(f&&(o.push(s),r[s.id]=s),(u=s.subRows)!=null&&u.length&&(s={...s,subRows:i(s.subRows)}),f)return s}).filter(Boolean)};return{rows:i(t.rows),flatRows:o,rowsById:r}}function Or(e,t){var n;return(n=t[e.id])!=null?n:!1}function zl(e,t,n){if(e.subRows&&e.subRows.length){let o=!0,r=!1;return e.subRows.forEach(i=>{r&&!o||(Or(i,t)?r=!0:o=!1)}),o?"all":r?"some":!1}return!1}const _r=/([0-9]+)/gm,Rp=(e,t,n)=>Pa(wt(e.getValue(n)).toLowerCase(),wt(t.getValue(n)).toLowerCase()),Mp=(e,t,n)=>Pa(wt(e.getValue(n)),wt(t.getValue(n))),Ep=(e,t,n)=>Tr(wt(e.getValue(n)).toLowerCase(),wt(t.getValue(n)).toLowerCase()),Fp=(e,t,n)=>Tr(wt(e.getValue(n)),wt(t.getValue(n))),Dp=(e,t,n)=>{const o=e.getValue(n),r=t.getValue(n);return o>r?1:o<r?-1:0},Ip=(e,t,n)=>Tr(e.getValue(n),t.getValue(n));function Tr(e,t){return e===t?0:e>t?1:-1}function wt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Pa(e,t){const n=e.split(_r).filter(Boolean),o=t.split(_r).filter(Boolean);for(;n.length&&o.length;){const r=n.shift(),i=o.shift(),l=parseInt(r,10),a=parseInt(i,10),s=[l,a].sort();if(isNaN(s[0])){if(r>i)return 1;if(i>r)return-1;continue}if(isNaN(s[1]))return isNaN(l)?-1:1;if(l>a)return 1;if(a>l)return-1}return n.length-o.length}const nn={alphanumeric:Rp,alphanumericCaseSensitive:Mp,text:Ep,textCaseSensitive:Fp,datetime:Dp,basic:Ip},Np={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Xe("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>({getAutoSortingFn:()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let o=!1;for(const r of n){const i=r==null?void 0:r.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return nn.datetime;if(typeof i=="string"&&(o=!0,i.split(_r).length>1))return nn.alphanumeric}return o?nn.text:nn.basic},getAutoSortDir:()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},getSortingFn:()=>{var n,o;if(!e)throw new Error;return mo(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(o=t.options.sortingFns)==null?void 0:o[e.columnDef.sortingFn])!=null?n:nn[e.columnDef.sortingFn]},toggleSorting:(n,o)=>{const r=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(l=>{const a=l==null?void 0:l.find(d=>d.id===e.id),s=l==null?void 0:l.findIndex(d=>d.id===e.id);let u=[],f,c=i?n:r==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&o?a?f="toggle":f="add":l!=null&&l.length&&s!==l.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(i||r||(f="remove")),f==="add"){var g;u=[...l,{id:e.id,desc:c}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=l.map(d=>d.id===e.id?{...d,desc:c}:d):f==="remove"?u=l.filter(d=>d.id!==e.id):u=[{id:e.id,desc:c}];return u})},getFirstSortDir:()=>{var n,o;return((n=(o=e.columnDef.sortDescFirst)!=null?o:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:n=>{var o,r;const i=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==i&&((o=t.options.enableSortingRemoval)==null||o)&&(!(n&&(r=t.options.enableMultiRemove)!=null)||r)?!1:l==="desc"?"asc":"desc":i},getCanSort:()=>{var n,o;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((o=t.options.enableSorting)!=null?o:!0)&&!!e.accessorFn},getCanMultiSort:()=>{var n,o;return(n=(o=e.columnDef.enableMultiSort)!=null?o:t.options.enableMultiSort)!=null?n:!!e.accessorFn},getIsSorted:()=>{var n;const o=(n=t.getState().sorting)==null?void 0:n.find(r=>r.id===e.id);return o?o.desc?"desc":"asc":!1},getSortIndex:()=>{var n,o;return(n=(o=t.getState().sorting)==null?void 0:o.findIndex(r=>r.id===e.id))!=null?n:-1},clearSorting:()=>{t.setSorting(n=>n!=null&&n.length?n.filter(o=>o.id!==e.id):[])},getToggleSortingHandler:()=>{const n=e.getCanSort();return o=>{n&&(o.persist==null||o.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(o):!1))}}}),createTable:e=>({setSorting:t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),resetSorting:t=>{var n,o;e.setSorting(t?[]:(n=(o=e.initialState)==null?void 0:o.sorting)!=null?n:[])},getPreSortedRowModel:()=>e.getGroupedRowModel(),getSortedRowModel:()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())})},Pp={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Xe("columnVisibility",e)}),createColumn:(e,t)=>({toggleVisibility:n=>{e.getCanHide()&&t.setColumnVisibility(o=>({...o,[e.id]:n??!e.getIsVisible()}))},getIsVisible:()=>{var n,o;return(n=(o=t.getState().columnVisibility)==null?void 0:o[e.id])!=null?n:!0},getCanHide:()=>{var n,o;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((o=t.options.enableHiding)!=null?o:!0)},getToggleVisibilityHandler:()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}}),createRow:(e,t)=>({_getAllVisibleCells:Q(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(o=>o.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getVisibleCells:Q(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,o,r)=>[...n,...o,...r],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>{const t=(n,o)=>Q(()=>[o(),o().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),{key:n,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugColumns}});return{getVisibleFlatColumns:t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),getVisibleLeafColumns:t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),getLeftVisibleLeafColumns:t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),getRightVisibleLeafColumns:t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),getCenterVisibleLeafColumns:t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),setColumnVisibility:n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),resetColumnVisibility:n=>{var o;e.setColumnVisibility(n?{}:(o=e.initialState.columnVisibility)!=null?o:{})},toggleAllColumnsVisible:n=>{var o;n=(o=n)!=null?o:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((r,i)=>({...r,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),getIsSomeColumnsVisible:()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>n=>{var o;e.toggleAllColumnsVisible((o=n.target)==null?void 0:o.checked)}}}},Ll=[sp,Pp,Cp,$p,cp,Np,yp,fp,kp,Ap,ap];function Op(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:Ll};const o=n._features.reduce((f,c)=>Object.assign(f,c.getDefaultOptions==null?void 0:c.getDefaultOptions(n)),{}),r=f=>n.options.mergeOptions?n.options.mergeOptions(o,f):{...o,...f};let l={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(f=>{var c;l=(c=f.getInitialState==null?void 0:f.getInitialState(l))!=null?c:l});const a=[];let s=!1;const u={_features:Ll,options:{...o,...e},initialState:l,_queue:f=>{a.push(f),s||(s=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();s=!1}).catch(c=>setTimeout(()=>{throw c})))},reset:()=>{n.setState(n.initialState)},setOptions:f=>{const c=vt(f,n.options);n.options=r(c)},getState:()=>n.options.state,setState:f=>{n.options.onStateChange==null||n.options.onStateChange(f)},_getRowId:(f,c,g)=>{var d;return(d=n.options.getRowId==null?void 0:n.options.getRowId(f,c,g))!=null?d:`${g?[g.id,c].join("."):c}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:f=>{const c=n.getRowModel().rowsById[f];if(!c)throw new Error;return c},_getDefaultColumnDef:Q(()=>[n.options.defaultColumn],f=>{var c;return f=(c=f)!=null?c:{},{header:g=>{const d=g.header.column.columnDef;return d.accessorKey?d.accessorKey:d.accessorFn?d.id:null},cell:g=>{var d,p;return(d=(p=g.renderValue())==null||p.toString==null?void 0:p.toString())!=null?d:null},...n._features.reduce((g,d)=>Object.assign(g,d.getDefaultColumnDef==null?void 0:d.getDefaultColumnDef()),{}),...f}},{debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Q(()=>[n._getColumnDefs()],f=>{const c=function(g,d,p){return p===void 0&&(p=0),g.map(m=>{const _=lp(n,m,p,d),w=m;return _.columns=w.columns?c(w.columns,_,p+1):[],_})};return c(f)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllFlatColumns:Q(()=>[n.getAllColumns()],f=>f.flatMap(c=>c.getFlatColumns()),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),_getAllFlatColumnsById:Q(()=>[n.getAllFlatColumns()],f=>f.reduce((c,g)=>(c[g.id]=g,c),{}),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllLeafColumns:Q(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(f,c)=>{let g=f.flatMap(d=>d.getLeafColumns());return c(g)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getColumn:f=>n._getAllFlatColumnsById()[f]};return Object.assign(n,u),n._features.forEach(f=>Object.assign(n,f.createTable==null?void 0:f.createTable(n))),n}function Tp(e,t,n,o){const r=()=>{var l;return(l=i.getValue())!=null?l:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(o),renderValue:r,getContext:Q(()=>[e,n,t,i],(l,a,s,u)=>({table:l,column:a,row:s,cell:u,getValue:u.getValue,renderValue:u.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(l=>{Object.assign(i,l.createCell==null?void 0:l.createCell(i,n,t,e))},{}),i}const xr=(e,t,n,o,r,i,l)=>{let a={id:t,index:o,original:n,depth:r,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:s=>{if(a._valuesCache.hasOwnProperty(s))return a._valuesCache[s];const u=e.getColumn(s);if(u!=null&&u.accessorFn)return a._valuesCache[s]=u.accessorFn(a.original,o),a._valuesCache[s]},getUniqueValues:s=>{if(a._uniqueValuesCache.hasOwnProperty(s))return a._uniqueValuesCache[s];const u=e.getColumn(s);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[s]=u.columnDef.getUniqueValues(a.original,o),a._uniqueValuesCache[s]):(a._uniqueValuesCache[s]=[a.getValue(s)],a._uniqueValuesCache[s])},renderValue:s=>{var u;return(u=a.getValue(s))!=null?u:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>ip(a.subRows,s=>s.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId):void 0,getParentRows:()=>{let s=[],u=a;for(;;){const f=u.getParentRow();if(!f)break;s.push(f),u=f}return s.reverse()},getAllCells:Q(()=>[e.getAllLeafColumns()],s=>s.map(u=>Tp(e,a,u,u.id)),{key:!1,debug:()=>{var s;return(s=e.options.debugAll)!=null?s:e.options.debugRows}}),_getAllCellsByColumnId:Q(()=>[a.getAllCells()],s=>s.reduce((u,f)=>(u[f.column.id]=f,u),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var s;return(s=e.options.debugAll)!=null?s:e.options.debugRows}})};for(let s=0;s<e._features.length;s++){const u=e._features[s];Object.assign(a,u==null||u.createRow==null?void 0:u.createRow(a,e))}return a};function xp(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Hl(){return e=>Q(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},o=function(r,i,l){i===void 0&&(i=0);const a=[];for(let u=0;u<r.length;u++){const f=xr(e,e._getRowId(r[u],u,l),r[u],u,i,void 0,l==null?void 0:l.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,a.push(f),e.options.getSubRows){var s;f.originalSubRows=e.options.getSubRows(r[u],u),(s=f.originalSubRows)!=null&&s.length&&(f.subRows=o(f.originalSubRows,i+1,f))}}return a};return n.rows=o(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Oa(e,t,n){return n.options.filterFromLeafRows?Vp(e,t,n):zp(e,t,n)}function Vp(e,t,n){var o;const r=[],i={},l=(o=n.options.maxLeafRowFilterDepth)!=null?o:100,a=function(s,u){u===void 0&&(u=0);const f=[];for(let g=0;g<s.length;g++){var c;let d=s[g];const p=xr(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(p.columnFilters=d.columnFilters,(c=d.subRows)!=null&&c.length&&u<l){if(p.subRows=a(d.subRows,u+1),d=p,t(d)&&!p.subRows.length){f.push(d),i[d.id]=d,i[g]=d;continue}if(t(d)||p.subRows.length){f.push(d),i[d.id]=d,i[g]=d;continue}}else d=p,t(d)&&(f.push(d),i[d.id]=d,i[g]=d)}return f};return{rows:a(e),flatRows:r,rowsById:i}}function zp(e,t,n){var o;const r=[],i={},l=(o=n.options.maxLeafRowFilterDepth)!=null?o:100,a=function(s,u){u===void 0&&(u=0);const f=[];for(let g=0;g<s.length;g++){let d=s[g];if(t(d)){var c;if((c=d.subRows)!=null&&c.length&&u<l){const m=xr(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);m.subRows=a(d.subRows,u+1),d=m}f.push(d),r.push(d),i[d.id]=d}}return f};return{rows:a(e),flatRows:r,rowsById:i}}function ql(){return e=>Q(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,o)=>{if(!t.rows.length||!(n!=null&&n.length)&&!o){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const r=[],i=[];(n??[]).forEach(g=>{var d;const p=e.getColumn(g.id);if(!p)return;const m=p.getFilterFn();m&&r.push({id:g.id,filterFn:m,resolvedValue:(d=m.resolveFilterValue==null?void 0:m.resolveFilterValue(g.value))!=null?d:g.value})});const l=n.map(g=>g.id),a=e.getGlobalFilterFn(),s=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());o&&a&&s.length&&(l.push("__global__"),s.forEach(g=>{var d;i.push({id:g.id,filterFn:a,resolvedValue:(d=a.resolveFilterValue==null?void 0:a.resolveFilterValue(o))!=null?d:o})}));let u,f;for(let g=0;g<t.flatRows.length;g++){const d=t.flatRows[g];if(d.columnFilters={},r.length)for(let p=0;p<r.length;p++){u=r[p];const m=u.id;d.columnFilters[m]=u.filterFn(d,m,u.resolvedValue,_=>{d.columnFiltersMeta[m]=_})}if(i.length){for(let p=0;p<i.length;p++){f=i[p];const m=f.id;if(f.filterFn(d,m,f.resolvedValue,_=>{d.columnFiltersMeta[m]=_})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}const c=g=>{for(let d=0;d<l.length;d++)if(g.columnFilters[l[d]]===!1)return!1;return!0};return Oa(t.rows,c,e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Gl(){return(e,t)=>Q(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,o,r)=>{if(!n.rows.length||!(o!=null&&o.length)&&!r)return n;const i=[...o.map(a=>a.id).filter(a=>a!==t),r?"__global__":void 0].filter(Boolean),l=a=>{for(let s=0;s<i.length;s++)if(a.columnFilters[i[s]]===!1)return!1;return!0};return Oa(n.rows,l,e)},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{}})}function Bl(){return e=>Q(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const o=e.getState().sorting,r=[],i=o.filter(s=>{var u;return(u=e.getColumn(s.id))==null?void 0:u.getCanSort()}),l={};i.forEach(s=>{const u=e.getColumn(s.id);u&&(l[s.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=s=>{const u=[...s];return u.sort((f,c)=>{for(let d=0;d<i.length;d+=1){var g;const p=i[d],m=l[p.id],_=(g=p==null?void 0:p.desc)!=null?g:!1;let w=0;if(m.sortUndefined){const b=f.getValue(p.id),k=c.getValue(p.id),A=b===void 0,R=k===void 0;(A||R)&&(w=A&&R?0:A?m.sortUndefined:-m.sortUndefined)}if(w===0&&(w=m.sortingFn(f,c,p.id)),w!==0)return _&&(w*=-1),m.invertSorting&&(w*=-1),w}return f.index-c.index}),u.forEach(f=>{var c;r.push(f),(c=f.subRows)!=null&&c.length&&(f.subRows=a(f.subRows))}),u};return{rows:a(n.rows),flatRows:r,rowsById:n.rowsById}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Lp(e){const t=[],n=o=>{var r;t.push(o),(r=o.subRows)!=null&&r.length&&o.getIsExpanded()&&o.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function jl(e){return t=>Q(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,o)=>{if(!o.rows.length)return o;const{pageSize:r,pageIndex:i}=n;let{rows:l,flatRows:a,rowsById:s}=o;const u=r*i,f=u+r;l=l.slice(u,f);let c;t.options.paginateExpandedRows?c={rows:l,flatRows:a,rowsById:s}:c=Lp({rows:l,flatRows:a,rowsById:s}),c.flatRows=[];const g=d=>{c.flatRows.push(d),d.subRows.length&&d.subRows.forEach(g)};return c.rows.forEach(g),c},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}})}/**
 * svelte-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hp(e){let t;return{c(){t=z(e[0])},l(n){t=Za(n,e[0])},m(n,o){Wa(n,t,o)},p(n,[o]){o&1&&ie(t,n[0])},i:U,o:U,d(n){n&&N(t)}}}function qp(e,t,n){let{content:o}=t;return e.$$set=r=>{"content"in r&&n(0,o=r.content)},[o]}class Gp extends de{constructor(t){super(),pe(this,t,qp,Hp,ce,{content:0})}}const Bp=As((e,t,n,o)=>`${mu(t.content)}`);var jp=typeof document>"u"?Bp:Gp;function Up(e,t,n){let o,r;return o=new t({props:n,$$inline:!0}),{c(){ne(o.$$.fragment)},l(i){vu(o.$$.fragment,i)},m(i,l){Z(o,i,l),r=!0},p:U,i(i){r||(P(o.$$.fragment,i),r=!0)},o(i){T(o.$$.fragment,i),r=!1},d(i){ee(o,i)}}}function Wp(e,t){return class extends de{constructor(o){super(),pe(this,o,null,r=>Up(r,e,t),ce,{},void 0)}}}function Xp(e,t){return As((o,r,i,l)=>`${_u(e,"TableComponent").$$render(o,t,{},{})}`)}const vr=typeof window>"u"?Xp:Wp;function Yp(e){return typeof e=="object"&&typeof e.$$render=="function"&&typeof e.render=="function"}function Qp(e){var t,n;let o="__SVELTE_HMR"in window;return e.prototype instanceof de||o&&((t=e.name)==null?void 0:t.startsWith("Proxy<"))&&((n=e.name)==null?void 0:n.endsWith(">"))}function Ul(e){return typeof document>"u"?Yp(e):Qp(e)}function Wl(e){return vr(jp,{content:e})}function _o(e,t){if(!e)return null;if(Ul(e))return vr(e,t);if(typeof e=="function"){const n=e(t);return n==null?null:Ul(n)?vr(n,t):Wl(n)}return Wl(e)}function Xl(e){let t;"subscribe"in e?t=e:t=Ko(e);let n={state:{},onStateChange:()=>{},renderFallbackValue:null,...za(t)},o=Op(n),r=Fe(o.initialState),i=wu([r,t],a=>a);return Ko(o,function(s){const u=i.subscribe(f=>{let[c,g]=f;o.setOptions(d=>({...d,...g,state:{...c,...g.state},onStateChange:p=>{p instanceof Function?r.update(p):r.set(p),n.onStateChange==null||n.onStateChange(p)}})),s(o)});return function(){u()}})}/**
 * match-sorter-utils
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ta={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},Kp=Object.keys(Ta).join("|"),Jp=new RegExp(Kp,"g");function Zp(e){return e.replace(Jp,t=>Ta[t])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const Ve={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function em(e,t,n){var o;if(n=n||{},n.threshold=(o=n.threshold)!=null?o:Ve.MATCHES,!n.accessors){const l=Yl(e,t,n);return{rankedValue:e,rank:l,accessorIndex:-1,accessorThreshold:n.threshold,passed:l>=n.threshold}}const r=rm(e,n.accessors),i={rankedValue:e,rank:Ve.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let l=0;l<r.length;l++){const a=r[l];let s=Yl(a.itemValue,t,n);const{minRanking:u,maxRanking:f,threshold:c=n.threshold}=a.attributes;s<u&&s>=Ve.MATCHES?s=u:s>f&&(s=f),s=Math.min(s,f),s>=c&&s>i.rank&&(i.rank=s,i.passed=!0,i.accessorIndex=l,i.accessorThreshold=c,i.rankedValue=a.itemValue)}return i}function Yl(e,t,n){return e=Ql(e,n),t=Ql(t,n),t.length>e.length?Ve.NO_MATCH:e===t?Ve.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?Ve.EQUAL:e.startsWith(t)?Ve.STARTS_WITH:e.includes(` ${t}`)?Ve.WORD_STARTS_WITH:e.includes(t)?Ve.CONTAINS:t.length===1?Ve.NO_MATCH:tm(e).includes(t)?Ve.ACRONYM:nm(e,t))}function tm(e){let t="";return e.split(" ").forEach(o=>{o.split("-").forEach(i=>{t+=i.substr(0,1)})}),t}function nm(e,t){let n=0,o=0;function r(s,u,f){for(let c=f,g=u.length;c<g;c++)if(u[c]===s)return n+=1,c+1;return-1}function i(s){const u=1/s,f=n/t.length;return Ve.MATCHES+f*u}const l=r(t[0],e,0);if(l<0)return Ve.NO_MATCH;o=l;for(let s=1,u=t.length;s<u;s++){const f=t[s];if(o=r(f,e,o),!(o>-1))return Ve.NO_MATCH}const a=o-l;return i(a)}function Ql(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=Zp(e)),e}function om(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const o=n(e);return o==null?[]:Array.isArray(o)?o:[String(o)]}function rm(e,t){const n=[];for(let o=0,r=t.length;o<r;o++){const i=t[o],l=im(i),a=om(e,i);for(let s=0,u=a.length;s<u;s++)n.push({itemValue:a[s],attributes:l})}return n}const Kl={maxRanking:1/0,minRanking:-1/0};function im(e){return typeof e=="function"?Kl:{...Kl,...e}}function Jl(e,t,n){const o=e.slice();return o[17]=t[n],o}function Zl(e,t,n){const o=e.slice();return o[20]=t[n],o}function es(e,t,n){const o=e.slice();return o[23]=t[n],o}function ts(e,t,n){const o=e.slice();return o[26]=t[n],o}function lm(e){let t,n,o,r,i=am(e[26].column.getIsSorted())+"",l,a,s,u;var f=_o(e[26].column.columnDef.header,e[26].getContext());function c(g){return{}}return f&&(n=bt(f,c())),{c(){t=S("button"),n&&ne(n.$$.fragment),o=D(),r=S("span"),l=z(i),t.disabled=!e[26].column.getCanSort(),on(t,"is-disabled",!e[26].column.getCanSort())},m(g,d){O(g,t,d),n&&Z(n,t,null),v(t,o),v(t,r),v(r,l),a=!0,s||(u=j(t,"click",e[26].column.getToggleSortingHandler()),s=!0)},p(g,d){if(e=g,f!==(f=_o(e[26].column.columnDef.header,e[26].getContext()))){if(n){_e();const p=n;T(p.$$.fragment,1,0,()=>{ee(p,1)}),ve()}f?(n=bt(f,c()),ne(n.$$.fragment),P(n.$$.fragment,1),Z(n,t,o)):n=null}},i(g){a||(n&&P(n.$$.fragment,g),a=!0)},o(g){n&&T(n.$$.fragment,g),a=!1},d(g){g&&N(t),n&&ee(n),s=!1,u()}}}function ns(e){let t,n,o=!e[26].isPlaceholder&&lm(e);return{c(){t=S("th"),o&&o.c(),h(t,"colspan",e[26].colSpan),h(t,"class","svelte-16fb3tv")},m(r,i){O(r,t,i),o&&o.m(t,null),n=!0},p(r,i){r[26].isPlaceholder||o.p(r,i)},i(r){n||(P(o),n=!0)},o(r){T(o),n=!1},d(r){r&&N(t),o&&o.d()}}}function os(e){let t,n,o,r=e[23].headers,i=[];for(let a=0;a<r.length;a+=1)i[a]=ns(ts(e,r,a));const l=a=>T(i[a],1,1,()=>{i[a]=null});return{c(){t=S("tr");for(let a=0;a<i.length;a+=1)i[a].c();n=D()},m(a,s){O(a,t,s);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(t,null);v(t,n),o=!0},p(a,s){if(s&32){r=a[23].headers;let u;for(u=0;u<r.length;u+=1){const f=ts(a,r,u);i[u]?(i[u].p(f,s),P(i[u],1)):(i[u]=ns(f),i[u].c(),P(i[u],1),i[u].m(t,n))}for(_e(),u=r.length;u<i.length;u+=1)l(u);ve()}},i(a){if(!o){for(let s=0;s<r.length;s+=1)P(i[s]);o=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)T(i[s]);o=!1},d(a){a&&N(t),ke(i,a)}}}function rs(e,t){let n,o,r;var i=_o(t[20].column.columnDef.cell,t[20].getContext());function l(a){return{}}return i&&(o=bt(i,l())),{key:e,first:null,c(){n=S("td"),o&&ne(o.$$.fragment),h(n,"class","svelte-16fb3tv"),this.first=n},m(a,s){O(a,n,s),o&&Z(o,n,null),r=!0},p(a,s){if(t=a,s&2&&i!==(i=_o(t[20].column.columnDef.cell,t[20].getContext()))){if(o){_e();const u=o;T(u.$$.fragment,1,0,()=>{ee(u,1)}),ve()}i?(o=bt(i,l()),ne(o.$$.fragment),P(o.$$.fragment,1),Z(o,n,null)):o=null}},i(a){r||(o&&P(o.$$.fragment,a),r=!0)},o(a){o&&T(o.$$.fragment,a),r=!1},d(a){a&&N(n),o&&ee(o)}}}function is(e){let t,n=[],o=new Map,r,i,l=e[17].getVisibleCells();const a=s=>s[20].id;for(let s=0;s<l.length;s+=1){let u=Zl(e,l,s),f=a(u);o.set(f,n[s]=rs(f,u))}return{c(){t=S("tr");for(let s=0;s<n.length;s+=1)n[s].c();r=D(),h(t,"class","svelte-16fb3tv")},m(s,u){O(s,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);v(t,r),i=!0},p(s,u){u&2&&(l=s[17].getVisibleCells(),_e(),n=Qt(n,u,a,1,s,l,o,t,Cs,rs,r,Zl),ve())},i(s){if(!i){for(let u=0;u<l.length;u+=1)P(n[u]);i=!0}},o(s){for(let u=0;u<n.length;u+=1)T(n[u]);i=!1},d(s){s&&N(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function sm(e){let t,n,o,r,i,l,a,s,u,f,c,g="<",d,p,m,_,w,b,k,A,R,E,C=" ",$,y,M=" ",I,F,x=e[1].getPageCount()+"",q,le,oe,se=">",ge,L,B,H,G,Y=e[5],ue=[];for(let J=0;J<Y.length;J+=1)ue[J]=os(es(e,Y,J));const En=J=>T(ue[J],1,1,()=>{ue[J]=null});let yt=e[1].getRowModel().rows,Se=[];for(let J=0;J<yt.length;J+=1)Se[J]=is(Jl(e,yt,J));const xa=J=>T(Se[J],1,1,()=>{Se[J]=null});return{c(){t=S("div"),n=S("input"),o=D(),r=S("div"),i=S("table"),l=S("thead");for(let J=0;J<ue.length;J+=1)ue[J].c();a=D(),s=S("tbody");for(let J=0;J<Se.length;J+=1)Se[J].c();u=D(),f=S("div"),c=S("button"),d=z(g),m=D(),_=S("span"),_.textContent="Page",w=D(),b=S("input"),R=D(),E=S("span"),$=z(C),y=z("of"),I=z(M),F=D(),q=z(x),le=D(),oe=S("button"),ge=z(se),h(n,"type","search"),h(n,"class","input"),h(n,"placeholder","Search..."),h(l,"class","svelte-16fb3tv"),h(s,"class","svelte-16fb3tv"),h(c,"class","button is-white svelte-16fb3tv"),c.disabled=p=!e[1].getCanPreviousPage(),on(c,"is-disabled",!e[1].getCanPreviousPage()),h(b,"type","number"),b.value=k=e[1].getState().pagination.pageIndex+1,h(b,"min",0),h(b,"max",A=e[1].getPageCount()-1),h(b,"class","mx-1 svelte-16fb3tv"),h(oe,"class","button is-white svelte-16fb3tv"),oe.disabled=L=!e[1].getCanNextPage(),on(oe,"is-disabled",!e[1].getCanNextPage()),h(f,"class","is-flex is-align-items-center svelte-16fb3tv"),h(i,"class","table svelte-16fb3tv"),h(r,"class","table-container svelte-16fb3tv")},m(J,me){O(J,t,me),v(t,n),v(t,o),v(t,r),v(r,i),v(i,l);for(let re=0;re<ue.length;re+=1)ue[re]&&ue[re].m(l,null);v(i,a),v(i,s);for(let re=0;re<Se.length;re+=1)Se[re]&&Se[re].m(s,null);v(i,u),v(i,f),v(f,c),v(c,d),v(f,m),v(f,_),v(f,w),v(f,b),v(f,R),v(f,E),v(E,$),v(E,y),v(E,I),v(E,F),v(E,q),v(f,le),v(f,oe),v(oe,ge),B=!0,H||(G=[j(n,"keyup",e[3]),j(n,"search",e[3]),j(c,"click",e[9]),j(b,"change",e[4]),j(oe,"click",e[10])],H=!0)},p(J,[me]){if(me&32){Y=J[5];let re;for(re=0;re<Y.length;re+=1){const Kt=es(J,Y,re);ue[re]?(ue[re].p(Kt,me),P(ue[re],1)):(ue[re]=os(Kt),ue[re].c(),P(ue[re],1),ue[re].m(l,null))}for(_e(),re=Y.length;re<ue.length;re+=1)En(re);ve()}if(me&2){yt=J[1].getRowModel().rows;let re;for(re=0;re<yt.length;re+=1){const Kt=Jl(J,yt,re);Se[re]?(Se[re].p(Kt,me),P(Se[re],1)):(Se[re]=is(Kt),Se[re].c(),P(Se[re],1),Se[re].m(s,null))}for(_e(),re=yt.length;re<Se.length;re+=1)xa(re);ve()}(!B||me&2&&p!==(p=!J[1].getCanPreviousPage()))&&(c.disabled=p),(!B||me&2)&&on(c,"is-disabled",!J[1].getCanPreviousPage()),(!B||me&2&&k!==(k=J[1].getState().pagination.pageIndex+1)&&b.value!==k)&&(b.value=k),(!B||me&2&&A!==(A=J[1].getPageCount()-1))&&h(b,"max",A),(!B||me&2)&&x!==(x=J[1].getPageCount()+"")&&ie(q,x),(!B||me&2&&L!==(L=!J[1].getCanNextPage()))&&(oe.disabled=L),(!B||me&2)&&on(oe,"is-disabled",!J[1].getCanNextPage())},i(J){if(!B){for(let me=0;me<Y.length;me+=1)P(ue[me]);for(let me=0;me<yt.length;me+=1)P(Se[me]);B=!0}},o(J){ue=ue.filter(Boolean);for(let me=0;me<ue.length;me+=1)T(ue[me]);Se=Se.filter(Boolean);for(let me=0;me<Se.length;me+=1)T(Se[me]);B=!1},d(J){J&&N(t),ke(ue,J),ke(Se,J),H=!1,be(G)}}}function am(e){return e?e==="asc"?"🔼":"🔽":""}function um(e,t,n){let o,r,i=U,l=()=>(i(),i=vo(w,R=>n(1,r=R)),w);ae(e,po,R=>n(8,o=R)),e.$$.on_destroy.push(()=>i());const a=(R,E,C,$)=>{if(console.log("yessir"),Array.isArray(C))return C.length===0?!0:C.includes(R.getValue(E));typeof C=="number"&&(C=String(C));const y=em(R.getValue(E),C);return $({itemRank:y}),y.passed},s=xp(),u=[s.accessor("file",{header:"File",cell:R=>R.getValue(),footer:R=>R.column.id}),s.accessor("size",{header:"Size",cell:R=>nr(R.getValue()),footer:R=>R.column.id}),s.accessor("type",{header:"Type",cell:R=>R.getValue(),footer:R=>R.column.id})];let f="",c=Fe({data:o,columns:u,getCoreRowModel:Hl(),getSortedRowModel:Bl(),getFilteredRowModel:ql(),globalFilterFn:a,getFacetedRowModel:Gl(),getPaginationRowModel:jl(),state:{globalFilter:f,pagination:{pageSize:7,pageIndex:0}},enableGlobalFilter:!0});function g(R){n(6,f=R),c.update(E=>({...E,state:{...E.state,globalFilter:R}}))}function d(R){c.update(E=>{var C;return{...E,state:{...E.state,pagination:{...(C=E.state)==null?void 0:C.pagination,pageIndex:R}}}})}let p;function m(R){clearTimeout(p),p=setTimeout(()=>{const E=R.target;g(E.value)},100)}function _(R){const E=R.target;d(parseInt(E.value)-1)}let w=Xl(c);l();let b=r.getHeaderGroups();const k=()=>d(r.getState().pagination.pageIndex-1),A=()=>d(r.getState().pagination.pageIndex+1);return e.$$.update=()=>{e.$$.dirty&448&&(n(7,c={data:o,columns:u,getCoreRowModel:Hl(),getSortedRowModel:Bl(),getFilteredRowModel:ql(),globalFilterFn:a,getFacetedRowModel:Gl(),getPaginationRowModel:jl(),state:{globalFilter:f,pagination:{pageSize:7,pageIndex:0}},enableGlobalFilter:!0}),l(n(0,w=Xl(Fe(c)))))},[w,r,d,m,_,b,f,c,o,k,A]}class fm extends de{constructor(t){super(),pe(this,t,um,sm,ce,{})}}function ls(e){let t,n;return{c(){t=S("p"),n=z(e[3])},m(o,r){O(o,t,r),v(t,n)},p(o,r){r&8&&ie(n,o[3])},d(o){o&&N(t)}}}function ss(e){let t;return{c(){t=S("p"),t.textContent="Data Successfully indexed!"},m(n,o){O(n,t,o)},d(n){n&&N(t)}}}function as(e){let t,n;return t=new fm({}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function cm(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p,m,_,w,b,k,A,R,E,C,$=e[2]&&!e[1]&&ls(e),y=e[1]&&ss();k=new op({});let M=e[0]&&as();return{c(){t=S("div"),n=S("div"),o=S("div"),r=S("div"),i=S("h4"),i.textContent="Upload Data",l=D(),a=S("br"),s=D(),u=S("form"),f=S("input"),c=D(),$&&$.c(),g=D(),y&&y.c(),d=D(),p=S("p"),p.textContent="These are the files your model will use as context.",m=D(),_=S("p"),_.innerHTML="Currently <strong>pdf</strong>, txt, and md are supported.",w=D(),b=S("div"),ne(k.$$.fragment),A=D(),M&&M.c(),h(f,"type","file"),f.multiple=!0,h(r,"class","upload-box svelte-1lu6hos"),h(o,"class","upload-container svelte-1lu6hos"),h(n,"class","file-container svelte-1lu6hos"),h(b,"class","charts-container svelte-1lu6hos"),h(t,"class","data-grid svelte-1lu6hos")},m(I,F){O(I,t,F),v(t,n),v(n,o),v(o,r),v(r,i),v(r,l),v(r,a),v(r,s),v(r,u),v(u,f),v(r,c),$&&$.m(r,null),v(r,g),y&&y.m(r,null),v(r,d),v(r,p),v(r,m),v(r,_),v(t,w),v(t,b),Z(k,b,null),v(b,A),M&&M.m(b,null),R=!0,E||(C=j(f,"change",e[4]),E=!0)},p(I,[F]){I[2]&&!I[1]?$?$.p(I,F):($=ls(I),$.c(),$.m(r,g)):$&&($.d(1),$=null),I[1]?y||(y=ss(),y.c(),y.m(r,d)):y&&(y.d(1),y=null),I[0]?M?F&1&&P(M,1):(M=as(),M.c(),P(M,1),M.m(b,null)):M&&(_e(),T(M,1,1,()=>{M=null}),ve())},i(I){R||(P(k.$$.fragment,I),P(M),R=!0)},o(I){T(k.$$.fragment,I),T(M),R=!1},d(I){I&&N(t),$&&$.d(),y&&y.d(),ee(k),M&&M.d(),E=!1,C()}}}function dm(e,t,n){let o,r,i;ae(e,Pl,p=>n(6,r=p)),ae(e,po,p=>n(7,i=p));let l=[],a=!1,s=!1;async function u(p){n(0,l=p.target.files);const m=new FormData;for(let _=0;_<l.length;_++)m.append("files",l[_]);await fetch("/retrieval/file/upload",{method:"POST",body:m}),c(),f(),g()}async function f(){const _=(await(await fetch("/retrieval/file/get")).json()).files.map(w=>({file:w.name,size:w.size,type:w.type}));Oe(po,i=[..._],i)}async function c(){console.log("index!"),n(2,s=!0),await(await fetch("/retrieval/vector_db/index",{method:"POST"})).json(),n(1,a=!0),n(2,s=!1)}async function g(){console.log("getting embeddings...");const m=await(await fetch("/retrieval/vector_db/get")).json();console.log("embeddingData",m),Oe(Pl,r=m,r)}dt(()=>{f()});let d=0;return setInterval(()=>{n(5,d=(d+1)%4)},200),e.$$.update=()=>{e.$$.dirty&32&&n(3,o="Indexing"+".".repeat(d))},[l,a,s,o,u,d]}class gm extends de{constructor(t){super(),pe(this,t,dm,cm,ce,{})}}function hm(e){let t,n,o,r,i,l,a,s,u,f,c,g,d,p,m,_,w,b,k,A,R,E,C,$,y,M,I;return i=new oa({}),s=new ra({}),c=new Js({}),p=new ea({props:{feedback:"Bad"}}),w=new na({}),A=new ta({}),M=new Zs({}),{c(){t=S("div"),n=S("div"),o=S("div"),r=S("div"),ne(i.$$.fragment),l=D(),a=S("div"),ne(s.$$.fragment),u=D(),f=S("div"),ne(c.$$.fragment),g=D(),d=S("div"),ne(p.$$.fragment),m=D(),_=S("div"),ne(w.$$.fragment),b=D(),k=S("div"),ne(A.$$.fragment),R=D(),E=S("div"),C=S("div"),C.innerHTML=`<div class="right-chart-1 svelte-14znspc"></div> 
      <div class="right-chart-2 svelte-14znspc"></div>`,$=D(),y=S("div"),ne(M.$$.fragment),h(r,"class","card-1 svelte-14znspc"),h(a,"class","card-2"),h(o,"class","left-text svelte-14znspc"),h(f,"class","left-confidence svelte-14znspc"),h(d,"class","left-question svelte-14znspc"),h(_,"class","left-filter svelte-14znspc"),h(k,"class","left-filter2"),h(n,"class","feedback-left svelte-14znspc"),h(C,"class","right-chart svelte-14znspc"),h(y,"class","right-table svelte-14znspc"),h(E,"class","feedback-right svelte-14znspc"),h(t,"class","feedback-container svelte-14znspc")},m(F,x){O(F,t,x),v(t,n),v(n,o),v(o,r),Z(i,r,null),v(o,l),v(o,a),Z(s,a,null),v(n,u),v(n,f),Z(c,f,null),v(n,g),v(n,d),Z(p,d,null),v(n,m),v(n,_),Z(w,_,null),v(n,b),v(n,k),Z(A,k,null),v(t,R),v(t,E),v(E,C),v(E,$),v(E,y),Z(M,y,null),I=!0},p:U,i(F){I||(P(i.$$.fragment,F),P(s.$$.fragment,F),P(c.$$.fragment,F),P(p.$$.fragment,F),P(w.$$.fragment,F),P(A.$$.fragment,F),P(M.$$.fragment,F),I=!0)},o(F){T(i.$$.fragment,F),T(s.$$.fragment,F),T(c.$$.fragment,F),T(p.$$.fragment,F),T(w.$$.fragment,F),T(A.$$.fragment,F),T(M.$$.fragment,F),I=!1},d(F){F&&N(t),ee(i),ee(s),ee(c),ee(p),ee(w),ee(A),ee(M)}}}function pm(e,t,n){let o;ae(e,wn,i=>n(0,o=i)),dt(()=>{console.log("FEEDBACK on mount"),r()});async function r(){const s=(await(await fetch("/chat/rag_table/retrieve")).json()).rows.map(u=>({id:u[0],question:u[1],answer:u[2],vote_status:u[4]}));Oe(wn,o=[...s],o)}return[]}class mm extends de{constructor(t){super(),pe(this,t,pm,hm,ce,{})}}function _m(e){let t,n;return t=new ia({}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function vm(e){let t,n;return t=new mm({}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function bm(e){let t,n;return t=new ia({}),{c(){ne(t.$$.fragment)},m(o,r){Z(t,o,r),n=!0},i(o){n||(P(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){ee(t,o)}}}function wm(e){let t,n,o,r;const i=[bm,vm,_m],l=[];function a(s,u){return s[0]==="vote"?0:s[0]==="rag"?1:2}return t=a(e),n=l[t]=i[t](e),{c(){n.c(),o=Ee()},m(s,u){l[t].m(s,u),O(s,o,u),r=!0},p(s,[u]){let f=t;t=a(s),t!==f&&(_e(),T(l[f],1,1,()=>{l[f]=null}),ve(),n=l[t],n||(n=l[t]=i[t](s),n.c()),P(n,1),n.m(o.parentNode,o))},i(s){r||(P(n),r=!0)},o(s){T(n),r=!1},d(s){l[t].d(s),s&&N(o)}}}function ym(e,t,n){let{feedback:o}=t;return e.$$set=r=>{"feedback"in r&&n(0,o=r.feedback)},[o]}class Sm extends de{constructor(t){super(),pe(this,t,ym,wm,ce,{feedback:0})}}function us(e,t,n){const o=e.slice();return o[7]=t[n],o}function fs(e){let t,n=e[0],o=[];for(let r=0;r<n.length;r+=1)o[r]=cs(us(e,n,r));return{c(){for(let r=0;r<o.length;r+=1)o[r].c();t=Ee()},m(r,i){for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(r,i);O(r,t,i)},p(r,i){if(i&33){n=r[0];let l;for(l=0;l<n.length;l+=1){const a=us(r,n,l);o[l]?o[l].p(a,i):(o[l]=cs(a),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(r){ke(o,r),r&&N(t)}}}function cs(e){let t,n=e[7].svelte_component+"",o,r,i,l;function a(){return e[6](e[7])}return{c(){t=S("button"),o=z(n),h(t,"aria-label",r=`Load ${e[7].svelte_component} component`)},m(s,u){O(s,t,u),v(t,o),i||(l=j(t,"click",a),i=!0)},p(s,u){e=s,u&1&&n!==(n=e[7].svelte_component+"")&&ie(o,n),u&1&&r!==(r=`Load ${e[7].svelte_component} component`)&&h(t,"aria-label",r)},d(s){s&&N(t),i=!1,l()}}}function ds(e){let t,n,o;const r=[e[1].props];var i=e[4][e[1].svelte_component];function l(a){let s={};for(let u=0;u<r.length;u+=1)s=mn(s,r[u]);return{props:s}}return i&&(t=bt(i,l())),{c(){t&&ne(t.$$.fragment),n=Ee()},m(a,s){t&&Z(t,a,s),O(a,n,s),o=!0},p(a,s){const u=s&2?ks(r,[$s(a[1].props)]):{};if(s&2&&i!==(i=a[4][a[1].svelte_component])){if(t){_e();const f=t;T(f.$$.fragment,1,0,()=>{ee(f,1)}),ve()}i?(t=bt(i,l()),ne(t.$$.fragment),P(t.$$.fragment,1),Z(t,n.parentNode,n)):t=null}else i&&t.$set(u)},i(a){o||(t&&P(t.$$.fragment,a),o=!0)},o(a){t&&T(t.$$.fragment,a),o=!1},d(a){a&&N(n),t&&ee(t,a)}}}function Cm(e){let t,n,o,r=e[0].length>1&&fs(e),i=e[1]&&ds(e);return{c(){r&&r.c(),t=D(),i&&i.c(),n=Ee()},m(l,a){r&&r.m(l,a),O(l,t,a),i&&i.m(l,a),O(l,n,a),o=!0},p(l,[a]){l[0].length>1?r?r.p(l,a):(r=fs(l),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),l[1]?i?(i.p(l,a),a&2&&P(i,1)):(i=ds(l),i.c(),P(i,1),i.m(n.parentNode,n)):i&&(_e(),T(i,1,1,()=>{i=null}),ve())},i(l){o||(P(i),o=!0)},o(l){T(i),o=!1},d(l){r&&r.d(l),l&&N(t),i&&i.d(l),l&&N(n)}}}function km(e,t,n){let o,r;const i=Fe([]);ae(e,i,f=>n(0,o=f));const l=Fe(null);ae(e,l,f=>n(1,r=f));const a={Chatbot:od,Dropdown:ld,Feedback:Sm,Compare:wh,RetrievalQA:gm},s=f=>{l.set(f)};return fetch("/components").then(f=>{if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);return f.json()}).then(f=>{i.set(f),l.set(f[0])}).catch(f=>{console.log("Fetch request failed",f)}),[o,r,i,l,a,s,f=>s(f)]}class $m extends de{constructor(t){super(),pe(this,t,km,Cm,ce,{})}}new $m({target:document.getElementById("app")});
